

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pywws.Localisation &mdash; pywws 13.09_r1069 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13.09_r1069',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/pywws_logo.ico"/>
    <link rel="top" title="pywws 13.09_r1069 documentation" href="../index.html" />
    <link rel="up" title="Programmes et des modules Python" href="index.html" />
    <link rel="next" title="pywws.calib" href="pywws.calib.html" />
    <link rel="prev" title="pywws.TimeZone" href="pywws.TimeZone.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="pywws.calib.html" title="pywws.calib"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="pywws.TimeZone.html" title="pywws.TimeZone"
             accesskey="P">précédent</a> |</li>
        <li><a href="../index.html">pywws 13.09_r1069 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Programmes et des modules Python</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pywws.Localisation">
<span id="pywws-localisation"></span><h1>pywws.Localisation<a class="headerlink" href="#module-pywws.Localisation" title="Lien permanent vers ce titre">¶</a></h1>
<p>Localisation.py - fournit des traductions de phrases en langue locale</p>
<div class="highlight-python"><pre>usage: python -m pywws.Localisation [options]
options are:
 -h       or  --help       display this help
 -t code  or  --test code  test use of a language code</pre>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>Certains modules pywws, comme WindRose.py, peuvent automatiquement utiliser la langue locale pour des choses telles que les directions du vent. Le module Localisation.py, surtout copié à partir d&#8217;exemples dans la documentation Python, permet cela.</p>
<p>Traduction de pywws se fait en deux parties - traduisant les phrases comme &#8216;rising very rapidly&#8217;, en changeant le &#8220;terme local&#8221; qui contrôle des choses comme le noms des mois et la représentation des nombres (par exemple le nombre &#8216;23, 2&#8217; au lieu de &#8216;23 .2 &#8216;). Sur certains ordinateurs, il peut ne pas être possible de définir les paramètres régionaux, mais les chaînes traduites peuvent encore être utilisées.</p>
</div>
<div class="section" id="using-a-different-language">
<h2>En utilisant une langue différente<a class="headerlink" href="#using-a-different-language" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le langage utilisé par pywws est situé dans la section <tt class="docutils literal"><span class="pre">[config]</span></tt> du fichier <tt class="docutils literal"><span class="pre">weather.ini</span></tt>. Cela peut être un code de langue à deux lettres, comme <tt class="docutils literal"><span class="pre">fr</span></tt> (français), ou pouvez spécifier une variante nationale, telle que <tt class="docutils literal"><span class="pre">fr_CA</span></tt> (canadien-français). Il pourrait également s&#8217;agir d&#8217;un jeu de caractères, par exemple <tt class="docutils literal"><span class="pre">de_DE.UTF-8</span></tt>.</p>
<p>Le choix de la langue dépend beaucoup du système, donc Localisation.py peut être exécuté comme un programme autonome pour tester les codes linguistiques. Un bon point de départ pourrait être, par exemple, votre variable d&#8217;environnement <tt class="docutils literal"><span class="pre">LANG</span></tt>:</p>
<div class="highlight-python"><pre>jim@brains:~/Documents/weather/pywws/code$ echo $LANG
en_GB.UTF-8
jim@brains:~/Documents/weather/pywws/code$ python -m pywws.Localisation -t en_GB.UTF-8
Locale changed from (None, None) to ('en_GB', 'UTF8')
Translation set OK
Locale
  decimal point: 23.2
  date &amp; time: Friday, 14 October (14/10/11 13:02:00)
Translations
  'NNW' =&gt; 'NNW'
  'rising very rapidly' =&gt; 'rising very rapidly'
  'Rain at times, very unsettled' =&gt; 'Rain at times, very unsettled'
jim@brains:~/Documents/weather/pywws/code$</pre>
</div>
<p>Dans la plupart des cas, pas plus que d&#8217;un code à deux lettres n&#8217;est requis:</p>
<div class="highlight-python"><pre>jim@brains:~/Documents/weather/pywws/code$ python -m pywws.Localisation -t fr
Locale changed from (None, None) to ('fr_FR', 'UTF8')
Translation set OK
Locale
  decimal point: 23,2
  date &amp; time: vendredi, 14 octobre (14/10/2011 13:04:44)
Translations
  'NNW' =&gt; 'NNO'
  'rising very rapidly' =&gt; 'en hausse très rapide'
  'Rain at times, very unsettled' =&gt; 'Quelques précipitations, très perturbé'
jim@brains:~/Documents/weather/pywws/code$</pre>
</div>
<p>Si vous essayez une langue non prise en charge, pywws reprend l&#8217;anglais:</p>
<div class="highlight-python"><pre>jim@brains:~/Documents/weather/pywws/code$ python -m pywws.Localisation -t ja
Failed to set locale: ja
No translation file found for: ja
Locale
  decimal point: 23.2
  date &amp; time: Friday, 14 October (10/14/11 13:08:49)
Translations
  'NNW' =&gt; 'NNW'
  'rising very rapidly' =&gt; 'rising very rapidly'
  'Rain at times, very unsettled' =&gt; 'Rain at times, very unsettled'
jim@brains:~/Documents/weather/pywws/code$</pre>
</div>
<p>Une fois que vous avez trouvé un code de langue approprié qui fonctionne, vous pouvez demander à pywws de l&#8217;utiliser en éditant votre fichier <tt class="docutils literal"><span class="pre">weather.ini</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">config</span><span class="p">]</span>
<span class="n">language</span> <span class="o">=</span> <span class="n">fr</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-a-new-translation">
<h2>Créer une nouvelle traduction<a class="headerlink" href="#creating-a-new-translation" title="Lien permanent vers ce titre">¶</a></h2>
<p>S&#8217;il n&#8217;y a aucun fichier de traduction pour votre langue préférée, alors vous devez en créer un. Voir <a class="reference internal" href="../guides/language.html"><em>Comment utiliser pywws dans une autre langue</em></a> pour obtenir les instructions détaillées.</p>
<p class="rubric">Fonctions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pywws.Localisation.SetApplicationLanguage" title="pywws.Localisation.SetApplicationLanguage"><tt class="xref py py-obj docutils literal"><span class="pre">SetApplicationLanguage</span></tt></a>(params)</td>
<td>Défini la langue locale et la traduction pour un programme pywws.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pywws.Localisation.SetLocale" title="pywws.Localisation.SetLocale"><tt class="xref py py-obj docutils literal"><span class="pre">SetLocale</span></tt></a>(lang)</td>
<td>Régle la langue &#8216;locale&#8217; utilisée par un programme.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pywws.Localisation.SetTranslation" title="pywws.Localisation.SetTranslation"><tt class="xref py py-obj docutils literal"><span class="pre">SetTranslation</span></tt></a>(lang)</td>
<td>Régle la traduction utilisée par les modules (certains) pywws.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pywws.Localisation.main" title="pywws.Localisation.main"><tt class="xref py py-obj docutils literal"><span class="pre">main</span></tt></a>([argv])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="pywws.Localisation.SetLocale">
<tt class="descclassname">pywws.Localisation.</tt><tt class="descname">SetLocale</tt><big>(</big><em>lang</em><big>)</big><a class="reference internal" href="../_modules/pywws/Localisation.html#SetLocale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Localisation.SetLocale" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Régle la langue &#8216;locale&#8217; utilisée par un programme.</p>
<p>Cela affecte toute l&#8217;application, en changeant la façon dont les dates, les devises et les chiffres sont représentés. Il ne devrait pas être appelée à partir d&#8217;une routine de bibliothèque qui peut être utilisée dans un autre programme.</p>
<p>Le paramètre <tt class="docutils literal"><span class="pre">lang</span></tt> peut être n&#8217;importe quelle chaîne reconnue par <tt class="docutils literal"><span class="pre">locale.setlocale</span> <span class="pre">()</span></tt>, par exemple <tt class="docutils literal"><span class="pre">en</span></tt>, <tt class="docutils literal"><span class="pre">fr_FR</span></tt> ou <tt class="docutils literal"><span class="pre">fr_FR.UTF-8</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>lang</strong> (<em>string</em>) &#8211; language code.</td>
</tr>
<tr class="field-even field"><th class="field-name">Retourne:</th><td class="field-body">success status.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type retourné:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pywws.Localisation.SetTranslation">
<tt class="descclassname">pywws.Localisation.</tt><tt class="descname">SetTranslation</tt><big>(</big><em>lang</em><big>)</big><a class="reference internal" href="../_modules/pywws/Localisation.html#SetTranslation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Localisation.SetTranslation" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Régle la traduction utilisée par les modules (certains) pywws.</p>
<p>Ceci définit l&#8217;objet de la traduction <tt class="docutils literal"><span class="pre">Localisation.translation</span></tt> à utiliser une langue particulière.</p>
<p>Le paramètre <tt class="docutils literal"><span class="pre">lang</span></tt> peut être une chaîne sous la forme <tt class="docutils literal"><span class="pre">en</span></tt>, `` fr_FR`` ou <tt class="docutils literal"><span class="pre">fr_FR.UTF-8</span></tt>. Tout ce qui suit un caractère <tt class="docutils literal"><span class="pre">.</span></tt> est ignoré. Dans le cas d&#8217;une chaîne telle que <tt class="docutils literal"><span class="pre">fr_FR</span></tt>, la routine va rechercher un fichier de langue <tt class="docutils literal"><span class="pre">fr_FR</span></tt> avant de chercher un <tt class="docutils literal"><span class="pre">fr</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>lang</strong> (<em>string</em>) &#8211; language code.</td>
</tr>
<tr class="field-even field"><th class="field-name">Retourne:</th><td class="field-body">success status.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type retourné:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pywws.Localisation.SetApplicationLanguage">
<tt class="descclassname">pywws.Localisation.</tt><tt class="descname">SetApplicationLanguage</tt><big>(</big><em>params</em><big>)</big><a class="reference internal" href="../_modules/pywws/Localisation.html#SetApplicationLanguage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Localisation.SetApplicationLanguage" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Défini la langue locale et la traduction pour un programme pywws.</p>
<p>Cette fonction permet de lire la langue à partir du fichier de configuration, puis appel les fonctions <a class="reference internal" href="#pywws.Localisation.SetLocale" title="pywws.Localisation.SetLocale"><tt class="xref py py-func docutils literal"><span class="pre">SetLocale()</span></tt></a> et <a class="reference internal" href="#pywws.Localisation.SetTranslation" title="pywws.Localisation.SetTranslation"><tt class="xref py py-func docutils literal"><span class="pre">SetTranslation()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>params</strong> (<em>object</em>) &#8211; a <a class="reference internal" href="pywws.DataStore.html#pywws.DataStore.params" title="pywws.DataStore.params"><tt class="xref py py-class docutils literal"><span class="pre">pywws.DataStore.params</span></tt></a> object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pywws.Localisation.main">
<tt class="descclassname">pywws.Localisation.</tt><tt class="descname">main</tt><big>(</big><em>argv=None</em><big>)</big><a class="reference internal" href="../_modules/pywws/Localisation.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Localisation.main" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pywws_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">pywws.Localisation</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#using-a-different-language">En utilisant une langue différente</a></li>
<li><a class="reference internal" href="#creating-a-new-translation">Créer une nouvelle traduction</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="pywws.TimeZone.html"
                        title="Chapitre précédent">pywws.TimeZone</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="pywws.calib.html"
                        title="Chapitre suivant">pywws.calib</a></p>
<div id="searchbox" style="display: none">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="pywws.calib.html" title="pywws.calib"
             >suivant</a> |</li>
        <li class="right" >
          <a href="pywws.TimeZone.html" title="pywws.TimeZone"
             >précédent</a> |</li>
        <li><a href="../index.html">pywws 13.09_r1069 documentation</a> &raquo;</li>
          <li><a href="index.html" >Programmes et des modules Python</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-13, Jim Easterbrook.
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>