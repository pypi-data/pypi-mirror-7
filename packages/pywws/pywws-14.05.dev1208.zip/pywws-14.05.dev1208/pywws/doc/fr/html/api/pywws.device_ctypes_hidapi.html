

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pywws.device_ctypes_hidapi &mdash; pywws 13.09_r1069 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13.09_r1069',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/pywws_logo.ico"/>
    <link rel="top" title="pywws 13.09_r1069 documentation" href="../index.html" />
    <link rel="up" title="Programmes et des modules Python" href="index.html" />
    <link rel="next" title="pywws.device_cython_hidapi" href="pywws.device_cython_hidapi.html" />
    <link rel="prev" title="pywws.WeatherStation" href="pywws.WeatherStation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="pywws.device_cython_hidapi.html" title="pywws.device_cython_hidapi"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="pywws.WeatherStation.html" title="pywws.WeatherStation"
             accesskey="P">précédent</a> |</li>
        <li><a href="../index.html">pywws 13.09_r1069 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Programmes et des modules Python</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pywws.device_ctypes_hidapi">
<span id="pywws-device-ctypes-hidapi"></span><h1>pywws.device_ctypes_hidapi<a class="headerlink" href="#module-pywws.device_ctypes_hidapi" title="Lien permanent vers ce titre">¶</a></h1>
<p>Interface USB de bas niveau de la station météo, utilisant ctype pour accéder hidapi.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce module gère la communication de bas niveau avec la station météo via la bibliothèque <a class="reference external" href="http://docs.python.org/2/library/ctypes.html">ctypes</a> et la librairie <a class="reference external" href="https://github.com/signal11/hidapi">hidapi</a> . Les modules alternatifs,  <a class="reference internal" href="pywws.device_cython_hidapi.html"><em>pywws.device_cython_hidapi</em></a> and <a class="reference internal" href="pywws.device_pyusb.html"><em>pywws.device_pyusb</em></a>,  utilisent différentes bibliothèques. Le choix du module à utiliser dépend de la disponibilité des bibliothèques selon votre ordinateur.</p>
<p>Les utilisateurs de versions récentes de Mac OS n&#8217;ont ont moins de choix. Le système d&#8217;exploitation rend très difficile l&#8217;accès direct aux périphériques HID (comme la station météo), de sorte que la bibliothèque <tt class="docutils literal"><span class="pre">hidapi</span></tt> doit être utilisée.</p>
<p>Les utilisateurs de OpenWRT et plateformes embarquées Linux similaires ne seront probablement pas en mesure d&#8217;installer <tt class="docutils literal"><span class="pre">ctypes</span></tt> ou <tt class="docutils literal"><span class="pre">cython-hidapi</span></tt> et sont donc contraints d&#8217;utiliser <tt class="docutils literal"><span class="pre">libusb</span></tt> et son interface Python <tt class="docutils literal"><span class="pre">PyUSB</span></tt>.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Certains de ces logiciels peuvent être déjà installés sur votre machine, il faut vérifier avant de télécharger les sources et les compiler vous-même.</p>
<ol class="arabic">
<li><p class="first">Installation de hidapi.</p>
<p>Créez une copie locale du dépôt git, placez vous dans ce nouveau répertoire, puis suivez les instructions du fichier <tt class="docutils literal"><span class="pre">README.txt</span></tt>:</p>
<div class="highlight-python"><pre>git clone https://github.com/signal11/hidapi.git
cd hidapi
more README.txt</pre>
</div>
</li>
<li><p class="first">Installation ctypes.</p>
<p>Ceux-ci devraient être disponibles sous forme de paquets pour votre système d&#8217;exploitation. Par exemple:</p>
<div class="highlight-python"><pre>sudo zypper install python-ctypes</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="testing">
<h2>Vérification<a class="headerlink" href="#testing" title="Lien permanent vers ce titre">¶</a></h2>
<p>Exécute <tt class="docutils literal"><span class="pre">TestWeatherStation.py</span></tt> avec un niveau de message accru  de sorte qu&#8217;il indique quel module d&#8217;accès au dispositif USB est utilisé:</p>
<div class="highlight-python"><pre>python TestWeatherStation.py -vv
18:10:27:pywws.WeatherStation.CUSBDrive:using pywws.device_ctypes_hidapi
0000 55 aa ff ff ff ff ff ff ff ff ff ff ff ff ff ff 05 20 01 51 11 00 00 00 81 00 00 07 01 00 d0 56
0020 61 1c 61 1c 00 00 00 00 00 00 00 12 02 14 18 09 41 23 c8 00 32 80 47 2d 2c 01 2c 81 5e 01 1e 80
0040 a0 00 c8 80 a0 28 80 25 a0 28 80 25 03 36 00 05 6b 00 00 0a 00 f4 01 18 00 00 00 00 00 00 00 00
0060 00 00 54 1c 63 0a 2f 01 71 00 7a 01 59 80 7a 01 59 80 e4 00 f5 ff 69 54 00 00 fe ff 00 00 b3 01
0080 0c 02 d0 ff d3 ff 5a 24 d2 24 dc 17 00 11 09 06 15 40 10 03 07 22 18 10 08 11 08 30 11 03 07 12
00a0 36 08 07 24 17 17 11 02 28 10 10 09 06 30 14 29 12 02 11 06 57 09 06 30 14 29 12 02 11 06 57 08
00c0 08 31 14 30 12 02 14 18 04 12 02 01 10 12 11 09 13 17 19 11 08 21 16 53 11 09 13 17 19 12 01 18
00e0 07 17 10 02 22 11 06 11 11 06 13 12 11 11 06 13 12 11 11 10 11 38 11 11 10 11 38 10 02 22 14 43</pre>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Lien permanent vers ce titre">¶</a></h2>
<p class="rubric">Fonctions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">find_library</span></tt>(name)</td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pywws.device_ctypes_hidapi.USBDevice" title="pywws.device_ctypes_hidapi.USBDevice"><tt class="xref py py-obj docutils literal"><span class="pre">USBDevice</span></tt></a>(vendor_id,&nbsp;product_id)</td>
<td>Accès de bas niveau au périphérique USB via la bibliothèque hidapi.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pywws.device_ctypes_hidapi.USBDevice">
<em class="property">class </em><tt class="descclassname">pywws.device_ctypes_hidapi.</tt><tt class="descname">USBDevice</tt><big>(</big><em>vendor_id</em>, <em>product_id</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_ctypes_hidapi.html#USBDevice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_ctypes_hidapi.USBDevice" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Accès de bas niveau au périphérique USB via la bibliothèque hidapi.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>idVendor</strong> (<em>int</em>) &#8211; the USB &#8220;vendor ID&#8221; number, for example 0x1941.</li>
<li><strong>idProduct</strong> (<em>int</em>) &#8211; the USB &#8220;product ID&#8221; number, for example 0x8021.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pywws.device_ctypes_hidapi.USBDevice.read_data">
<tt class="descname">read_data</tt><big>(</big><em>size</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_ctypes_hidapi.html#USBDevice.read_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_ctypes_hidapi.USBDevice.read_data" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Reçoit des données de l&#8217;appareil.</p>
<p>Si la lecture échoue pour une raison quelconque, une exception <tt class="xref py py-obj docutils literal"><span class="pre">IOError</span></tt> est levée.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>size</strong> (<em>int</em>) &#8211; the number of bytes to read.</td>
</tr>
<tr class="field-even field"><th class="field-name">Retourne:</th><td class="field-body">the data received.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type retourné:</th><td class="field-body">list(int)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pywws.device_ctypes_hidapi.USBDevice.write_data">
<tt class="descname">write_data</tt><big>(</big><em>buf</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_ctypes_hidapi.html#USBDevice.write_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_ctypes_hidapi.USBDevice.write_data" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Envoyer donnée au service</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>buf</strong> (<em>list(int)</em>) &#8211; the data to send.</td>
</tr>
<tr class="field-even field"><th class="field-name">Retourne:</th><td class="field-body">success status.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type retourné:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pywws_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">pywws.device_ctypes_hidapi</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#testing">Vérification</a></li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="pywws.WeatherStation.html"
                        title="Chapitre précédent">pywws.WeatherStation</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="pywws.device_cython_hidapi.html"
                        title="Chapitre suivant">pywws.device_cython_hidapi</a></p>
<div id="searchbox" style="display: none">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="pywws.device_cython_hidapi.html" title="pywws.device_cython_hidapi"
             >suivant</a> |</li>
        <li class="right" >
          <a href="pywws.WeatherStation.html" title="pywws.WeatherStation"
             >précédent</a> |</li>
        <li><a href="../index.html">pywws 13.09_r1069 documentation</a> &raquo;</li>
          <li><a href="index.html" >Programmes et des modules Python</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-13, Jim Easterbrook.
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>