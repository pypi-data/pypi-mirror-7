

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pywws.device_cython_hidapi &mdash; pywws 13.12.dev1118 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13.12.dev1118',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/pywws_logo.ico"/>
    <link rel="top" title="pywws 13.12.dev1118 documentation" href="../index.html" />
    <link rel="up" title="Programmi Python e moduli" href="../api_index.html" />
    <link rel="next" title="pywws.device_pyusb1" href="pywws.device_pyusb1.html" />
    <link rel="prev" title="pywws.device_ctypes_hidapi" href="pywws.device_ctypes_hidapi.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigazione</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Indice generale"
             accesskey="I">indice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >moduli</a> |</li>
        <li class="right" >
          <a href="pywws.device_pyusb1.html" title="pywws.device_pyusb1"
             accesskey="N">successivo</a> |</li>
        <li class="right" >
          <a href="pywws.device_ctypes_hidapi.html" title="pywws.device_ctypes_hidapi"
             accesskey="P">precedente</a> |</li>
        <li><a href="../index.html">pywws 13.12.dev1118 documentation</a> &raquo;</li>
          <li><a href="../api_index.html" accesskey="U">Programmi Python e moduli</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pywws.device_cython_hidapi">
<span id="pywws-device-cython-hidapi"></span><h1>pywws.device_cython_hidapi<a class="headerlink" href="#module-pywws.device_cython_hidapi" title="link permanente per questa intestazione">¶</a></h1>
<p>Interfaccia di basso livello USB della stazione meteo, tramite cython-hidapi.</p>
<div class="section" id="introduction">
<h2>Introduzione<a class="headerlink" href="#introduction" title="link permanente per questa intestazione">¶</a></h2>
<p>Questo modulo gestisce la comunicazione di livello basso con la stazione meteo tramite la libreria <a class="reference external" href="https://github.com/gbishop/cython-hidapi">cython-hidapi</a>. Un modulo alternativo, <a class="reference internal" href="pywws.device_pyusb.html"><em>pywws.device_pyusb</em></a>, utilizza la libreria <a class="reference external" href="http://sourceforge.net/apps/trac/pyusb/">PyUSB</a>. La scelta di quale modulo utilizzare dipende da quali librerie sono disponibili per il tuo computer.</p>
<p>Gli utenti delle recenti versioni di Mac OS non hanno altra scelta. Il sistema operativo rende molto difficile accedere direttamente, ai dispositivi HID (come la stazione meteorologica) così la libreria <tt class="docutils literal"><span class="pre">hidapi</span></tt> deve essere usata.  <tt class="docutils literal"><span class="pre">cython-hidapi</span></tt> è un&#8217;interfaccia Python per quella libreria.</p>
<p>Gli utenti di OpenWRT e simili piattaforme Linux embedded probabilmente non sono in grado di installare <tt class="docutils literal"><span class="pre">cython-hidapi</span></tt>, così sono costretti ad usare <tt class="docutils literal"><span class="pre">libusb</span></tt> e la sua interfaccia Python <tt class="docutils literal"><span class="pre">PyUSB</span></tt>.</p>
</div>
<div class="section" id="installation">
<h2>Installazione<a class="headerlink" href="#installation" title="link permanente per questa intestazione">¶</a></h2>
<p>Alcuni di questi software potrebbero essere già installati sulla vostra macchina, quindi controllare prima di scaricare i sorgenti e compilarli da te.</p>
<ol class="arabic">
<li><p class="first">Installazione hidapi</p>
<p>Creare una copia locale del repository git, passare alla nuova directory e quindi seguire le istruzioni in <tt class="docutils literal"><span class="pre">README.txt</span></tt>:</p>
<div class="highlight-python"><pre>git clone https://github.com/signal11/hidapi.git
cd hidapi
more README.txt</pre>
</div>
</li>
<li><p class="first">Installare cython.</p>
<p>Questo dovrebbe essere disponibile come pacchetto per il sistema operativo. Ad esempio:</p>
<div class="highlight-python"><pre>sudo apt-get install cython</pre>
</div>
</li>
<li><p class="first">Installare cython-hidapi.</p>
<p>Anche questo va scaricato e installato:</p>
<div class="highlight-python"><pre>git clone https://github.com/gbishop/cython-hidapi.git
cd cython-hidapi
python setup.py build
sudo python setup.py install</pre>
</div>
<p>Sostituire <tt class="docutils literal"><span class="pre">setup.py</span></tt> con <tt class="docutils literal"><span class="pre">setup-mac.py</span></tt> o <tt class="docutils literal"><span class="pre">setup-windows.py</span></tt> se si utilizza Mac OS o Windows.</p>
</li>
</ol>
</div>
<div class="section" id="testing">
<h2>Collaudo<a class="headerlink" href="#testing" title="link permanente per questa intestazione">¶</a></h2>
<p>Eseguire <tt class="docutils literal"><span class="pre">TestWeatherStation.py</span></tt> con un livello di dettaglio maggiore così segnala quale modulo USB di accesso al dispositivo viene usato:</p>
<div class="highlight-python"><pre>python TestWeatherStation.py -vv
18:10:27:pywws.WeatherStation.CUSBDrive:using pywws.device_cython_hidapi
0000 55 aa ff ff ff ff ff ff ff ff ff ff ff ff ff ff 05 20 01 51 11 00 00 00 81 00 00 07 01 00 d0 56
0020 61 1c 61 1c 00 00 00 00 00 00 00 12 02 14 18 09 41 23 c8 00 32 80 47 2d 2c 01 2c 81 5e 01 1e 80
0040 a0 00 c8 80 a0 28 80 25 a0 28 80 25 03 36 00 05 6b 00 00 0a 00 f4 01 18 00 00 00 00 00 00 00 00
0060 00 00 54 1c 63 0a 2f 01 71 00 7a 01 59 80 7a 01 59 80 e4 00 f5 ff 69 54 00 00 fe ff 00 00 b3 01
0080 0c 02 d0 ff d3 ff 5a 24 d2 24 dc 17 00 11 09 06 15 40 10 03 07 22 18 10 08 11 08 30 11 03 07 12
00a0 36 08 07 24 17 17 11 02 28 10 10 09 06 30 14 29 12 02 11 06 57 09 06 30 14 29 12 02 11 06 57 08
00c0 08 31 14 30 12 02 14 18 04 12 02 01 10 12 11 09 13 17 19 11 08 21 16 53 11 09 13 17 19 12 01 18
00e0 07 17 10 02 22 11 06 11 11 06 13 12 11 11 06 13 12 11 11 10 11 38 11 11 10 11 38 10 02 22 14 43</pre>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="link permanente per questa intestazione">¶</a></h2>
<p class="rubric">Classi</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pywws.device_cython_hidapi.USBDevice" title="pywws.device_cython_hidapi.USBDevice"><tt class="xref py py-obj docutils literal"><span class="pre">USBDevice</span></tt></a>(idVendor,&nbsp;idProduct)</td>
<td>Basso livello di accesso al dispositivo USB tramite libreria cython-hidapi.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pywws.device_cython_hidapi.USBDevice">
<em class="property">class </em><tt class="descclassname">pywws.device_cython_hidapi.</tt><tt class="descname">USBDevice</tt><big>(</big><em>idVendor</em>, <em>idProduct</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_cython_hidapi.html#USBDevice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_cython_hidapi.USBDevice" title="link permanente per questa definizione">¶</a></dt>
<dd><p>Basso livello di accesso al dispositivo USB tramite libreria cython-hidapi.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parametri:</th><td class="field-body"><ul class="first last simple">
<li><strong>idVendor</strong> (<em>int</em>) &#8211; the USB &#8220;vendor ID&#8221; number, for example 0x1941.</li>
<li><strong>idProduct</strong> (<em>int</em>) &#8211; the USB &#8220;product ID&#8221; number, for example 0x8021.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pywws.device_cython_hidapi.USBDevice.read_data">
<tt class="descname">read_data</tt><big>(</big><em>size</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_cython_hidapi.html#USBDevice.read_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_cython_hidapi.USBDevice.read_data" title="link permanente per questa definizione">¶</a></dt>
<dd><p>Riceve i dati dalla stazione meteo.</p>
<p>Se la lettura non riesce per qualche motivo, <tt class="xref py py-obj docutils literal"><span class="pre">IOError</span></tt> l&#8217;eccezione è restituita.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parametri:</th><td class="field-body"><strong>size</strong> (<em>int</em>) &#8211; the number of bytes to read.</td>
</tr>
<tr class="field-even field"><th class="field-name">Ritorna:</th><td class="field-body">the data received.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Tipo di ritorno:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">list(int)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pywws.device_cython_hidapi.USBDevice.write_data">
<tt class="descname">write_data</tt><big>(</big><em>buf</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_cython_hidapi.html#USBDevice.write_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_cython_hidapi.USBDevice.write_data" title="link permanente per questa definizione">¶</a></dt>
<dd><p>Inviare dati al dispositivo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parametri:</th><td class="field-body"><strong>buf</strong> (<em>list(int)</em>) &#8211; the data to send.</td>
</tr>
<tr class="field-even field"><th class="field-name">Ritorna:</th><td class="field-body">success status.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Tipo di ritorno:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pywws_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Tabella dei contenuti</a></h3>
  <ul>
<li><a class="reference internal" href="#">pywws.device_cython_hidapi</a><ul>
<li><a class="reference internal" href="#introduction">Introduzione</a></li>
<li><a class="reference internal" href="#installation">Installazione</a></li>
<li><a class="reference internal" href="#testing">Collaudo</a></li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>

  <h4>Argomento precedente</h4>
  <p class="topless"><a href="pywws.device_ctypes_hidapi.html"
                        title="capitolo precedente">pywws.device_ctypes_hidapi</a></p>
  <h4>Argomento successivo</h4>
  <p class="topless"><a href="pywws.device_pyusb1.html"
                        title="capitolo successivo">pywws.device_pyusb1</a></p>
<div id="searchbox" style="display: none">
  <h3>Ricerca veloce</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Vai" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Inserisci un termine di ricerca un modulo, classe o nome di funzione
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigazione</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Indice generale"
             >indice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >moduli</a> |</li>
        <li class="right" >
          <a href="pywws.device_pyusb1.html" title="pywws.device_pyusb1"
             >successivo</a> |</li>
        <li class="right" >
          <a href="pywws.device_ctypes_hidapi.html" title="pywws.device_ctypes_hidapi"
             >precedente</a> |</li>
        <li><a href="../index.html">pywws 13.12.dev1118 documentation</a> &raquo;</li>
          <li><a href="../api_index.html" >Programmi Python e moduli</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-13, Jim Easterbrook.
      Creato con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>