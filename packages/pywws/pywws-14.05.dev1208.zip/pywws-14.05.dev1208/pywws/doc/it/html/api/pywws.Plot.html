

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pywws.Plot &mdash; pywws 13.12.dev1118 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13.12.dev1118',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/pywws_logo.ico"/>
    <link rel="top" title="pywws 13.12.dev1118 documentation" href="../index.html" />
    <link rel="up" title="Programmi Python e moduli" href="../api_index.html" />
    <link rel="next" title="pywws.WindRose" href="pywws.WindRose.html" />
    <link rel="prev" title="pywws.calib" href="pywws.calib.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigazione</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Indice generale"
             accesskey="I">indice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >moduli</a> |</li>
        <li class="right" >
          <a href="pywws.WindRose.html" title="pywws.WindRose"
             accesskey="N">successivo</a> |</li>
        <li class="right" >
          <a href="pywws.calib.html" title="pywws.calib"
             accesskey="P">precedente</a> |</li>
        <li><a href="../index.html">pywws 13.12.dev1118 documentation</a> &raquo;</li>
          <li><a href="../api_index.html" accesskey="U">Programmi Python e moduli</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pywws.Plot">
<span id="pywws-plot"></span><h1>pywws.Plot<a class="headerlink" href="#module-pywws.Plot" title="link permanente per questa intestazione">¶</a></h1>
<p>Tracciare i grafici dei dati meteo secondo un file di comandi XML</p>
<div class="highlight-python"><pre>usage: python -m pywws.Plot [options] data_dir temp_dir xml_file output_file
options are:
 -h or --help    display this help
data_dir is the root directory of the weather data
temp_dir is a workspace for temporary files e.g. /tmp
xml_file is the name of the source file that describes the plot
output_file is the name of the image file to be created e.g. 24hrs.png</pre>
</div>
<div class="section" id="introduction">
<h2>Introduzione<a class="headerlink" href="#introduction" title="link permanente per questa intestazione">¶</a></h2>
<p>Come Template.py questo è uno dei più difficili moduli software da utilizzare della stazione meteo. Traccia un grafico o set di grafici di dati meteo. Quasi tutto ciò che riguarda il grafico è controllato da un file XML. Mi riferisco a questi file come modelli, ma non sono modelli nello stesso modo come Template.py viene utilizzato per creare file di testo.</p>
<p>Prima di scrivere i propri file di template grafici, potrebbe essere utile dare un&#8217;occhiata ad alcuni degli esempi nella directory example_graph_templates. Se (come me) non si ha familiarità con XML, vi suggerisco di leggere il W3 Schools XML tutorial.</p>
<div class="section" id="xml-graph-file-syntax">
<h3>Sintassi di file grafico XML<a class="headerlink" href="#xml-graph-file-syntax" title="link permanente per questa intestazione">¶</a></h3>
<p>Qui è il più semplice modello grafico. Esso riporta la temperatura esterna per le ultime 24 ore.</p>
<div class="highlight-python"><pre>&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;graph&gt;
  &lt;plot&gt;
    &lt;subplot&gt;
      &lt;title&gt;Temperature (°C)&lt;/title&gt;
      &lt;ycalc&gt;data['temp_out']&lt;/ycalc&gt;
    &lt;/subplot&gt;
  &lt;/plot&gt;
&lt;/graph&gt;</pre>
</div>
<p>In questo esempio, l&#8217;elemento radice è un elemento grafico, che ha un elemento secondario. Il tracciato secondario contiene un elemento title e un elemento ycalc. Per tracciare più dati sullo stesso sistema di assi (per esempio punto di rugiada e temperatura), possiamo aggiungere più elementi secondari. Per tracciare più di una serie di assi (per esempio la velocità del vento è misurata in unità diverse dalla temperatura) nello stesso file possiamo aggiungere ulteriori elementi del grafico.</p>
<p>La gerarchia degli elementi è mostrata di seguito.</p>
<div class="highlight-python"><pre>graph
    plot
        subplot
            xcalc
            ycalc
            axes
            style
            colour
            title
        bmargin
        yrange
        y2range
        ytics
        y2tics
        ylabel
        ylabelangle
        y2label
        y2labelangle
        grid
        source
        boxwidth
        title
        command
    start
    stop
    duration
    layout
    size
    fileformat
    terminal
    lmargin
    rmargin
    xformat
    xlabel
    dateformat
    xtics
    title</pre>
</div>
</div>
<div class="section" id="graph">
<h3>graph<a class="headerlink" href="#graph" title="link permanente per questa intestazione">¶</a></h3>
<p>Questo è l&#8217;elemento principale del file grafico  XML. Essa non deve essere chiamato &#8220;graph&#8221;, ma ci deve essere esattamente un elemento radice.</p>
</div>
<div class="section" id="plot">
<h3>plot<a class="headerlink" href="#plot" title="link permanente per questa intestazione">¶</a></h3>
<p>Ogni grafico deve contenere almeno un elemento grafico. Un grafico è disegnato per ogni elemento grafico, ma tutti condividono lo stesso asse X.</p>
</div>
<div class="section" id="start">
<h3>start<a class="headerlink" href="#start" title="link permanente per questa intestazione">¶</a></h3>
<p>Questo elemento imposta la data e ora di inizio dell&#8217;asse X. È utilizzato nel costruttore di un oggetto Python data e ora. Ad esempio, per avviare il grafico a mezzogiorno (Ora locale) del giorno di Natale 2008: <tt class="docutils literal"><span class="pre">&lt;start&gt;year=2008,</span> <span class="pre">month=12,</span> <span class="pre">day=25,</span> <span class="pre">hour=12&lt;/start&gt;</span></tt>. Il valore predefinito è (stop - duration).</p>
</div>
<div class="section" id="stop">
<h3>stop<a class="headerlink" href="#stop" title="link permanente per questa intestazione">¶</a></h3>
<p>Questo elemento imposta la data e ora della fine dell&#8217;asse X. È utilizzato nel costruttore di un oggetto Python data e ora. Ad esempio, per terminare il grafico a 10 am (ora locale) del giorno di capodanno: <tt class="docutils literal"><span class="pre">&lt;stop&gt;year=2009,</span> <span class="pre">month=1,</span> <span class="pre">day=1,</span> <span class="pre">hour=10&lt;/stop&gt;</span></tt>. Il valore predefinito è (start + duration), a meno che l&#8217;inizio non è definito in questo caso la data l&#8217;ultima lettura oraria della stazione meteo viene utilizzata.</p>
</div>
<div class="section" id="duration">
<h3>duration<a class="headerlink" href="#duration" title="link permanente per questa intestazione">¶</a></h3>
<p>Questo elemento imposta la misura dell&#8217;asse X del grafico, a meno che non sono definite sia di inizio che fine . È utilizzato nel costruttore di un oggetto Python timedelta . Ad esempio, per tracciare una settimana: <tt class="docutils literal"><span class="pre">&lt;duration&gt;weeks=1&lt;/duration&gt;</span></tt>. Il valore predefinito è ore=24.</p>
</div>
<div class="section" id="layout">
<h3>layout<a class="headerlink" href="#layout" title="link permanente per questa intestazione">¶</a></h3>
<p>Controlla il layout dei grafici. Predefinita è una singola colonna. L&#8217;elemento layout specifica le righe e colonne. Ad esempio: <tt class="docutils literal"><span class="pre">&lt;layout&gt;4,</span> <span class="pre">2&lt;/layout&gt;</span></tt> verrà utilizzata una griglia di 4 righe e 2 colonne.</p>
</div>
<div class="section" id="size">
<h3>size<a class="headerlink" href="#size" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta le dimensioni dell&#8217; immagine contenente il grafico. Valore predefinito (in un layout a colonna singola) è una larghezza di 600 pixel e l&#8217;altezza di 200 pixel per ogni tracciato, così un grafico con i quattro elementi della trama sarebbe 600 x 800 pixel. Qualsiasi elemento deve includersi sia in larghezza che in altezza. Ad esempio: <tt class="docutils literal"><span class="pre">&lt;size&gt;800,</span> <span class="pre">600&lt;/size&gt;</span></tt> produrrà un&#8217;immagine di 800 pixel di larghezza e 600 pixel di altezza.</p>
</div>
<div class="section" id="fileformat">
<h3>fileformat<a class="headerlink" href="#fileformat" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il formato del del file contenente l&#8217;immagine del grafico. Predefinito è png. Dovrebbe fare qualsiasi stringa riconosciuta dalla vostra installazione di gnuplot. Ad esempio: <tt class="docutils literal"><span class="pre">&lt;fileformat&gt;gif&lt;/fileformat&gt;</span></tt> produrrà un&#8217;immagine GIF.</p>
</div>
<div class="section" id="terminal">
<h3>terminal<a class="headerlink" href="#terminal" title="link permanente per questa intestazione">¶</a></h3>
<p>&#8216;terminal&#8217; permette un controllo completo delle impostazioni di gnuplot . È possibile utilizzare questa opzione se si traccia con un insolito formato immagine. Qualsiasi stringa riconosciuta dall&#8217;installazione di gnuplot in &#8216;terminal&#8217; viene eseguita. Ad esempio: <tt class="docutils literal"><span class="pre">&lt;terminal&gt;svg</span> <span class="pre">enhanced</span> <span class="pre">font</span> <span class="pre">&quot;arial,9&quot;</span> <span class="pre">size</span> <span class="pre">600,800</span> <span class="pre">dynamic</span> <span class="pre">rounded&lt;/terminal&gt;</span></tt>. Questa impostazione sovrascrive le dimensioni del carattere e la dimensione del grafico.</p>
</div>
<div class="section" id="lmargin">
<h3>lmargin<a class="headerlink" href="#lmargin" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il margine sinistro dei tracciati, cioè la distanza dall&#8217;asse sinistro dal bordo sinistro della zona di immagine. Secondo la documentazione di gnuplot le unità di lmargin sono le larghezze di carattere. Il valore di default è 5, che dovrebbe apparire su OK nella maggior parte dei casi.</p>
</div>
<div class="section" id="rmargin">
<h3>rmargin<a class="headerlink" href="#rmargin" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il margine destro dei tracciati, cioè la distanza tra l&#8217;asse di destra e il bordo destro dell&#8217;area immagine. Secondo la documentazione di gnuplot le unità di rmargin sono le larghezze di carattere. Il valore predefinito è -1, che imposta la definizione automatica.</p>
</div>
<div class="section" id="xformat">
<h3>xformat<a class="headerlink" href="#xformat" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il formato delle etichette xtic data / ora. Il valore è una stringa in formato strftime. Dipende dalla durata grafico: se 24 ore o meno è &#8220;%H%M&#8221;, da 24 ore a 7 giorni è &#8220;%a %d&#8221; e 7 giorni o più  è &#8220;%Y/%m/%d&#8221;.</p>
</div>
<div class="section" id="xlabel">
<h3>xlabel<a class="headerlink" href="#xlabel" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta l&#8217;etichetta dell&#8217;asse X. Il valore è una stringa in formato strftime. Dipende dalla durata grafico: Se 24 ore o meno è &#8220;Time (%Z)&#8221;, da 24 ore a 7 giorni è &#8220;Day&#8221; e 7 giorni o più  è &#8220;Date&#8221;.</p>
</div>
<div class="section" id="dateformat">
<h3>dateformat<a class="headerlink" href="#dateformat" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il formato delle etichette di data ad ogni estremità dell&#8217;asse X. Il valore è una stringa in formato strftime. L&#8217;impostazione predefinita è &#8220;%Y/%m/%d&#8221;. L&#8217;etichetta a destra del grafico è elaborato solo se diversa dalla sinistra. Per non avere etichette, impostare un formato vuoto: <tt class="docutils literal"><span class="pre">&lt;dateformat&gt;&lt;/dateformat&gt;</span></tt></p>
</div>
<div class="section" id="xtics">
<h3>xtics<a class="headerlink" href="#xtics" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta la spaziatura dei &#8220;tic&#8221; i segni sull&#8217;asse X. Il valore è un numero intero di ore. L&#8217;impostazione predefinita è di consentire a gnuplot di impostare un intervallo appropriato.</p>
</div>
<div class="section" id="title">
<h3>title<a class="headerlink" href="#title" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il titolo del grafico. Una singola linea di testo, per esempio: <tt class="docutils literal"><span class="pre">&lt;title&gt;Today's</span> <span class="pre">weather&lt;/title&gt;</span></tt>. Questo titolo appare al vertice del grafico, fuori di qualsiasi area del tracciato.</p>
</div>
<div class="section" id="subplot">
<h3>subplot<a class="headerlink" href="#subplot" title="link permanente per questa intestazione">¶</a></h3>
<p>Ogni elemento grafico deve contenere almeno un elemento sottotrama. Una traccia a parte è disegnata per ogni elemento sottotrama, ma tutti condividono gli stessi assi X e Y.</p>
</div>
<div class="section" id="bmargin">
<h3>bmargin<a class="headerlink" href="#bmargin" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il margine inferiore, ossia la distanza tra l&#8217;asse X e il bordo inferiore del grafico (o la trama successiva). L&#8217;impostazione predefinita è quella di lasciare a gnuplot di regolare automaticamente, che funziona bene per la maggior parte dei casi, ma si potrebbe desiderare di mettere a punto il valore per soddisfare la vostra installazione.</p>
<p>Il valore ammesso è un qualsiasi numero reale non negativo. Sulla mia configurazione 0.9 è un buon valore, impostare la seguente: <tt class="docutils literal"><span class="pre">&lt;bmargin&gt;0.9&lt;/bmargin&gt;</span></tt>.</p>
</div>
<div class="section" id="yrange">
<h3>yrange<a class="headerlink" href="#yrange" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta i limiti inferiore e superiore dell&#8217; asse Y  (sinistra). Il valore compreso da gnuplot, è tipicamente una coppia di numeri. L&#8217;impostazione predefinita è quella di consentire a gnuplot di impostare i valori appropriati, ed è improbabile che è quello che volete. Ad esempio, per tracciare il tipico grafico UK temperature senza nessun valore fuori del grafico: <tt class="docutils literal"><span class="pre">&lt;yrange&gt;-10,</span> <span class="pre">30&lt;/yrange&gt;</span></tt>. Nota che le virgole sono convertiti in due punti, in modo che `` &lt;yrange&gt; -10:30 &lt;/ YRange&gt; `` è equivalente.</p>
<p>È possibile utilizzare un asterisco per lasciare a gnuplot scegliere un valore adeguato. Ad esempio, per avere la scala automatica del valore superiore mentre fissa il valore inferiore a zero, usare <tt class="docutils literal"><span class="pre">&lt;yrange&gt;0:*&lt;/yrange&gt;</span></tt>.</p>
</div>
<div class="section" id="y2range">
<h3>y2range<a class="headerlink" href="#y2range" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta i limiti inferiore e superiore dell&#8217; asse Y di destra. Predefinito per il lato dell&#8217;asse Y destro è essere uguale all&#8217;asse di sinistra, ma per impostare un diverso range è utile in un grafico a doppio tracciato.</p>
</div>
<div class="section" id="ytics">
<h3>ytics<a class="headerlink" href="#ytics" title="link permanente per questa intestazione">¶</a></h3>
<p>Controlla il &#8220;tic&#8221; segni sulla asse Y di sinistra. Il valore può essere tutto ciò che è compreso da gnuplot. Ad esempio, per impostare la spaziatura di 45 punti uso <tt class="docutils literal"><span class="pre">&lt;y2tics&gt;('N'</span> <span class="pre">0,</span> <span class="pre">'E'</span> <span class="pre">90,</span> <span class="pre">'S'</span> <span class="pre">180,</span> <span class="pre">'W'</span> <span class="pre">270,</span> <span class="pre">'N'</span> <span class="pre">360)&lt;/y2tics&gt;</span></tt>.</p>
</div>
<div class="section" id="y2tics">
<h3>y2tics<a class="headerlink" href="#y2tics" title="link permanente per questa intestazione">¶</a></h3>
<p>Controlla il &#8220;tic&#8221; dei segni sul proprio asse. Il formato è lo stesso di quello per ytics. Comportamento predefinito è di copiare i segni di sinistra, ma senza etichette.</p>
</div>
<div class="section" id="ylabel">
<h3>ylabel<a class="headerlink" href="#ylabel" title="link permanente per questa intestazione">¶</a></h3>
<p>Aggiunge un&#8217;etichetta a (sinistra) asse Y. Per esempio, quando la temperatura: <tt class="docutils literal"><span class="pre">&lt;ylabel&gt;°C&lt;/ylabel&gt;</span></tt>.  Se si utilizza ylabel probabilmente si desidera regolare lmargin.</p>
</div>
<div class="section" id="ylabelangle">
<h3>ylabelangle<a class="headerlink" href="#ylabelangle" title="link permanente per questa intestazione">¶</a></h3>
<p>Regola l&#8217;angolo (lato sinistro) etichetta asse Y, se dalla versione di gnuplot è supportato. Ad esempio, per scrivere l&#8217;etichetta orizzontalmente: <tt class="docutils literal"><span class="pre">&lt;ylabelangle&gt;90&lt;/ylabelangle&gt;</span></tt>.</p>
</div>
<div class="section" id="y2label">
<h3>y2label<a class="headerlink" href="#y2label" title="link permanente per questa intestazione">¶</a></h3>
<p>Aggiunge un&#8217;etichetta a destra asse Y. Per esempio, quando riportando l&#8217;umidità: <tt class="docutils literal"><span class="pre">&lt;y2label&gt;%&lt;/y2label&gt;</span></tt>.  Questo è usato soprattutto per la stampa a doppi assi grafici. Se si utilizza y2label sarà probabilmente necessario regolare rmargin.</p>
</div>
<div class="section" id="y2labelangle">
<h3>y2labelangle<a class="headerlink" href="#y2labelangle" title="link permanente per questa intestazione">¶</a></h3>
<p>Regola l&#8217;angolo della etichetta a destra asse Y, se è supportato dalla versione di gnuplot. Ad esempio, per scrivere l&#8217;etichetta orizzontalmente: <tt class="docutils literal"><span class="pre">&lt;y2labelangle&gt;90&lt;/y2labelangle&gt;</span></tt>.</p>
</div>
<div class="section" id="grid">
<h3>grid<a class="headerlink" href="#grid" title="link permanente per questa intestazione">¶</a></h3>
<p>Aggiunge una griglia di osservazione. Nella maggior parte dei casi la griglia predefinita di gnuplot è adatta, quindi non è necessario: <tt class="docutils literal"><span class="pre">&lt;grid&gt;&lt;/grid&gt;</span></tt>. Il controllo della griglia è possibile utilizzando una qualsiasi delle opzioni usate da gnuplot. Ad esempio, per le linee della griglia orizzontali è: <tt class="docutils literal"><span class="pre">&lt;grid&gt;ytics&lt;/grid&gt;</span></tt>.</p>
</div>
<div class="section" id="source">
<h3>source<a class="headerlink" href="#source" title="link permanente per questa intestazione">¶</a></h3>
<p>Selezionare i dati meteo da tracciare. I valori consentiti sono <tt class="docutils literal"><span class="pre">&lt;source&gt;raw&lt;/source&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;source&gt;hourly&lt;/source&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;source&gt;daily&lt;/source&gt;</span></tt> e <tt class="docutils literal"><span class="pre">&lt;source&gt;monthly&lt;/source&gt;</span></tt>. L&#8217; impostazione predefinita è <tt class="docutils literal"><span class="pre">raw</span></tt>. Nota che le diverse fonti hanno diversi dizionari di dati, tale scelta ha effetto su ycalc.</p>
</div>
<div class="section" id="boxwidth">
<h3>boxwidth<a class="headerlink" href="#boxwidth" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta la larghezza del &#8220;boxes&#8221;  con i grafici a barre. Si tratta di un valore espressione intero producendo un numero di secondi. Il valore predefinito dipende dalla fonte: raw è 240, hourly è 2800 e ogni daily è 2.800 * 24.</p>
</div>
<div class="section" id="id1">
<h3>title<a class="headerlink" href="#id1" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il titolo della trama. Una singola riga di testo, ad esempio: <tt class="docutils literal"><span class="pre">&lt;title&gt;Temperatura</span> <span class="pre">(°C)&lt;/title&gt;</span></tt>. Questo titolo viene visualizzato all&#8217;interno dell&#8217;area del tracciato, sopra qualsiasi titolo del tracciato.</p>
</div>
<div class="section" id="command">
<h3>command<a class="headerlink" href="#command" title="link permanente per questa intestazione">¶</a></h3>
<p>Esegue qualsiasi comando di gnuplot, subito prima del principale comando &#8220;plot&#8221;. Questa opzione consente agli utenti avanzati di avere maggiore controllo sull&#8217;aspetto grafico. Il valore è qualsiasi comando valido gnuplot, iniziando in genere con il set di comandi. Ad esempio: <tt class="docutils literal"><span class="pre">&lt;command&gt;set</span> <span class="pre">key</span> <span class="pre">tmargin</span> <span class="pre">center</span> <span class="pre">horizontal</span> <span class="pre">width</span> <span class="pre">1</span> <span class="pre">noreverse</span> <span class="pre">enhanced</span> <span class="pre">autotitles</span> <span class="pre">box</span> <span class="pre">linetype</span> <span class="pre">-1</span> <span class="pre">linewidth</span> <span class="pre">1&lt;/command&gt;</span></tt>. (Non mi chiedete che cosa fa questo esempio — io non sono un utente avanzato)</p>
</div>
<div class="section" id="xcalc">
<h3>xcalc<a class="headerlink" href="#xcalc" title="link permanente per questa intestazione">¶</a></h3>
<p>Controlla il posizionamento dei valori sull&#8217;asse X  dei dati tracciati. Il valore predefinito dei dati [&#8216;idx&#8217;] è corretto per la maggior parte dei casi, ma ci sono alcune eccezioni. Ad esempio, durante la stampa dei grafici a barre di pioggia oraria, è bello centrare le barre sui 30 minuti dell&#8217;ora: <tt class="docutils literal"><span class="pre">&lt;xcalc&gt;data['idx'].replace(minute=30,</span> <span class="pre">second=0)&lt;/xcalc&gt;</span></tt>.</p>
</div>
<div class="section" id="ycalc">
<h3>ycalc<a class="headerlink" href="#ycalc" title="link permanente per questa intestazione">¶</a></h3>
<p>Seleziona i dati da stampare. Può essere utilizzata una qualsiasi linea di espressione Python che restituisce un singolo valore a virgola mobile . Nella sua forma più semplice questo seleziona solo un valore dalla &#8220;data&#8221; del dizionario, per esempio: <tt class="docutils literal"><span class="pre">&lt;ycalc&gt;data['temp_out']&lt;/ycalc&gt;</span></tt> traccia la temperatura esterna. Espressioni più complesse sono possibili, e alcune funzioni di supporto sono fornite. Ad esempio:  <tt class="docutils literal"><span class="pre">&lt;ycalc&gt;dew_point(data['temp_out'],</span> <span class="pre">data['hum_out'])&lt;/ycalc&gt;</span></tt> traccia la temperatura esterna del punto di rugiada, e <tt class="docutils literal"><span class="pre">&lt;ycalc&gt;wind_mph(data['wind_ave'])&lt;/ycalc&gt;</span></tt> traccia la velocità media del vento in miglia all&#8217;ora.</p>
<p>Tracciati cumulativi sono anche possibili. Il risultato di ogni calcolo ycalc sono conservati e messi a disposizione per il successivo calcolo dalla variabile last_ycalc. Questo può essere utilizzato con qualsiasi tipo di dati, ma è più utile con le precipitazioni:<tt class="docutils literal"><span class="pre">&lt;ycalc&gt;data['rain']</span> <span class="pre">+</span> <span class="pre">last_ycalc&lt;/ycalc&gt;</span></tt>.</p>
</div>
<div class="section" id="axes">
<h3>axes<a class="headerlink" href="#axes" title="link permanente per questa intestazione">¶</a></h3>
<p>Seleziona quale asse Y i dati è in funzione. Per impostazione predefinita è sull&#8217; asse sinistro, ma l&#8217;asse di destra può essere scelto con: <tt class="docutils literal"><span class="pre">&lt;axes&gt;x1y2&lt;/axes&gt;</span></tt>. Questo può essere utilizzato in combinazione con y2 per tracciare due grandezze indipendenti su un grafico, ad esempio la temperatura e l&#8217;umidità.</p>
</div>
<div class="section" id="style">
<h3>style<a class="headerlink" href="#style" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta lo stile della linea del grafico. Impostazione predefinita è una linea continua, liscia, spessore 1. Per selezionare un grafico a barre: <tt class="docutils literal"><span class="pre">&lt;style&gt;box&lt;/style&gt;</span></tt>. Per selezionare i punti senza una linea di collegamento: <tt class="docutils literal"><span class="pre">&lt;style&gt;+&lt;/style&gt;</span></tt> o <tt class="docutils literal"><span class="pre">&lt;style&gt;x&lt;/style&gt;</span></tt>. Per selezionare uno spessore di linea 3 (per esempio) usate: <tt class="docutils literal"><span class="pre">&lt;style&gt;line</span> <span class="pre">3&lt;/style&gt;</span></tt>. Lo spessore dei punti può essere impostato in un modo simile. Per un controllo completo (per utenti avanzati) un pieno stile gnuplot può essere impostato: <tt class="docutils literal"><span class="pre">&lt;style&gt;smooth</span> <span class="pre">unique</span> <span class="pre">lc</span> <span class="pre">5</span> <span class="pre">lw</span> <span class="pre">3&lt;/style&gt;</span></tt>.</p>
</div>
<div class="section" id="colour">
<h3>colour<a class="headerlink" href="#colour" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il colore del subtracciato a linea o barre. Qualsiasi valore intero è accettato. La mappatura dei colori in numeri è impostato da gnuplot. Valore di default è il colore precedente più uno.</p>
</div>
<div class="section" id="id2">
<h3>title<a class="headerlink" href="#id2" title="link permanente per questa intestazione">¶</a></h3>
<p>Imposta il titolo del secondario. Una singola riga di testo, ad esempio: <tt class="docutils literal"><span class="pre">&lt;title&gt;Temperature</span> <span class="pre">(°C)&lt;/title&gt;</span></tt>. Questo titolo viene visualizzato nell&#8217;area di stampa, accanto a un breve tratto di linea del colore utilizzato per il tracciato.</p>
</div>
</div>
<div class="section" id="detailed-api">
<h2>Dettagli API<a class="headerlink" href="#detailed-api" title="link permanente per questa intestazione">¶</a></h2>
<p class="rubric">Funzioni</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">ApplicationLogger</span></tt>(verbose[,&nbsp;logfile])</td>
<td></td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">apparent_temp</span></tt>(temp,&nbsp;rh,&nbsp;wind)</td>
<td>Calcola la temperatura apparente (sensazione reale), con formula da</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">cadhumidex</span></tt>(temp,&nbsp;humidity)</td>
<td>Calcolo Indice di umidità come per gli standard Canadian Weather Standards</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">dew_point</span></tt>(temp,&nbsp;hum)</td>
<td>Calcola il punto di rugiada, usando la formula da</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">illuminance_wm2</span></tt>(lux)</td>
<td>Conversione approssimativa di illuminazione in lux a radiazione solare in W/m2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pywws.Plot.main" title="pywws.Plot.main"><tt class="xref py py-obj docutils literal"><span class="pre">main</span></tt></a>([argv])</td>
<td></td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">pressure_inhg</span></tt>(hPa)</td>
<td>Converte la pressione da ettopascal/millibar in pollici di mercurio</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">pressure_trend_text</span></tt>(trend)</td>
<td>Convertire in una stringa carattere l&#8217;andamento della pressione, come utilizzata dal UK met office.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">rain_inch</span></tt>(mm)</td>
<td>Converte le precipitazioni da millimetri a pollici</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">temp_f</span></tt>(c)</td>
<td>Converte la temperatura da gradi Celsius a Fahrenheit</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">usaheatindex</span></tt>(temp,&nbsp;humidity,&nbsp;dew)</td>
<td>Calcolare l&#8217;indice di calore secondo Standards USA National Weather Service</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">wind_bft</span></tt>(ms)</td>
<td>Converte i metri al secondo del vento in scala Beaufort</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">wind_chill</span></tt>(temp,&nbsp;wind)</td>
<td>Calcola il vento gelido, usando la formula di</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">wind_kmph</span></tt>(ms)</td>
<td>Converte il vento da metri al secondo a chilometri orari</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">wind_kn</span></tt>(ms)</td>
<td>Converte il vento da metri al secondo a nodi</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">wind_mph</span></tt>(ms)</td>
<td>Converte il vento da metri al secondo a miglia all&#8217;ora</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">winddir_degrees</span></tt>(pts)</td>
<td>Convertire la direzione del vento a 0..15 in gradi</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">winddir_text</span></tt>(pts)</td>
<td>Convertire direzione del vento da 0 .. 15 per i punti della bussola</td>
</tr>
</tbody>
</table>
<p class="rubric">Classi</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pywws.Plot.BasePlotter" title="pywws.Plot.BasePlotter"><tt class="xref py py-obj docutils literal"><span class="pre">BasePlotter</span></tt></a>(params,&nbsp;status,&nbsp;raw_data,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pywws.Plot.GraphPlotter" title="pywws.Plot.GraphPlotter"><tt class="xref py py-obj docutils literal"><span class="pre">GraphPlotter</span></tt></a>(params,&nbsp;status,&nbsp;raw_data,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pywws.Plot.Record" title="pywws.Plot.Record"><tt class="xref py py-obj docutils literal"><span class="pre">Record</span></tt></a></td>
<td></td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">datetime</span></tt></td>
<td>datetime(year, month, day[, hour[, minute[, second[, microsecond[,tzinfo]]]]])</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">timedelta</span></tt></td>
<td>Differenza tra due valori datetime.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pywws.Plot.BasePlotter">
<em class="property">class </em><tt class="descclassname">pywws.Plot.</tt><tt class="descname">BasePlotter</tt><big>(</big><em>params</em>, <em>status</em>, <em>raw_data</em>, <em>hourly_data</em>, <em>daily_data</em>, <em>monthly_data</em>, <em>work_dir</em><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#BasePlotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.BasePlotter" title="link permanente per questa definizione">¶</a></dt>
<dd><dl class="method">
<dt id="pywws.Plot.BasePlotter.DoPlot">
<tt class="descname">DoPlot</tt><big>(</big><em>input_file</em>, <em>output_file</em><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#BasePlotter.DoPlot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.BasePlotter.DoPlot" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pywws.Plot.BasePlotter.GetChildren">
<tt class="descname">GetChildren</tt><big>(</big><em>node</em>, <em>name</em><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#BasePlotter.GetChildren"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.BasePlotter.GetChildren" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pywws.Plot.BasePlotter.GetValue">
<tt class="descname">GetValue</tt><big>(</big><em>node</em>, <em>name</em>, <em>default</em><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#BasePlotter.GetValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.BasePlotter.GetValue" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pywws.Plot.Record">
<em class="property">class </em><tt class="descclassname">pywws.Plot.</tt><tt class="descname">Record</tt><a class="reference internal" href="../_modules/pywws/Plot.html#Record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.Record" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pywws.Plot.GraphPlotter">
<em class="property">class </em><tt class="descclassname">pywws.Plot.</tt><tt class="descname">GraphPlotter</tt><big>(</big><em>params</em>, <em>status</em>, <em>raw_data</em>, <em>hourly_data</em>, <em>daily_data</em>, <em>monthly_data</em>, <em>work_dir</em><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#GraphPlotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.GraphPlotter" title="link permanente per questa definizione">¶</a></dt>
<dd><dl class="method">
<dt id="pywws.Plot.GraphPlotter.GetPlotList">
<tt class="descname">GetPlotList</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#GraphPlotter.GetPlotList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.GraphPlotter.GetPlotList" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pywws.Plot.GraphPlotter.GetDefaultRows">
<tt class="descname">GetDefaultRows</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#GraphPlotter.GetDefaultRows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.GraphPlotter.GetDefaultRows" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pywws.Plot.GraphPlotter.GetDefaultPlotSize">
<tt class="descname">GetDefaultPlotSize</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#GraphPlotter.GetDefaultPlotSize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.GraphPlotter.GetDefaultPlotSize" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pywws.Plot.GraphPlotter.GetPreamble">
<tt class="descname">GetPreamble</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#GraphPlotter.GetPreamble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.GraphPlotter.GetPreamble" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pywws.Plot.GraphPlotter.PlotData">
<tt class="descname">PlotData</tt><big>(</big><em>plot_no</em>, <em>plot</em>, <em>source</em><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#GraphPlotter.PlotData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.GraphPlotter.PlotData" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pywws.Plot.main">
<tt class="descclassname">pywws.Plot.</tt><tt class="descname">main</tt><big>(</big><em>argv=None</em><big>)</big><a class="reference internal" href="../_modules/pywws/Plot.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.Plot.main" title="link permanente per questa definizione">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pywws_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Tabella dei contenuti</a></h3>
  <ul>
<li><a class="reference internal" href="#">pywws.Plot</a><ul>
<li><a class="reference internal" href="#introduction">Introduzione</a><ul>
<li><a class="reference internal" href="#xml-graph-file-syntax">Sintassi di file grafico XML</a></li>
<li><a class="reference internal" href="#graph">graph</a></li>
<li><a class="reference internal" href="#plot">plot</a></li>
<li><a class="reference internal" href="#start">start</a></li>
<li><a class="reference internal" href="#stop">stop</a></li>
<li><a class="reference internal" href="#duration">duration</a></li>
<li><a class="reference internal" href="#layout">layout</a></li>
<li><a class="reference internal" href="#size">size</a></li>
<li><a class="reference internal" href="#fileformat">fileformat</a></li>
<li><a class="reference internal" href="#terminal">terminal</a></li>
<li><a class="reference internal" href="#lmargin">lmargin</a></li>
<li><a class="reference internal" href="#rmargin">rmargin</a></li>
<li><a class="reference internal" href="#xformat">xformat</a></li>
<li><a class="reference internal" href="#xlabel">xlabel</a></li>
<li><a class="reference internal" href="#dateformat">dateformat</a></li>
<li><a class="reference internal" href="#xtics">xtics</a></li>
<li><a class="reference internal" href="#title">title</a></li>
<li><a class="reference internal" href="#subplot">subplot</a></li>
<li><a class="reference internal" href="#bmargin">bmargin</a></li>
<li><a class="reference internal" href="#yrange">yrange</a></li>
<li><a class="reference internal" href="#y2range">y2range</a></li>
<li><a class="reference internal" href="#ytics">ytics</a></li>
<li><a class="reference internal" href="#y2tics">y2tics</a></li>
<li><a class="reference internal" href="#ylabel">ylabel</a></li>
<li><a class="reference internal" href="#ylabelangle">ylabelangle</a></li>
<li><a class="reference internal" href="#y2label">y2label</a></li>
<li><a class="reference internal" href="#y2labelangle">y2labelangle</a></li>
<li><a class="reference internal" href="#grid">grid</a></li>
<li><a class="reference internal" href="#source">source</a></li>
<li><a class="reference internal" href="#boxwidth">boxwidth</a></li>
<li><a class="reference internal" href="#id1">title</a></li>
<li><a class="reference internal" href="#command">command</a></li>
<li><a class="reference internal" href="#xcalc">xcalc</a></li>
<li><a class="reference internal" href="#ycalc">ycalc</a></li>
<li><a class="reference internal" href="#axes">axes</a></li>
<li><a class="reference internal" href="#style">style</a></li>
<li><a class="reference internal" href="#colour">colour</a></li>
<li><a class="reference internal" href="#id2">title</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detailed-api">Dettagli API</a></li>
</ul>
</li>
</ul>

  <h4>Argomento precedente</h4>
  <p class="topless"><a href="pywws.calib.html"
                        title="capitolo precedente">pywws.calib</a></p>
  <h4>Argomento successivo</h4>
  <p class="topless"><a href="pywws.WindRose.html"
                        title="capitolo successivo">pywws.WindRose</a></p>
<div id="searchbox" style="display: none">
  <h3>Ricerca veloce</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Vai" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Inserisci un termine di ricerca un modulo, classe o nome di funzione
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigazione</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Indice generale"
             >indice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >moduli</a> |</li>
        <li class="right" >
          <a href="pywws.WindRose.html" title="pywws.WindRose"
             >successivo</a> |</li>
        <li class="right" >
          <a href="pywws.calib.html" title="pywws.calib"
             >precedente</a> |</li>
        <li><a href="../index.html">pywws 13.12.dev1118 documentation</a> &raquo;</li>
          <li><a href="../api_index.html" >Programmi Python e moduli</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-13, Jim Easterbrook.
      Creato con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>