

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pywws.device_pyusb &mdash; pywws 13.12.dev1118 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13.12.dev1118',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/pywws_logo.ico"/>
    <link rel="top" title="pywws 13.12.dev1118 documentation" href="../index.html" />
    <link rel="up" title="Programmi Python e moduli" href="../api_index.html" />
    <link rel="next" title="pywws.DataStore" href="pywws.DataStore.html" />
    <link rel="prev" title="pywws.device_pyusb1" href="pywws.device_pyusb1.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigazione</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Indice generale"
             accesskey="I">indice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >moduli</a> |</li>
        <li class="right" >
          <a href="pywws.DataStore.html" title="pywws.DataStore"
             accesskey="N">successivo</a> |</li>
        <li class="right" >
          <a href="pywws.device_pyusb1.html" title="pywws.device_pyusb1"
             accesskey="P">precedente</a> |</li>
        <li><a href="../index.html">pywws 13.12.dev1118 documentation</a> &raquo;</li>
          <li><a href="../api_index.html" accesskey="U">Programmi Python e moduli</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pywws.device_pyusb">
<span id="pywws-device-pyusb"></span><h1>pywws.device_pyusb<a class="headerlink" href="#module-pywws.device_pyusb" title="link permanente per questa intestazione">¶</a></h1>
<p>Interfaccia di basso livello USB della stazione meteo tramite PyUSB.</p>
<div class="section" id="introduction">
<h2>Introduzione<a class="headerlink" href="#introduction" title="link permanente per questa intestazione">¶</a></h2>
<p>Questo modulo gestisce la comunicazione di livello basso con la stazione meteo tramite la libreria <a class="reference external" href="http://sourceforge.net/apps/trac/pyusb/">PyUSB</a>. Un modulo alternativo utilizza la libreria, <a class="reference internal" href="pywws.device_cython_hidapi.html"><em>pywws.device_cython_hidapi</em></a>. La scelta di quale modulo utilizzare dipende da quali librerie sono disponibili per il computer.</p>
<p>Gli utenti delle recenti versioni di Mac OS non hanno altra scelta. Il sistema operativo rende molto difficile accedere direttamente, ai dispositivi HID (come la stazione meteorologica) così la libreria <tt class="docutils literal"><span class="pre">hidapi</span></tt> deve essere usata.  <tt class="docutils literal"><span class="pre">cython-hidapi</span></tt> è un&#8217;interfaccia Python per quella libreria.</p>
<p>Gli utenti di OpenWRT e simili piattaforme Linux embedded probabilmente non sono in grado di installare <tt class="docutils literal"><span class="pre">cython-hidapi</span></tt>, così sono costretti ad usare <tt class="docutils literal"><span class="pre">libusb</span></tt> e la sua interfaccia Python <tt class="docutils literal"><span class="pre">PyUSB</span></tt>.</p>
</div>
<div class="section" id="installation">
<h2>Installazione<a class="headerlink" href="#installation" title="link permanente per questa intestazione">¶</a></h2>
<p>Alcuni di questi software potrebbero essere già installati sulla vostra macchina, quindi controllare prima di scaricare i sorgenti e compilarli da te.</p>
<ol class="arabic">
<li><p class="first">Installazione di libusb e PyUSB.</p>
<p>Questi dovrebbero essere disponibili come pacchetti per sistema operativo, ma i loro nomi possono variare. Ad esempio, su Ubuntu Linux:</p>
<div class="highlight-python"><pre>sudo apt-get install libusb-0.1 python-usb</pre>
</div>
<p>Su alcuni sistemi embedded di linux:</p>
<div class="highlight-python"><pre>ipkg install libusb py25-usb</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="testing">
<h2>Collaudo<a class="headerlink" href="#testing" title="link permanente per questa intestazione">¶</a></h2>
<p>Eseguire <tt class="docutils literal"><span class="pre">TestWeatherStation.py</span></tt> con un livello di dettaglio maggiore così segnala quale modulo USB di accesso al dispositivo viene usato:</p>
<div class="highlight-python"><pre>python TestWeatherStation.py -vv
18:28:09:pywws.WeatherStation.CUSBDrive:using pywws.device_pyusb
0000 55 aa ff ff ff ff ff ff ff ff ff ff ff ff ff ff 05 20 01 41 11 00 00 00 81 00 00 0f 05 00 e0 51
0020 03 27 ce 27 00 00 00 00 00 00 00 12 02 14 18 27 41 23 c8 00 00 00 46 2d 2c 01 64 80 c8 00 00 00
0040 64 00 64 80 a0 28 80 25 a0 28 80 25 03 36 00 05 6b 00 00 0a 00 f4 01 12 00 00 00 00 00 00 00 00
0060 00 00 49 0a 63 12 05 01 7f 00 36 01 60 80 36 01 60 80 bc 00 7b 80 95 28 12 26 6c 28 25 26 c8 01
0080 1d 02 d8 00 de 00 ff 00 ff 00 ff 00 00 11 10 06 01 29 12 02 01 19 32 11 09 09 05 18 12 01 22 13
00a0 14 11 11 04 15 04 11 12 17 05 12 11 09 02 15 26 12 02 11 07 05 11 09 02 15 26 12 02 11 07 05 11
00c0 09 10 09 12 12 02 02 12 38 12 02 07 19 00 11 12 16 03 27 12 02 03 11 00 11 12 16 03 27 11 12 26
00e0 21 32 11 12 26 21 32 12 02 06 19 57 12 02 06 19 57 12 02 06 19 57 12 02 06 19 57 12 02 06 19 57</pre>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="link permanente per questa intestazione">¶</a></h2>
<p class="rubric">Classi</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pywws.device_pyusb.USBDevice" title="pywws.device_pyusb.USBDevice"><tt class="xref py py-obj docutils literal"><span class="pre">USBDevice</span></tt></a>(idVendor,&nbsp;idProduct)</td>
<td>Basso livello di accesso al dispositivo USB tramite libreria PyUSB.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pywws.device_pyusb.USBDevice">
<em class="property">class </em><tt class="descclassname">pywws.device_pyusb.</tt><tt class="descname">USBDevice</tt><big>(</big><em>idVendor</em>, <em>idProduct</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_pyusb.html#USBDevice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_pyusb.USBDevice" title="link permanente per questa definizione">¶</a></dt>
<dd><p>Basso livello di accesso al dispositivo USB tramite libreria PyUSB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parametri:</th><td class="field-body"><ul class="first last simple">
<li><strong>idVendor</strong> (<em>int</em>) &#8211; the USB &#8220;vendor ID&#8221; number, for example 0x1941.</li>
<li><strong>idProduct</strong> (<em>int</em>) &#8211; the USB &#8220;product ID&#8221; number, for example 0x8021.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pywws.device_pyusb.USBDevice.read_data">
<tt class="descname">read_data</tt><big>(</big><em>size</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_pyusb.html#USBDevice.read_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_pyusb.USBDevice.read_data" title="link permanente per questa definizione">¶</a></dt>
<dd><p>Riceve i dati dalla stazione meteo.</p>
<p>Se la lettura non riesce per qualche motivo, <tt class="xref py py-obj docutils literal"><span class="pre">IOError</span></tt> l&#8217;eccezione è restituita.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parametri:</th><td class="field-body"><strong>size</strong> (<em>int</em>) &#8211; the number of bytes to read.</td>
</tr>
<tr class="field-even field"><th class="field-name">Ritorna:</th><td class="field-body">the data received.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Tipo di ritorno:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">list(int)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pywws.device_pyusb.USBDevice.write_data">
<tt class="descname">write_data</tt><big>(</big><em>buf</em><big>)</big><a class="reference internal" href="../_modules/pywws/device_pyusb.html#USBDevice.write_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pywws.device_pyusb.USBDevice.write_data" title="link permanente per questa definizione">¶</a></dt>
<dd><p>Inviare dati al dispositivo.</p>
<p>Se la lettura non riesce per qualche motivo, <tt class="xref py py-obj docutils literal"><span class="pre">IOError</span></tt> l&#8217;eccezione è restituita.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parametri:</th><td class="field-body"><strong>buf</strong> (<em>list(int)</em>) &#8211; the data to send.</td>
</tr>
<tr class="field-even field"><th class="field-name">Ritorna:</th><td class="field-body">success status.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Tipo di ritorno:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pywws_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Tabella dei contenuti</a></h3>
  <ul>
<li><a class="reference internal" href="#">pywws.device_pyusb</a><ul>
<li><a class="reference internal" href="#introduction">Introduzione</a></li>
<li><a class="reference internal" href="#installation">Installazione</a></li>
<li><a class="reference internal" href="#testing">Collaudo</a></li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>

  <h4>Argomento precedente</h4>
  <p class="topless"><a href="pywws.device_pyusb1.html"
                        title="capitolo precedente">pywws.device_pyusb1</a></p>
  <h4>Argomento successivo</h4>
  <p class="topless"><a href="pywws.DataStore.html"
                        title="capitolo successivo">pywws.DataStore</a></p>
<div id="searchbox" style="display: none">
  <h3>Ricerca veloce</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Vai" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Inserisci un termine di ricerca un modulo, classe o nome di funzione
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigazione</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Indice generale"
             >indice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >moduli</a> |</li>
        <li class="right" >
          <a href="pywws.DataStore.html" title="pywws.DataStore"
             >successivo</a> |</li>
        <li class="right" >
          <a href="pywws.device_pyusb1.html" title="pywws.device_pyusb1"
             >precedente</a> |</li>
        <li><a href="../index.html">pywws 13.12.dev1118 documentation</a> &raquo;</li>
          <li><a href="../api_index.html" >Programmi Python e moduli</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-13, Jim Easterbrook.
      Creato con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>