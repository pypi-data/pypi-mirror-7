<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Comment utiliser pywws dans une autre langue &mdash; documentation pywws 13.09_r1069</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13.09_r1069',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/pywws_logo.ico"/>
    <link rel="top" title="documentation pywws 13.09_r1069" href="../index.html" />
    <link rel="up" title="Guides utilisateur" href="index.html" />
    <link rel="next" title="weather.ini - format du fichier de configuration" href="weather_ini.html" />
    <link rel="prev" title="Comment configurer pywws pour poster des messages sur Twitter" href="twitter.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="weather_ini.html" title="weather.ini - format du fichier de configuration"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="twitter.html" title="Comment configurer pywws pour poster des messages sur Twitter"
             accesskey="P">précédent</a> |</li>
        <li><a href="../index.html">documentation pywws 13.09_r1069</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Guides utilisateur</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="how-to-use-pywws-in-another-language">
<h1>Comment utiliser pywws dans une autre langue<a class="headerlink" href="#how-to-use-pywws-in-another-language" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>Certaines parties de pywws peuvent être configurées pour utiliser votre langue locale au lieu de l&#8217;Anglais Britannique. Ceci requière un fichier de langage contenant la traduction des différentes phrases utilisées par pywws. Le projet repose sur les utilisateur qui fournissent ces traductions. Ce document décrit comment créer un fichier de langage.</p>
<p>La documentation de pywws peut aussi être traduite dans d&#8217;autres langues. C&#8217;est beaucoup de travail, mais pourrait être très utile aux utilisateurs potentiels qui ne lisent pas très bien l&#8217;anglais.</p>
</div>
<div class="section" id="dependencies">
<h2>Prérequis.<a class="headerlink" href="#dependencies" title="Lien permanent vers ce titre">¶</a></h2>
<p>En plus du logiciel pywws vous devez installer le paquet utilitaire GNU d&#8217;internationalisation <tt class="docutils literal"><span class="pre">gettext</span></tt>. Celui-ci est disponible dans la plupart des dépôts standard des distributions Linux, ou vous pouvez le télécharger à partir de <a class="reference external" href="http://www.gnu.org/software/gettext/">http://www.gnu.org/software/gettext/</a> si vous devez le compiler vous même.</p>
</div>
<div class="section" id="choose-your-language-code">
<h2>Choisir votre code de langue.<a class="headerlink" href="#choose-your-language-code" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les ordinateur utilisent les étiquettes d&#8217;identification de langues IETF (voir <a class="reference external" href="http://fr.wikipedia.org/wiki/%C3%89tiquette_d%27identification_de_langues_IETF">http://fr.wikipedia.org/wiki/%C3%89tiquette_d%27identification_de_langues_IETF</a>). Par exemple, la Grande-Bretagne utilise <tt class="docutils literal"><span class="pre">en_GB</span></tt> qui est composé de 2 parties: <tt class="docutils literal"><span class="pre">en</span></tt> pour Anglais, et <tt class="docutils literal"><span class="pre">GB</span></tt> la version Britanique. Pour trouver le code correspondant à votre langue, consultez la liste sur <a class="reference external" href="http://www.gnu.org/software/gettext/manual/gettext.html#Language-Codes">http://www.gnu.org/software/gettext/manual/gettext.html#Language-Codes</a>.</p>
</div>
<div class="section" id="getting-started">
<h2>Mise en route<a class="headerlink" href="#getting-started" title="Lien permanent vers ce titre">¶</a></h2>
<p>Votre dossier pywws doit déjà contenir un sous-dossier nommé translations. Celui-ci contient l&#8217;ensemble des fichiers de langue actuel, par exemple  <tt class="docutils literal"><span class="pre">translations/fr/pywws.po</span></tt> contient la traduction Française. Si une de ces langues est ce que vous désirez, alors éditez votre fichier weather.ini et ajoutez une entrée <tt class="docutils literal"><span class="pre">language</span></tt> à la section <tt class="docutils literal"><span class="pre">[config]</span></tt>, par exemple:</p>
<div class="highlight-python"><div class="highlight"><pre>[config]
day end hour = 21
gnuplot encoding = iso_8859_1
language = sv
</pre></div>
</div>
<p>Vous devrez toujours compiler et installer le fichier de langue choisie. Ce qui est fait avec <tt class="docutils literal"><span class="pre">setup.py</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py msgfmt
</pre></div>
</div>
<p>S&#8217;il n&#8217;y a pas déjà de fichier pour votre langage, le reste de ce document vous indique comment en créer un.</p>
</div>
<div class="section" id="create-a-language-file">
<h2>Créer un fichier de langue.<a class="headerlink" href="#create-a-language-file" title="Lien permanent vers ce titre">¶</a></h2>
<p>La première étape consiste à créer un fichier contenant les phrases que vous devez traduire. Par exemple, pour créer un fichier source pour la langue française (code <tt class="docutils literal"><span class="pre">fr</span></tt>):</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py xgettext
python setup.py msgmerge --lang=fr
</pre></div>
</div>
<p>Ce qui vous demandera de confirmer votre adresse courriel, puis créera un fichier <tt class="docutils literal"><span class="pre">pywws.po</span></tt> dans le répertoire <tt class="docutils literal"><span class="pre">translations/fr</span></tt>. Vous devez maintenant éditer le fichier <tt class="docutils literal"><span class="pre">pywws.po</span></tt> et remplir chaque ligne <tt class="docutils literal"><span class="pre">msgstr</span></tt> avec une traduction de la ligne <tt class="docutils literal"><span class="pre">msgid</span></tt> immédiatement au-dessus. La raison d&#8217;inclure votre adresse courriel est de permettre à chacun ayant une question à propos de la traduction de vous rejoindre. Sentez vous libre de mettre une adresse invalide si vous êtes préoccupé par le maintien de votre vie privée.</p>
<p>Après avoir édité le nouveau fichier de langue, il doit être compilé pour que pywws puisse l&#8217;utiliser. Ce qui est fait avec la commande <tt class="docutils literal"><span class="pre">msgfmt</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py msgfmt
</pre></div>
</div>
<p>N&#8217;oubliez pas de faire celà à chaque fois que vous éditez un fichier de langue.</p>
</div>
<div class="section" id="test-the-pywws-translation">
<h2>Tester la traduction de pywws.<a class="headerlink" href="#test-the-pywws-translation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le module <a class="reference internal" href="../api/pywws.Localisation.html#module-pywws.Localisation" title="pywws.Localisation"><tt class="xref py py-mod docutils literal"><span class="pre">Localisation</span></tt></a> peut être utilisé pour faire un test rapide de l&#8217;installation de votre fichier de langue:</p>
<div class="highlight-python"><div class="highlight"><pre>python -m pywws.Localisation -t fr
</pre></div>
</div>
<p>Cela devrait afficher quelque chose comme ceci:</p>
<div class="highlight-python"><div class="highlight"><pre>Locale changed from (None, None) to (&#39;fr_FR&#39;, &#39;UTF-8&#39;)
Translation set OK
Locale
  decimal point: 23,2
  date &amp; time: lundi, 17 décembre (17/12/2012 16:00:48)
Translations
  &#39;NNW&#39; =&gt; &#39;NNO&#39;
  &#39;rising very rapidly&#39; =&gt; &#39;en hausse très rapide&#39;
  &#39;Rain at times, very unsettled&#39; =&gt; &#39;Quelques précipitations, très perturbé&#39;
</pre></div>
</div>
<p>Éditez l&#8217;entrée de langue dans votre fichier <tt class="docutils literal"><span class="pre">weather.ini</span></tt> pour utiliser votre code de langue (ex. <tt class="docutils literal"><span class="pre">fr</span></tt>), puis essayer d&#8217;utiliser <a class="reference internal" href="../api/pywws.Plot.html#module-pywws.Plot" title="pywws.Plot"><tt class="xref py py-mod docutils literal"><span class="pre">Plot</span></tt></a> pour dessiner un graphe. L&#8217;axe des X du graphe devrait maintenant être étiquetée dans votre langue, utilisant la traduction que vous avez fournis pour &#8216;Time&#8217;, &#8216;Day&#8217; ou &#8216;Date&#8217;.</p>
</div>
<div class="section" id="translating-the-documentation">
<h2>Traduire la documentation.<a class="headerlink" href="#translating-the-documentation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le système utilisé pour convertir les phrases utilisées dans pywws peut également servir à traduire la documentation. La commande pour extraire les phrases de la documentation est très similaire:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py xgettext_doc
</pre></div>
</div>
<p>Notez que ceci requière le logiciel <a class="reference external" href="http://sphinx-doc.org/">sphinx</a> utilisé pour &#8216;compiler&#8217; la documentation. Après extraction des phraes, il créé les fichiers source pour votre langue. Dans cet exemple la langue est Français, avec le code sur deux lettres <tt class="docutils literal"><span class="pre">fr</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py msgmerge --lang=fr
</pre></div>
</div>
<p>Ceci créé quatre fichiers (<tt class="docutils literal"><span class="pre">index.po</span></tt>, <tt class="docutils literal"><span class="pre">essential.po</span></tt>, <tt class="docutils literal"><span class="pre">guides.po</span></tt> et <tt class="docutils literal"><span class="pre">api.po</span></tt>) lesquels contiennent les textes (souvent des paragraphes entier) extraits à partir des différentes parties de la documentation.</p>
<p>Ces fichiers peuvent être édités de la même manière que le fichier <tt class="docutils literal"><span class="pre">pywws.po</span></tt>. Complétez chaque <tt class="docutils literal"><span class="pre">msgstr</span></tt> avec une traduction de la phrase <tt class="docutils literal"><span class="pre">msgid</span></tt> juste au-dessus. Notez que certaines chaînes (par exemple, URL et liens vers d&#8217;autres parties de la documentation) ne doivent pas être traduites. Dans ces cas, le <tt class="docutils literal"><span class="pre">msgstr</span></tt> doit être laissé vide.</p>
<p>Traduire toute la documentation de pywws représente beaucoup de travail. Toutefois, lorsque la documentation est compilée toutes les chaînes non traduites reprennent leur valeur anglaise originale. Cela signifie qu&#8217;une traduction partielle pourrait quand même être utile - Je suggère de commencer par la première page de la documentation, <tt class="docutils literal"><span class="pre">index.po</span></tt>.</p>
</div>
<div class="section" id="viewing-your-translated-documentation">
<h2>Visionner votre documentation traduite.<a class="headerlink" href="#viewing-your-translated-documentation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Tout d&#8217;abord convertir les fichiers de langue nouvellement édités:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py msgfmt
</pre></div>
</div>
<p>Puis. effacez l&#8217;ancienne documentation (si existante) et refaire en utilisant votre langage:</p>
<div class="highlight-python"><div class="highlight"><pre>rm -Rf doc/html/fr
LANG=fr python setup.py build_sphinx
</pre></div>
</div>
<p>Notez que la commande <tt class="docutils literal"><span class="pre">build_sphinx</span></tt> n&#8217;a pas d&#8217;option <tt class="docutils literal"><span class="pre">--lang</span></tt>, donc le la langue est définie par une variable d&#8217;environnement temporaire.</p>
<p>Finallement, vous pouvez voir la documentation traduite en utilisant un navigateur web pour afficher le fichier <tt class="docutils literal"><span class="pre">doc/html/fr/index.html</span></tt>.</p>
</div>
<div class="section" id="update-the-language-files">
<h2>Mettre à jour les fichiers de langue.<a class="headerlink" href="#update-the-language-files" title="Lien permanent vers ce titre">¶</a></h2>
<p>Comme pywws évolue, de nouvelles phrases peuvent avoir été ajoutées et nécessiteront que votre fichier de traduction évolu lui aussi; ce qui est très facile à faire. Premièrement, Vous devez ré-extraire les phrases à traduire, puis les fusionner avec les fichier de langue existant. Ce qui est fait en répétant les commandes utilisées pour créer les fichiers:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py xgettext
python setup.py xgettext_doc
python setup.py msgmerge --lang=fr
</pre></div>
</div>
<p>Ceci devrait ajouter de nouvelles phrases à vos fichiers de langue, sans modifier les phrases que vous avez déjà traduits.</p>
<p>Si le source original Anglais a changé depuis votre dernière traduction, certaines phrases peuvent être marquées par gettext comme <tt class="docutils literal"><span class="pre">#,</span> <span class="pre">fuzzy</span></tt> (floue) . Vous devez vérifier que votre traduction est toujours adéquate pour ces phrases &#8211; Le changement peut être mineur (par ex. une correction d&#8217;orthographe) mais il pourrait être très important. Lorsque vous avez vérifié (et corrigée si nécessaire) la traduction, enlever la ligne <tt class="docutils literal"><span class="pre">#,</span> <span class="pre">fuzzy</span></tt>.</p>
</div>
<div class="section" id="send-jim-the-translation">
<h2>Envoyer la traduction à Jim<a class="headerlink" href="#send-jim-the-translation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Je suis sûr que vous souhaitez que les autres bénéficient du travail que vous avez fait en traduisant pywws. SVP, Svp, svp envoyez une copie de votre(vos) fichier(s) de langue (par exemple  <tt class="docutils literal"><span class="pre">pywws.po</span></tt>) à <a class="reference external" href="mailto:jim&#37;&#52;&#48;jim-easterbrook&#46;me&#46;uk">jim<span>&#64;</span>jim-easterbrook<span>&#46;</span>me<span>&#46;</span>uk</a>. Lorsque vous envoyez une nouvelle traduction vous devez inclure les détails de la version de pywws que vous avez traduit &#8211; la façon la plus facile de le faire est d&#8217;inclure à votre courriel la valeur de <tt class="docutils literal"><span class="pre">commit</span></tt> du fichier  <tt class="docutils literal"><span class="pre">pywws/version.py</span></tt>.</p>
<p>Commentaires ou questions? SVP, souscrivez à la liste d&#8217;envoi de pywws <a class="reference external" href="http://groups.google.com/group/pywws">http://groups.google.com/group/pywws</a> et laissez-le nous savoir.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pywws_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Comment utiliser pywws dans une autre langue</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#dependencies">Prérequis.</a></li>
<li><a class="reference internal" href="#choose-your-language-code">Choisir votre code de langue.</a></li>
<li><a class="reference internal" href="#getting-started">Mise en route</a></li>
<li><a class="reference internal" href="#create-a-language-file">Créer un fichier de langue.</a></li>
<li><a class="reference internal" href="#test-the-pywws-translation">Tester la traduction de pywws.</a></li>
<li><a class="reference internal" href="#translating-the-documentation">Traduire la documentation.</a></li>
<li><a class="reference internal" href="#viewing-your-translated-documentation">Visionner votre documentation traduite.</a></li>
<li><a class="reference internal" href="#update-the-language-files">Mettre à jour les fichiers de langue.</a></li>
<li><a class="reference internal" href="#send-jim-the-translation">Envoyer la traduction à Jim</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="twitter.html"
                        title="Chapitre précédent">Comment configurer pywws pour poster des messages sur Twitter</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="weather_ini.html"
                        title="Chapitre suivant">weather.ini - format du fichier de configuration</a></p>
<div id="searchbox" style="display: none">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="weather_ini.html" title="weather.ini - format du fichier de configuration"
             >suivant</a> |</li>
        <li class="right" >
          <a href="twitter.html" title="Comment configurer pywws pour poster des messages sur Twitter"
             >précédent</a> |</li>
        <li><a href="../index.html">documentation pywws 13.09_r1069</a> &raquo;</li>
          <li><a href="index.html" >Guides utilisateur</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-13, Jim Easterbrook.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>