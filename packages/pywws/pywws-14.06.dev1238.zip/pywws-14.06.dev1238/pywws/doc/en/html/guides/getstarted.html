<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to get started with pywws &mdash; pywws 14.06.dev1238 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '14.06.dev1238',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/pywws_logo.ico"/>
    <link rel="top" title="pywws 14.06.dev1238 documentation" href="../index.html" />
    <link rel="up" title="User guides" href="index.html" />
    <link rel="next" title="How to set up ‘hourly’ logging with pywws" href="hourlylogging.html" />
    <link rel="prev" title="User guides" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hourlylogging.html" title="How to set up ‘hourly’ logging with pywws"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="User guides"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pywws 14.06.dev1238 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">User guides</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="how-to-get-started-with-pywws">
<h1>How to get started with pywws<a class="headerlink" href="#how-to-get-started-with-pywws" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>First of all you need to install Python and a USB library (to allow Python to access the weather station).
See <a class="reference internal" href="../essentials/dependencies.html"><em>Dependencies</em></a> for more detail.</p>
<p>Create a directory for all your weather related files and change to it.
For example (on a Linux or similar operating system):</p>
<div class="highlight-python"><div class="highlight"><pre>mkdir ~/weather
cd ~/weather
</pre></div>
</div>
<div class="section" id="easy-installation">
<h3>Easy installation<a class="headerlink" href="#easy-installation" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to install pywws is with the pip command:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo pip install pywws
</pre></div>
</div>
<p>Upgrading pywws is also a one line command:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo pip install -U pywws
</pre></div>
</div>
<p>Now you are ready to <a class="reference internal" href="#test-weather-station"><em>Test the weather station connection</em></a>.</p>
</div>
<div class="section" id="download-and-extract">
<h3>Download and extract<a class="headerlink" href="#download-and-extract" title="Permalink to this headline">¶</a></h3>
<p>If you prefer not to use pip, or you want easy access to the pywws source files (e.g. to translate the documentation &#8211; see <a class="reference internal" href="language.html"><em>How to use pywws in another language</em></a>), you can download and extract the files into your weather directory.</p>
<p>Visit <a class="reference external" href="http://pypi.python.org/pypi/pywws/">http://pypi.python.org/pypi/pywws/</a> and download one of the .tar.gz or .zip files. Put it in your weather directory, then extract all the files, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/weather
tar zxvf pywws-14.03.dev1178.tar.gz
</pre></div>
</div>
<p>or:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/weather
unzip pywws-14.03.dev1178.zip
</pre></div>
</div>
<p>This should create a directory (called <tt class="docutils literal"><span class="pre">pywws-14.03.dev1178</span></tt> in this example) containing all the pywws source files.
It is convenient to create a soft link to this awkwardly named directory:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/weather
ln -s pywws-14.03.dev1178 pywws
</pre></div>
</div>
<p>Upgrading a downloaded snapshot is the same process as the first installation.
Download the .tar.gz or .zip file, extract its contents, then delete the soft link pointing to the old download and create one pointing to the new download.
Once you are satisfied the new version is working OK you can delete the old download entirely.</p>
</div>
<div class="section" id="clone-the-repository">
<h3>Clone the repository<a class="headerlink" href="#clone-the-repository" title="Permalink to this headline">¶</a></h3>
<p>The PyPI files contain a snapshot release of the software - a new one is issued every few months.
If you want to use the very latest version of pywws, e.g. to work on fixing a bug, you can get all the files you need from the <a class="reference external" href="https://github.com/jim-easterbrook/pywws">GitHub repository</a>.
Install git and use it to clone the repos:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/weather
git clone https://github.com/jim-easterbrook/pywws.git
</pre></div>
</div>
<p>After cloning you may want to use setup.py to compile the language files and documentation, if you have installed the gettext and sphinx packages:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/weather/pywws
python setup.py msgfmt
python setup.py build_sphinx
</pre></div>
</div>
<p>To upgrade you use git to pull any changes:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/weather/pywws
git pull
</pre></div>
</div>
</div>
<div class="section" id="install-scripts">
<h3>Install scripts<a class="headerlink" href="#install-scripts" title="Permalink to this headline">¶</a></h3>
<p>If you have not installed pywws with pip, you need to use setup.py to generate the &#8220;entry point&#8221; scripts for common pywws tasks:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/weather/pywws
sudo python setup.py develop
</pre></div>
</div>
<p>Note to Python 3 users: this will generate and use Python 3 versions of the pywws software in <tt class="docutils literal"><span class="pre">~/weather/pywws/build/lib</span></tt>.
Because your pywws directory (<tt class="docutils literal"><span class="pre">~/weather/pywws</span></tt>) contains the Python 2 pywws package you will need to change to a different directory before running any of the <tt class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pywws.xxx</span></tt> commands referred to elsewhere in the documentation.</p>
</div>
</div>
<div class="section" id="test-the-weather-station-connection">
<span id="test-weather-station"></span><h2>Test the weather station connection<a class="headerlink" href="#test-the-weather-station-connection" title="Permalink to this headline">¶</a></h2>
<p>Now you&#8217;re ready to test your pywws installation.
Connect the weather station (if not already connected) then run the <a class="reference internal" href="../api/pywws.TestWeatherStation.html#module-pywws.TestWeatherStation" title="pywws.TestWeatherStation"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.TestWeatherStation</span></tt></a> module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pywws</span><span class="o">-</span><span class="n">testweatherstation</span>
</pre></div>
</div>
<p>If everything is working correctly, this should dump a load of numbers to the screen, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>0000 55 aa ff ff ff ff ff ff ff ff ff ff ff ff ff ff 05 20 01 51 11 00 00 00 81 00 00 0f 00 00 60 55
0020 ea 27 a0 27 00 00 00 00 00 00 00 10 10 12 13 45 41 23 c8 00 32 80 47 2d 2c 01 2c 81 5e 01 1e 80
0040 96 00 c8 80 a0 28 80 25 a0 28 80 25 03 36 00 05 6b 00 00 0a 00 f4 01 18 03 00 00 00 00 00 00 00
0060 00 00 4e 1c 63 0d 2f 01 73 00 7a 01 47 80 7a 01 47 80 e4 00 00 00 71 28 7f 25 bb 28 bd 25 eb 00
0080 0c 02 84 00 0e 01 e3 01 ab 03 dc 17 00 10 08 21 08 54 10 03 07 22 18 10 08 11 08 30 10 04 21 16
00a0 26 08 07 24 17 17 08 11 01 06 10 09 06 30 14 29 09 01 06 07 46 09 06 30 14 29 09 01 06 07 46 08
00c0 08 31 14 30 10 05 14 15 27 10 01 26 20 47 09 01 23 05 13 10 01 26 20 47 09 01 23 05 13 10 02 22
00e0 11 06 10 02 22 11 06 08 07 07 19 32 08 12 13 22 32 08 09 07 08 48 01 12 05 04 43 10 02 22 14 43
</pre></div>
</div>
<p>There are several reasons why this might not work.
Most likely is a &#8216;permissions&#8217; problem.
This can be tested by running the command as root:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo pywws-testweatherstation
</pre></div>
</div>
<p>If this works then you may be able to allow your normal user account to access the weather station by setting up a &#8216;udev&#8217; rule.
See the compatibility wiki page <a class="reference external" href="http://code.google.com/p/pywws/wiki/Compatibility">http://code.google.com/p/pywws/wiki/Compatibility</a> for more details.</p>
<p>If you have any other problem, please ask for help on the pywws mailing list: <a class="reference external" href="http://groups.google.com/group/pywws">http://groups.google.com/group/pywws</a></p>
</div>
<div class="section" id="set-up-your-weather-station">
<h2>Set up your weather station<a class="headerlink" href="#set-up-your-weather-station" title="Permalink to this headline">¶</a></h2>
<p>If you haven&#8217;t already done so, you should set your weather station to display the correct relative atmospheric pressure.
(See the manual for details of how to do this.)
pywws gets the offset between relative and absolute pressure from the station, so this should be set before using pywws.</p>
<p>You can get the correct relative pressure from your location by looking on the internet for weather reports from a nearby station, ideally an official one such as an airport.
This is best done during calm weather when the pressure is almost constant over a large area.</p>
</div>
<div class="section" id="set-the-weather-station-logging-interval">
<h2>Set the weather station logging interval<a class="headerlink" href="#set-the-weather-station-logging-interval" title="Permalink to this headline">¶</a></h2>
<p>Your weather station probably left the factory with a 30 minute logging interval.
This enables the station to store about 11 weeks of data.
Most pywws users set up their computers to read data from the station every hour, or more often, and only need the station to store enough data to cover computer failures.
The recommended interval is 5 minutes, which still allows 2 weeks of storage.
Use <a class="reference internal" href="../api/pywws.SetWeatherStation.html#module-pywws.SetWeatherStation" title="pywws.SetWeatherStation"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.SetWeatherStation</span></tt></a> to set the interval:</p>
<div class="highlight-python"><div class="highlight"><pre>pywws-setweatherstation -r 5
</pre></div>
</div>
</div>
<div class="section" id="log-your-weather-station-data">
<h2>Log your weather station data<a class="headerlink" href="#log-your-weather-station-data" title="Permalink to this headline">¶</a></h2>
<p>First, choose a directory to store all your weather station data.
This will be written to quite frequently, so a disk drive is preferable to a flash memory stick or card, as these have a limited number of writes.
In most cases your home directory is suitable, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>mkdir ~/weather/data
</pre></div>
</div>
<p>This directory is referred to elsewhere in the pywws documentation as your data directory.</p>
<p>Make sure your computer has the right date &amp; time, and time zone, as these are used to label the weather station data.
If you haven&#8217;t already done so, it&#8217;s worth setting up NTP to synchronise your computer to a &#8216;time server&#8217;.</p>
<p>The first time you run <a class="reference internal" href="../api/pywws.LogData.html#module-pywws.LogData" title="pywws.LogData"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.LogData</span></tt></a> it will create a configuration file in your data directory called &#8216;weather.ini&#8217; and then stop.
You need to edit the configuration file and change the line <tt class="docutils literal"><span class="pre">ws</span> <span class="pre">type</span> <span class="pre">=</span> <span class="pre">Unknown</span></tt> to <tt class="docutils literal"><span class="pre">ws</span> <span class="pre">type</span> <span class="pre">=</span> <span class="pre">1080</span></tt> or <tt class="docutils literal"><span class="pre">ws</span> <span class="pre">type</span> <span class="pre">=</span> <span class="pre">3080</span></tt>.
(If your weather station console displays solar illuminance you have a 3080 type, all others are 1080.)
Then run <a class="reference internal" href="../api/pywws.LogData.html#module-pywws.LogData" title="pywws.LogData"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.LogData</span></tt></a> again.
This may take several minutes, as it will copy all the data stored in your station&#8217;s memory.
The <a class="reference internal" href="../api/pywws.LogData.html#module-pywws.LogData" title="pywws.LogData"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.LogData</span></tt></a> program has a &#8216;verbose&#8217; option that increases the amount of messages it displays while running.
This is useful when running it manually, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>python -m pywws.LogData -vvv ~/weather/data
</pre></div>
</div>
<p>(Replace <tt class="docutils literal"><span class="pre">~/weather/data</span></tt> with your data directory, if it&#8217;s different.)</p>
<p>You should now have some data files you can look at.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre>more ~/weather/data/raw/2012/2012-12/2012-12-16.txt
</pre></div>
</div>
<p>(Replace the year, month and day with ones that you have data for.)</p>
</div>
<div class="section" id="convert-old-easyweather-data-optional">
<h2>Convert old EasyWeather data (optional)<a class="headerlink" href="#convert-old-easyweather-data-optional" title="Permalink to this headline">¶</a></h2>
<p>If you had been running EasyWeather before deciding to use pywws, you can convert the data EasyWeather had logged to the pywws format.
Find your EasyWeather.dat file and then convert it:</p>
<div class="highlight-python"><div class="highlight"><pre>python -m pywws.EWtoPy EasyWeather.dat ~/weather/data
</pre></div>
</div>
</div>
<div class="section" id="set-some-configuration-options">
<h2>Set some configuration options<a class="headerlink" href="#set-some-configuration-options" title="Permalink to this headline">¶</a></h2>
<p>After running <a class="reference internal" href="../api/pywws.LogData.html#module-pywws.LogData" title="pywws.LogData"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.LogData</span></tt></a> there should be a configuration file in your data directory called &#8216;weather.ini&#8217;.
Open this with a text editor. You should find something like the following:</p>
<div class="highlight-python"><div class="highlight"><pre>[config]
ws type = 1080
logdata sync = 1
pressure offset = 9.4
</pre></div>
</div>
<p>You need to add a new entry in the <tt class="docutils literal"><span class="pre">[config]</span></tt> section called <tt class="docutils literal"><span class="pre">day</span> <span class="pre">end</span> <span class="pre">hour</span></tt>.
This tells pywws what convention you want to use when calculating daily summary data.
In the UK, the &#8216;meteorological day&#8217; is usually from 09:00 to 09:00 GMT (10:00 to 10:00 BST during summer), so I use a day end hour value of 9.
In other countries a value of 24 (or 0) might be more suitable.
Note that the value is set in local winter time.
You should not need to change it when daylight savings time is in effect.</p>
<p>After editing, your weather.ini file should look something like this:</p>
<div class="highlight-python"><div class="highlight"><pre>[config]
ws type = 1080
logdata sync = 1
pressure offset = 9.4
day end hour = 9
</pre></div>
</div>
<p>You can also edit the <tt class="docutils literal"><span class="pre">pressure</span> <span class="pre">offset</span></tt> value to adjust how pywws calculates the relative (sea level) air pressure from the absolute value that the station measures.
If you change the pressure offset or day end hour in future, you must update all your stored data by running <a class="reference internal" href="../api/pywws.Reprocess.html#module-pywws.Reprocess" title="pywws.Reprocess"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.Reprocess</span></tt></a>.</p>
<p>For more detail on the configuration file options, see <a class="reference internal" href="weather_ini.html"><em>weather.ini - configuration file format</em></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 13.10_r1082: </span>made <tt class="docutils literal"><span class="pre">pressure</span> <span class="pre">offset</span></tt> a config item.
Previously it was always read from the weather station.</p>
</div>
</div>
<div class="section" id="process-the-raw-data">
<h2>Process the raw data<a class="headerlink" href="#process-the-raw-data" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/pywws.LogData.html#module-pywws.LogData" title="pywws.LogData"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.LogData</span></tt></a> just copies the raw data from the weather station.
To do something useful with that data you probably need hourly, daily and monthly summaries.
These are created by <a class="reference internal" href="../api/pywws.Process.html#module-pywws.Process" title="pywws.Process"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.Process</span></tt></a>. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>python -m pywws.Process ~/weather/data
</pre></div>
</div>
<p>You should now have some processed files to look at:</p>
<div class="highlight-python"><div class="highlight"><pre>more ~/weather/data/daily/2012/2012-12-16.txt
</pre></div>
</div>
<p>If you ever change your <tt class="docutils literal"><span class="pre">day</span> <span class="pre">end</span> <span class="pre">hour</span></tt> configuration setting, you will need to reprocess all your weather data.
You can do this by running <a class="reference internal" href="../api/pywws.Reprocess.html#module-pywws.Reprocess" title="pywws.Reprocess"><tt class="xref py py-mod docutils literal"><span class="pre">pywws.Reprocess</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre>python -m pywws.Reprocess ~/weather/data
</pre></div>
</div>
<p>You are now ready to set up regular or continuous logging, as described in <a class="reference internal" href="hourlylogging.html"><em>How to set up &#8216;hourly&#8217; logging with pywws</em></a> or <a class="reference internal" href="livelogging.html"><em>How to set up &#8216;live&#8217; logging with pywws</em></a>.</p>
</div>
<div class="section" id="read-the-documentation">
<h2>Read the documentation<a class="headerlink" href="#read-the-documentation" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">pywws-version</span> <span class="pre">-v</span></tt> command will show you the location of the pywws documentation.
These HTML files can be read with any web browser.</p>
<hr class="docutils" />
<p>Comments or questions? Please subscribe to the pywws mailing list
<a class="reference external" href="http://groups.google.com/group/pywws">http://groups.google.com/group/pywws</a> and let us know.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pywws_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to get started with pywws</a><ul>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#easy-installation">Easy installation</a></li>
<li><a class="reference internal" href="#download-and-extract">Download and extract</a></li>
<li><a class="reference internal" href="#clone-the-repository">Clone the repository</a></li>
<li><a class="reference internal" href="#install-scripts">Install scripts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#test-the-weather-station-connection">Test the weather station connection</a></li>
<li><a class="reference internal" href="#set-up-your-weather-station">Set up your weather station</a></li>
<li><a class="reference internal" href="#set-the-weather-station-logging-interval">Set the weather station logging interval</a></li>
<li><a class="reference internal" href="#log-your-weather-station-data">Log your weather station data</a></li>
<li><a class="reference internal" href="#convert-old-easyweather-data-optional">Convert old EasyWeather data (optional)</a></li>
<li><a class="reference internal" href="#set-some-configuration-options">Set some configuration options</a></li>
<li><a class="reference internal" href="#process-the-raw-data">Process the raw data</a></li>
<li><a class="reference internal" href="#read-the-documentation">Read the documentation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">User guides</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="hourlylogging.html"
                        title="next chapter">How to set up &#8216;hourly&#8217; logging with pywws</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hourlylogging.html" title="How to set up ‘hourly’ logging with pywws"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="User guides"
             >previous</a> |</li>
        <li><a href="../index.html">pywws 14.06.dev1238 documentation</a> &raquo;</li>
          <li><a href="index.html" >User guides</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-14, Jim Easterbrook.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>