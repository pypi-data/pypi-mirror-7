<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>6.4. Configuration &mdash; steelscript  documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="steelscript  documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">steelscript  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuration">
<h1>6.4. Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>Once a project has been created (see <a class="reference internal" href="projects.html"><em>Projects</em></a>), a <tt class="docutils literal"><span class="pre">local_settings.py</span></tt>
file will be in the directory with default settings available for customization.</p>
<div class="section" id="setting-up-the-database">
<h2>6.4.1. Setting up the database<a class="headerlink" href="#setting-up-the-database" title="Permalink to this headline">¶</a></h2>
<p>By default, <tt class="docutils literal"><span class="pre">local_settings.py</span></tt> uses a simple sqlite database to store
configurations, reports, and other data.  This is fine for single-user
and basic development, but sqlite has concurrancy and performance limitations
which make it unsuitable for more dedicated use.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c"># Optionally change &#39;sqlite3&#39; to &#39;postgresql_psycopg2&#39;, &#39;mysql&#39; or &#39;oracle&#39;.</span>
        <span class="c"># for connection to other database engines</span>
        <span class="s">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span>

        <span class="c"># Path to database file if using sqlite3.</span>
        <span class="c"># Database name for others</span>
        <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DATAHOME</span><span class="p">,</span> <span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="s">&#39;project.db&#39;</span><span class="p">),</span>

        <span class="s">&#39;USER&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>     <span class="c"># Not used with sqlite3.</span>
        <span class="s">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="c"># Not used with sqlite3.</span>
        <span class="s">&#39;HOST&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>     <span class="c"># Set to empty string for localhost. Not used with sqlite3.</span>
        <span class="s">&#39;PORT&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>     <span class="c"># Set to empty string for default. Not used with sqlite3.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>More detailed discussion of these parameters can be found in the
<a class="reference external" href="https://docs.djangoproject.com/en/1.5/ref/settings/#databases">django documentation</a>.
If help is needed configuring a MySql or PostgreSQL database, many resources
are available online.</p>
<p>After changes are made to this entry, you will need to initialize the new
database tables from App Framework by running the <a class="reference internal" href="managing.html#reset-appfwk"><em>reset_appfwk</em></a>
command.</p>
</div>
<div class="section" id="devices">
<span id="id1"></span><h2>6.4.2. Devices<a class="headerlink" href="#devices" title="Permalink to this headline">¶</a></h2>
<p>With a freshly initialized server, the first login to the server will bring
up the &#8220;Edit Devices&#8221; page.  This page is only accessible to admin users,
and provides a means to add devices for use throughout the site.</p>
<p>Click on &#8220;Add New Device&#8221; and fill out the requested information for
each device you&#8217;d like to be able to use as a datasource.</p>
</div>
<div class="section" id="user-preferences">
<span id="id2"></span><h2>6.4.3. User Preferences<a class="headerlink" href="#user-preferences" title="Permalink to this headline">¶</a></h2>
<p>After setting up devices, navigate to the upper-right button and choose
&#8220;Preferences&#8221;.  This will bring up a simple dialog allowing updates to
the admin user password, email address, and timezone.  Further discussion of
user management is described in the section below, <a class="reference internal" href="#managing-users"><em>Managing users</em></a>.</p>
<p>Note that each user will be able to change their own timezone and email address.</p>
</div>
<div class="section" id="system-settings">
<span id="id3"></span><h2>6.4.4. System Settings<a class="headerlink" href="#system-settings" title="Permalink to this headline">¶</a></h2>
<p>Navigating to the upper-right button and choosing &#8220;System Settings&#8221; bring up
the admin-only list of system configuration items.</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">Ignore</span> <span class="pre">cache</span></tt> - every report will be re-run directly from the source
device, ignoring any locally stored cache</li>
<li><tt class="docutils literal"><span class="pre">Developer</span> <span class="pre">mode</span></tt> - enables an option under Report Run widgets called
&#8220;Debug this report&#8221;, which will rollover the server logs, run the report,
collect logs, then prompt the user to download a zipfile of the collected
information.  Due to the potentially sensitive nature of the log files,
this should be turned off except for explicit debugging purposes.</li>
<li><tt class="docutils literal"><span class="pre">Enable</span> <span class="pre">Map</span> <span class="pre">Widgets</span></tt> - provides the option to enable/disable
all map widgets, and if enabled, to choose between OpenStreetMap
sources and Google Maps sources.  In order to use Google Maps,
an <tt class="docutils literal"><span class="pre">API</span> <span class="pre">Key</span></tt> or a <tt class="docutils literal"><span class="pre">Client</span> <span class="pre">ID</span></tt> is required.  See <a class="reference internal" href="#map-widgets"><em>Map Widgets</em></a>
for more information.</li>
</ul>
</div></blockquote>
<div class="section" id="map-widgets">
<span id="id4"></span><h3>6.4.4.1. Map Widgets<a class="headerlink" href="#map-widgets" title="Permalink to this headline">¶</a></h3>
<p>Two options are availble for Map Widgets in App Framework,
<a class="reference external" href="http://www.openstreetmap.org/about">OpenStreetMap</a> and
<a class="reference external" href="https://developers.google.com/maps/">Google Maps</a>.  Use of either service
is subject to their license terms.  Additionally, use of Google Maps
requires one of two types of api keys, please check with your IT administrator
which one is appropriate for your use, and see the following links for more
information:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://developers.google.com/maps/documentation/javascript/tutorial">Google Maps API Key</a></li>
<li><a class="reference external" href="https://developers.google.com/maps/documentation/business/clientside/#MapsJS">Google Maps Client ID</a></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="locations">
<span id="locations-import"></span><h2>6.4.5. Locations<a class="headerlink" href="#locations" title="Permalink to this headline">¶</a></h2>
<p>The Geolocation functionality of App Framework relies on internally
stored set of locations and IP address mappings in order to accurately
plot data points.  Included in the <a class="reference internal" href="projects.html#directory-layout"><em>example-configs</em></a>
directory are two locations files you can modify to meet your internal
network layout.  To install these files (or your own similarly created
ones):</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">cd </span>appfwk_project
<span class="gp">$</span> python manage.py locations --import-locations example-configs/sample_locations.txt
<span class="go">Imported 13 locations</span>
<span class="gp">$</span> python manage.py locations --import-location-ip example-configs/sample_location_ip.txt
<span class="go">Imported 13 locations/ip entries</span>
</pre></div>
</div>
</div>
<div class="section" id="managing-users">
<span id="id5"></span><h2>6.4.6. Managing users<a class="headerlink" href="#managing-users" title="Permalink to this headline">¶</a></h2>
<p>As a default, a single user is enabled on the system with the username /
password combination: <tt class="docutils literal"><span class="pre">admin</span></tt> / <tt class="docutils literal"><span class="pre">admin</span></tt>.  This account has full administrative
rights and should only be used by trusted users.</p>
<p>The password for this default account can be changed at any time via the
&#8220;Change User Password&#8221; link under admin-&gt;Preferences.</p>
<p>To add additional user accounts or manage existing ones, choose the
&#8220;Admin Panel&#8221; option from the dropdown menu.  This will lead to page similar to
the following:</p>
<img alt="../_images/admin-panel-users.png" class="align-center" src="../_images/admin-panel-users.png" />
<p>You can use the <tt class="docutils literal"><span class="pre">Add</span></tt> button directly from this page or click on <tt class="docutils literal"><span class="pre">Users</span></tt> to
manage all locally stored user accounts.</p>
</div>
<div class="section" id="using-ldap-for-authentication">
<h2>6.4.7. Using LDAP for Authentication<a class="headerlink" href="#using-ldap-for-authentication" title="Permalink to this headline">¶</a></h2>
<p>A file named <tt class="docutils literal"><span class="pre">ldap_example.py</span></tt> can be found in the directory
<tt class="docutils literal"><span class="pre">example-configs</span></tt> within the app framework project that gets created for you.
This file includes several example settings that can be incorporated into your
<tt class="docutils literal"><span class="pre">local_settings.py</span></tt> file to enabled authentication against an internal LDAP
or Active Directory service.</p>
<p>As noted at the top of the file, two additional python packages are required:</p>
<ul class="simple">
<li>ldap</li>
<li>django-auth-ldap</li>
</ul>
<p>With those installed, further information can be found at the <a class="reference external" href="http://pythonhosted.org/django-auth-ldap/authentication.html">django-auth-ldap
documentation site</a>.</p>
<p>Note that under the <tt class="docutils literal"><span class="pre">AUTHENTICATION_BACKENDS</span></tt> setting, including both
<tt class="docutils literal"><span class="pre">LDAPBackend</span></tt> and <tt class="docutils literal"><span class="pre">ModelBackend</span></tt> will still allow locally created user
accounts to access the site.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/rb-ss-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="overview.html">SteelScript Application Framework</a></h3>
  <ul>
<li><a class="reference internal" href="#">6.4. Configuration</a><ul>
<li><a class="reference internal" href="#setting-up-the-database">6.4.1. Setting up the database</a></li>
<li><a class="reference internal" href="#devices">6.4.2. Devices</a></li>
<li><a class="reference internal" href="#user-preferences">6.4.3. User Preferences</a></li>
<li><a class="reference internal" href="#system-settings">6.4.4. System Settings</a><ul>
<li><a class="reference internal" href="#map-widgets">6.4.4.1. Map Widgets</a></li>
</ul>
</li>
<li><a class="reference internal" href="#locations">6.4.5. Locations</a></li>
<li><a class="reference internal" href="#managing-users">6.4.6. Managing users</a></li>
<li><a class="reference internal" href="#using-ldap-for-authentication">6.4.7. Using LDAP for Authentication</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/appfwk/configuration.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>
<a href="../license.html">License</a>
</h3>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">steelscript  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014 Riverbed Technology, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>