+function(t){"use strict";function e(e){t(i).remove(),t(r).each(function(){var i=n(t(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",r="[data-toggle=dropdown]",a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var a=n(r),o=a.hasClass("open");if(e(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(a.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown",s),r.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var a=n(i),o=a.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&a.find(r).focus(),i.click();var s=" li:not(.divider):visible a",u=a.find("[role=menu]"+s+", [role=listbox]"+s);if(u.length){var l=u.index(u.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<u.length-1&&l++,~l||(l=0),u.eq(l).focus()}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu], [role=listbox]",a.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],a=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(a),!a.isDefaultPrevented()){var o=t(i);this.activate(e.parent("li"),n),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,n,i){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),o=i&&t.support.transition&&a.hasClass("fade");o?a.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new e(this)),"string"==typeof n&&r[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var o=t.camelCase(["scroll",r].join("-"));this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350)[r](this.$element[0][o])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);!r&&a.toggle&&"show"==n&&(n=!n),r||i.data("bs.collapse",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),r=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=t(r),o=a.data("bs.collapse"),s=o?"toggle":i.data(),u=i.attr("data-parent"),l=u&&t(u);o&&o.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+u+'"]').not(i).addClass("collapsed"),i[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(s)})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",u="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this,i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,o=a.test(r);o&&(r=r.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var s=this.getPosition(),u=i[0].offsetWidth,l=i[0].offsetHeight;if(o){var c=this.$element.parent(),p=r,d=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),m="body"==this.options.container?0:c.offset().left;r="bottom"==r&&s.top+s.height+l-d>f?"top":"top"==r&&s.top-d-l<0?"bottom":"right"==r&&s.right+u>h?"left":"left"==r&&s.left-u<m?"right":r,i.removeClass(p).addClass(r)}var g=this.getCalculatedOffset(r,s,u,l);this.applyPlacement(g,r),this.hoverState=null;var v=function(){n.$element.trigger("shown.bs."+n.type)};t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,n){var i,r=this.tip(),a=r[0].offsetWidth,o=r[0].offsetHeight,s=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(u)&&(u=0),e.top=e.top+s,e.left=e.left+u,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;if("top"==n&&c!=o&&(i=!0,e.top=e.top+o-c),/bottom|top/.test(n)){var p=0;e.left<0&&(p=-2*e.left,e.left=0,r.offset(e),l=r[0].offsetWidth,c=r[0].offsetHeight),this.replaceArrow(p-a+l,l,"left")}else this.replaceArrow(c-o,c,"top");i&&r.offset(e)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),a="object"==typeof n&&n;(r||"destroy"!=n)&&(r||i.data("bs.tooltip",r=new e(this,a)),"string"==typeof n&&r[n]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){a.trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t(r);e&&e.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(r)}).emulateTransitionEnd(300):n.$element.focus().trigger(r)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var r=t(this),a=r.data("bs.modal"),o=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);a||r.data("bs.modal",a=new e(this,o)),"string"==typeof n?a[n](i):o.show&&a.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());n.is("a")&&e.preventDefault(),r.modal(a,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),this.Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){"use strict";function e(t){return u[t]||"&amp;"}function n(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function i(t){return t instanceof s?t.toString():t||0===t?(t=""+t,c.test(t)?t.replace(l,e):t):""}function r(t){return t||0===t?h(t)&&0===t.length?!0:!1:!0}function a(t,e){return(t?t+".":"")+e}var o={},s=t,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;o.extend=n;var p=Object.prototype.toString;o.toString=p;var d=function(t){return"function"==typeof t};d(/x/)&&(d=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)});var d;o.isFunction=d;var h=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===p.call(t):!1};return o.isArray=h,o.escapeExpression=i,o.isEmpty=r,o.appendContextPath=a,o}(t),n=function(){"use strict";function t(t,e){var i;e&&e.firstLine&&(i=e.firstLine,t+=" - "+i+":"+e.firstColumn);for(var r=Error.prototype.constructor.call(this,t),a=0;a<n.length;a++)this[n[a]]=r[n[a]];i&&(this.lineNumber=i,this.column=e.firstColumn)}var e,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},r=n.fn;if(d(e)&&(e=e.call(this)),e===!0)return r(this);if(e===!1||null==e)return i(this);if(p(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=g(n.data);a.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:a}}return r(e,n)}),t.registerHelper("each",function(t,e){e||(e=t,t=this);var n,i,r=e.fn,a=e.inverse,s=0,u="";if(e.data&&e.ids&&(i=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),d(t)&&(t=t.call(this)),e.data&&(n=g(e.data)),t&&"object"==typeof t)if(p(t))for(var l=t.length;l>s;s++)n&&(n.index=s,n.first=0===s,n.last=s===t.length-1,i&&(n.contextPath=i+s)),u+=r(t[s],{data:n});else for(var c in t)t.hasOwnProperty(c)&&(n&&(n.key=c,n.index=s,n.first=0===s,i&&(n.contextPath=i+c)),u+=r(t[c],{data:n}),s++);return 0===s&&(u=a(this)),u}),t.registerHelper("if",function(t,e){return d(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){d(t)&&(t=t.call(this));var n=e.fn;if(!o.isEmpty(t)){if(e.data&&e.ids){var i=g(e.data);i.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}function r(t,e){m.log(t,e)}var a={},o=t,s=e,u="2.0.0-alpha.4";a.VERSION=u;var l=5;a.COMPILER_REVISION=l;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:">= 2.0.0"};a.REVISION_CHANGES=c;var p=o.isArray,d=o.isFunction,h=o.toString,f="[object Object]";a.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:m,log:r,registerHelper:function(t,e,n){if(h.call(t)===f){if(n||e)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){h.call(t)===f?o.extend(this.partials,t):this.partials[t]=e},unregisterPartial:function(t){delete this.partials[t]}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(m.level<=t){var n=m.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};a.logger=m,a.log=r;var g=function(t){var e=o.extend({},t);return e._parent=t,e};return a.createFrame=g,a}(e,n),r=function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=h;if(e!==n){if(n>e){var i=f[n],r=f[e];throw new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new d("No environment passed to template");e.VM.checkRevision(t.compiler);var n=function(t,n,i,r,a,o,s){r&&(i=p.extend({},i,r));var u=e.VM.invokePartial.call(this,t,n,i,a,o,s);if(null!=u)return u;if(e.compile){var l={helpers:a,partials:o,data:s};return o[n]=e.compile(t,{data:void 0!==s},e),o[n](i,l)}throw new d("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:p.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e){var n=this.programs[t],i=this.fn(t);return e?n=o(this,t,i,e):n||(n=this.programs[t]=o(this,t,i)),n},programWithDepth:e.VM.programWithDepth,data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=p.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler},r=function(e,n){n=n||{};var a=n.data;return r._setup(n),!n.partial&&t.useData&&(a=l(e,a)),t.main.call(i,e,i.helpers,i.partials,a)};return r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)))},r._child=function(t){return i.programWithDepth(t)},r}function a(t,e){var n=Array.prototype.slice.call(arguments,2),i=this,r=i.fn(t),a=function(t,a){return a=a||{},r.apply(i,[t,i.helpers,i.partials,a.data||e].concat(n))};return a.program=t,a.depth=n.length,a}function o(t,e,n,i){var r=function(e,r){return r=r||{},n.call(t,e,t.helpers,t.partials,r.data||i)};return r.program=e,r.depth=0,r}function s(t,e,n,i,r,a){var o={partial:!0,helpers:i,partials:r,data:a};if(void 0===t)throw new d("The partial "+e+" could not be found");return t instanceof Function?t(n,o):void 0}function u(){return""}function l(t,e){return e&&"root"in e||(e=e?m(e):{},e.root=t),e}var c={},p=t,d=e,h=n.COMPILER_REVISION,f=n.REVISION_CHANGES,m=n.createFrame;return c.checkRevision=i,c.template=r,c.programWithDepth=a,c.program=o,c.invokePartial=s,c.noop=u,c}(e,n,i),a=function(t,e,n,i,r){"use strict";var a,o=t,s=e,u=n,l=i,c=r,p=function(){var t=new o.HandlebarsEnvironment;return l.extend(t,o),t.SafeString=s,t.Exception=u,t.Utils=l,t.VM=c,t.template=function(e){return c.template(e,t)},t},d=p();return d.create=p,a=d}(i,t,n,e,r);return a}(),function(){var t=this,e=t._,n={},i=Array.prototype,r=Object.prototype,a=Function.prototype,o=i.push,s=i.slice,u=i.concat,l=r.toString,c=r.hasOwnProperty,p=i.forEach,d=i.map,h=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,S=Object.keys,$=a.bind,k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.6.0";var x=k.each=k.forEach=function(t,e,i){if(null==t)return t;if(p&&t.forEach===p)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,a=t.length;a>r;r++)if(e.call(i,t[r],r,t)===n)return}else for(var o=k.keys(t),r=0,a=o.length;a>r;r++)if(e.call(i,t[o[r]],o[r],t)===n)return;return t};k.map=k.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(x(t,function(t,r,a){i.push(e.call(n,t,r,a))}),i)};var C="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),h&&t.reduce===h)return i&&(e=k.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(x(t,function(t,a,o){r?n=e.call(i,n,t,a,o):(n=t,r=!0)}),!r)throw new TypeError(C);return n},k.reduceRight=k.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return i&&(e=k.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var a=t.length;if(a!==+a){var o=k.keys(t);a=o.length}if(x(t,function(s,u,l){u=o?o[--a]:--a,r?n=e.call(i,n,t[u],u,l):(n=t[u],r=!0)}),!r)throw new TypeError(C);return n},k.find=k.detect=function(t,e,n){var i;return _(t,function(t,r,a){return e.call(n,t,r,a)?(i=t,!0):void 0}),i},k.filter=k.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(x(t,function(t,r,a){e.call(n,t,r,a)&&i.push(t)}),i)},k.reject=function(t,e,n){return k.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},k.every=k.all=function(t,e,i){e||(e=k.identity);var r=!0;return null==t?r:g&&t.every===g?t.every(e,i):(x(t,function(t,a,o){return(r=r&&e.call(i,t,a,o))?void 0:n}),!!r)};var _=k.some=k.any=function(t,e,i){e||(e=k.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,i):(x(t,function(t,a,o){return r||(r=e.call(i,t,a,o))?n:void 0}),!!r)};k.contains=k.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):_(t,function(t){return t===e})},k.invoke=function(t,e){var n=s.call(arguments,2),i=k.isFunction(e);return k.map(t,function(t){return(i?e:t[e]).apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matches(e))},k.findWhere=function(t,e){return k.find(t,k.matches(e))},k.max=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var i=-1/0,r=-1/0;return x(t,function(t,a,o){var s=e?e.call(n,t,a,o):t;s>r&&(i=t,r=s)}),i},k.min=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var i=1/0,r=1/0;return x(t,function(t,a,o){var s=e?e.call(n,t,a,o):t;r>s&&(i=t,r=s)}),i},k.shuffle=function(t){var e,n=0,i=[];return x(t,function(t){e=k.random(n++),i[n-1]=i[e],i[e]=t}),i},k.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return null==t?k.identity:k.isFunction(t)?t:k.property(t)};k.sortBy=function(t,e,n){return e=E(e),k.pluck(k.map(t,function(t,i,r){return{value:t,index:i,criteria:e.call(n,t,i,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,i){var r={};return n=E(n),x(e,function(a,o){var s=n.call(i,a,o,e);t(r,s,a)}),r}};k.groupBy=T(function(t,e,n){k.has(t,e)?t[e].push(n):t[e]=[n]}),k.indexBy=T(function(t,e,n){t[e]=n}),k.countBy=T(function(t,e){k.has(t,e)?t[e]++:t[e]=1}),k.sortedIndex=function(t,e,n,i){n=E(n);for(var r=n.call(i,e),a=0,o=t.length;o>a;){var s=a+o>>>1;n.call(i,t[s])<r?a=s+1:o=s}return a},k.toArray=function(t){return t?k.isArray(t)?s.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:s.call(t,0,e)},k.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},k.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var I=function(t,e,n){return e&&k.every(t,k.isArray)?u.apply(n,t):(x(t,function(t){k.isArray(t)||k.isArguments(t)?e?o.apply(n,t):I(t,e,n):n.push(t)}),n)};k.flatten=function(t,e){return I(t,e,[])},k.without=function(t){return k.difference(t,s.call(arguments,1))},k.partition=function(t,e){var n=[],i=[];return x(t,function(t){(e(t)?n:i).push(t)}),[n,i]},k.uniq=k.unique=function(t,e,n,i){k.isFunction(e)&&(i=n,n=e,e=!1);var r=n?k.map(t,n,i):t,a=[],o=[];return x(r,function(n,i){(e?i&&o[o.length-1]===n:k.contains(o,n))||(o.push(n),a.push(t[i]))}),a},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(t){var e=s.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.contains(e,t)})})},k.difference=function(t){var e=u.apply(i,s.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=k.max(k.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=k.pluck(arguments,""+n);return e},k.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},k.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},k.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},k.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,a=new Array(i);i>r;)a[r++]=t,t+=n;return a};var A=function(){};k.bind=function(t,e){var n,i;if($&&t.bind===$)return $.apply(t,s.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(s.call(arguments)));A.prototype=t.prototype;var r=new A;A.prototype=null;var a=t.apply(r,n.concat(s.call(arguments)));return Object(a)===a?a:r}},k.partial=function(t){var e=s.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,a=i.length;a>r;r++)i[r]===k&&(i[r]=arguments[n++]);
for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},k.bindAll=function(t){var e=s.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return x(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var n={};return e||(e=k.identity),function(){var i=e.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},k.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(s.call(arguments,1)))},k.throttle=function(t,e,n){var i,r,a,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:k.now(),o=null,a=t.apply(i,r),i=r=null};return function(){var l=k.now();s||n.leading!==!1||(s=l);var c=e-(l-s);return i=this,r=arguments,0>=c?(clearTimeout(o),o=null,s=l,a=t.apply(i,r),i=r=null):o||n.trailing===!1||(o=setTimeout(u,c)),a}},k.debounce=function(t,e,n){var i,r,a,o,s,u=function(){var l=k.now()-o;e>l?i=setTimeout(u,e-l):(i=null,n||(s=t.apply(a,r),a=r=null))};return function(){a=this,r=arguments,o=k.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(s=t.apply(a,r),a=r=null),s}},k.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return k.partial(e,t)},k.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},k.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},k.keys=function(t){if(!k.isObject(t))return[];if(S)return S(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return e},k.values=function(t){for(var e=k.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},k.pairs=function(t){for(var e=k.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},k.invert=function(t){for(var e={},n=k.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=function(t){return x(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},k.pick=function(t){var e={},n=u.apply(i,s.call(arguments,1));return x(n,function(n){n in t&&(e[n]=t[n])}),e},k.omit=function(t){var e={},n=u.apply(i,s.call(arguments,1));for(var r in t)k.contains(n,r)||(e[r]=t[r]);return e},k.defaults=function(t){return x(s.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var r=l.call(t);if(r!=l.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var a=n.length;a--;)if(n[a]==t)return i[a]==e;var o=t.constructor,s=e.constructor;if(o!==s&&!(k.isFunction(o)&&o instanceof o&&k.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),i.push(e);var u=0,c=!0;if("[object Array]"==r){if(u=t.length,c=u==e.length)for(;u--&&(c=P(t[u],e[u],n,i)););}else{for(var p in t)if(k.has(t,p)&&(u++,!(c=k.has(e,p)&&P(t[p],e[p],n,i))))break;if(c){for(p in e)if(k.has(e,p)&&!u--)break;c=!u}}return n.pop(),i.pop(),c};k.isEqual=function(t,e){return P(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=w||function(t){return"[object Array]"==l.call(t)},k.isObject=function(t){return t===Object(t)},x(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return c.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.property=function(t){return function(e){return e[t]}},k.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},k.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;t>r;r++)i[r]=e.call(n,r);return i},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var H={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};H.unescape=k.invert(H.escape);var R={escape:new RegExp("["+k.keys(H.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(H.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(R[t],function(e){return H[t][e]})}}),k.result=function(t,e){if(null==t)return void 0;var n=t[e];return k.isFunction(n)?n.call(t):n},k.mixin=function(t){x(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),z.call(this,n.apply(k,t))}})};var D=0;k.uniqueId=function(t){var e=++D+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),a=0,o="__p+='";t.replace(r,function(e,n,i,r,s){return o+=t.slice(a,s).replace(L,function(t){return"\\"+O[t]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+e.length,e}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(e)return i(e,k);var u=function(t){return i.call(this,t,k)};return u.source="function("+(n.variable||"obj")+"){\n"+o+"}",u},k.chain=function(t){return k(t).chain()};var z=function(t){return this._chain?k(t).chain():t};k.mixin(k),x(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],z.call(this,n)}}),x(["concat","join","slice"],function(t){var e=i[t];k.prototype[t]=function(){return z.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,a,o,s=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,n=0;a>n;n+=1)o[n]=str(n,u)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;a>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,u),r&&o.push(quote(i)+(gap?": ":":")+r));else for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r=str(i,u),r&&o.push(quote(i)+(gap?": ":":")+r));return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(t,e){"use strict";var n=t.History=t.History||{},i=t.jQuery;if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(t,e,n){i(t).bind(e,n)},trigger:function(t,e,n){i(t).trigger(e,n)},extractEventData:function(t,n,i){var r=n&&n.originalEvent&&n.originalEvent[t]||i&&i[t]||e;return r},onDomLoad:function(t){i(t)}},"undefined"!=typeof n.init&&n.init()}(window),function(t){"use strict";var e=t.document,n=t.setTimeout||n,i=t.clearTimeout||i,r=t.setInterval||r,a=t.History=t.History||{};if("undefined"!=typeof a.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");a.initHtml4=function(){return"undefined"!=typeof a.initHtml4.initialized?!1:(a.initHtml4.initialized=!0,a.enabled=!0,a.savedHashes=[],a.isLastHash=function(t){var e,n=a.getHashByIndex();return e=t===n},a.isHashEqual=function(t,e){return t=encodeURIComponent(t).replace(/%25/g,"%"),e=encodeURIComponent(e).replace(/%25/g,"%"),t===e},a.saveHash=function(t){return a.isLastHash(t)?!1:(a.savedHashes.push(t),!0)},a.getHashByIndex=function(t){var e=null;return e="undefined"==typeof t?a.savedHashes[a.savedHashes.length-1]:0>t?a.savedHashes[a.savedHashes.length+t]:a.savedHashes[t]},a.discardedHashes={},a.discardedStates={},a.discardState=function(t,e,n){var i,r=a.getHashByState(t);return i={discardedState:t,backState:n,forwardState:e},a.discardedStates[r]=i,!0},a.discardHash=function(t,e,n){var i={discardedHash:t,backState:n,forwardState:e};return a.discardedHashes[t]=i,!0},a.discardedState=function(t){var e,n=a.getHashByState(t);return e=a.discardedStates[n]||!1},a.discardedHash=function(t){var e=a.discardedHashes[t]||!1;return e},a.recycleState=function(t){var e=a.getHashByState(t);return a.discardedState(t)&&delete a.discardedStates[e],!0},a.emulated.hashChange&&(a.hashChangeInit=function(){a.checkerFunction=null;var n,i,o,s,u="",l=Boolean(a.getHash());return a.isInternetExplorer()?(n="historyjs-iframe",i=e.createElement("iframe"),i.setAttribute("id",n),i.setAttribute("src","#"),i.style.display="none",e.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),o="",s=!1,a.checkerFunction=function(){if(s)return!1;s=!0;var e=a.getHash(),n=a.getHash(i.contentWindow.document);return e!==u?(u=e,n!==e&&(o=n=e,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=a.escapeHash(e)),a.Adapter.trigger(t,"hashchange")):n!==o&&(o=n,l&&""===n?a.back():a.setHash(n,!1)),s=!1,!0}):a.checkerFunction=function(){var e=a.getHash()||"";return e!==u&&(u=e,a.Adapter.trigger(t,"hashchange")),!0},a.intervalList.push(r(a.checkerFunction,a.options.hashChangeInterval)),!0},a.Adapter.onDomLoad(a.hashChangeInit)),a.emulated.pushState&&(a.onHashChange=function(e){var n,i=e&&e.newURL||a.getLocationHref(),r=a.getHashByUrl(i),o=null,s=null;return a.isLastHash(r)?(a.busy(!1),!1):(a.doubleCheckComplete(),a.saveHash(r),r&&a.isTraditionalAnchor(r)?(a.Adapter.trigger(t,"anchorchange"),a.busy(!1),!1):(o=a.extractState(a.getFullUrl(r||a.getLocationHref()),!0),a.isLastSavedState(o)?(a.busy(!1),!1):(s=a.getHashByState(o),n=a.discardedState(o),n?(a.getHashByIndex(-2)===a.getHashByState(n.forwardState)?a.back(!1):a.forward(!1),!1):(a.pushState(o.data,o.title,encodeURI(o.url),!1),!0))))},a.Adapter.bind(t,"hashchange",a.onHashChange),a.pushState=function(e,n,i,r){if(i=encodeURI(i).replace(/%25/g,"%"),a.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(r!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.pushState,args:arguments,queue:r}),!1;a.busy(!0);var o=a.createStateObject(e,n,i),s=a.getHashByState(o),u=a.getState(!1),l=a.getHashByState(u),c=a.getHash(),p=a.expectedStateId==o.id;return a.storeState(o),a.expectedStateId=o.id,a.recycleState(o),a.setTitle(o),s===l?(a.busy(!1),!1):(a.saveState(o),p||a.Adapter.trigger(t,"statechange"),!a.isHashEqual(s,c)&&!a.isHashEqual(s,a.getShortUrl(a.getLocationHref()))&&a.setHash(s,!1),a.busy(!1),!0)},a.replaceState=function(e,n,i,r){if(i=encodeURI(i).replace(/%25/g,"%"),a.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(r!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.replaceState,args:arguments,queue:r}),!1;a.busy(!0);var o=a.createStateObject(e,n,i),s=a.getHashByState(o),u=a.getState(!1),l=a.getHashByState(u),c=a.getStateByIndex(-2);return a.discardState(u,o,c),s===l?(a.storeState(o),a.expectedStateId=o.id,a.recycleState(o),a.setTitle(o),a.saveState(o),a.Adapter.trigger(t,"statechange"),a.busy(!1)):a.pushState(o.data,o.title,o.url,!1),!0}),a.emulated.pushState&&a.getHash()&&!a.emulated.hashChange&&a.Adapter.onDomLoad(function(){a.Adapter.trigger(t,"hashchange")}),void 0)},"undefined"!=typeof a.init&&a.init()}(window),function(t,e){"use strict";var n=t.console||e,i=t.document,r=t.navigator,a=t.sessionStorage||!1,o=t.setTimeout,s=t.clearTimeout,u=t.setInterval,l=t.clearInterval,c=t.JSON,p=t.alert,d=t.History=t.History||{},h=t.history;try{a.setItem("TEST","1"),a.removeItem("TEST")}catch(f){a=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof d.init)throw new Error("History.js Core has already been loaded...");d.init=function(){return"undefined"==typeof d.Adapter?!1:("undefined"!=typeof d.initCore&&d.initCore(),"undefined"!=typeof d.initHtml4&&d.initHtml4(),!0)},d.initCore=function(){if("undefined"!=typeof d.initCore.initialized)return!1;if(d.initCore.initialized=!0,d.options=d.options||{},d.options.hashChangeInterval=d.options.hashChangeInterval||100,d.options.safariPollInterval=d.options.safariPollInterval||500,d.options.doubleCheckInterval=d.options.doubleCheckInterval||500,d.options.disableSuid=d.options.disableSuid||!1,d.options.storeInterval=d.options.storeInterval||1e3,d.options.busyDelay=d.options.busyDelay||250,d.options.debug=d.options.debug||!1,d.options.initialTitle=d.options.initialTitle||i.title,d.options.html4Mode=d.options.html4Mode||!1,d.options.delayInit=d.options.delayInit||!1,d.intervalList=[],d.clearAllIntervals=function(){var t,e=d.intervalList;if("undefined"!=typeof e&&null!==e){for(t=0;t<e.length;t++)l(e[t]);d.intervalList=null}},d.debug=function(){(d.options.debug||!1)&&d.log.apply(d,arguments)},d.log=function(){var t,e,r,a,o,s="undefined"!=typeof n&&"undefined"!=typeof n.log&&"undefined"!=typeof n.log.apply,u=i.getElementById("log");for(s?(a=Array.prototype.slice.call(arguments),t=a.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[t,a]):n.log.apply(n,[t,a])):t="\n"+arguments[0]+"\n",e=1,r=arguments.length;r>e;++e){if(o=arguments[e],"object"==typeof o&&"undefined"!=typeof c)try{o=c.stringify(o)}catch(l){}t+="\n"+o+"\n"}return u?(u.value+=t+"\n-----\n",u.scrollTop=u.scrollHeight-u.clientHeight):s||p(t),!0},d.getInternetExplorerMajorVersion=function(){var t=d.getInternetExplorerMajorVersion.cached="undefined"!=typeof d.getInternetExplorerMajorVersion.cached?d.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=i.createElement("div"),n=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&n[0];);return t>4?t:!1}();return t},d.isInternetExplorer=function(){var t=d.isInternetExplorer.cached="undefined"!=typeof d.isInternetExplorer.cached?d.isInternetExplorer.cached:Boolean(d.getInternetExplorerMajorVersion());return t},d.emulated=d.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent)),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in i)||d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8)},d.enabled=!d.emulated.pushState,d.bugs={setHash:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<7)},d.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},d.cloneObject=function(t){var e,n;return t?(e=c.stringify(t),n=c.parse(e)):n={},n},d.getRootUrl=function(){var t=i.location.protocol+"//"+(i.location.hostname||i.location.host);return i.location.port&&(t+=":"+i.location.port),t+="/"},d.getBaseHref=function(){var t=i.getElementsByTagName("base"),e=null,n="";return 1===t.length&&(e=t[0],n=e.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},d.getBaseUrl=function(){var t=d.getBaseHref()||d.getBasePageUrl()||d.getRootUrl();return t},d.getPageUrl=function(){var t,e=d.getState(!1,!1),n=(e||{}).url||d.getLocationHref();return t=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(t){return/\./.test(t)?t:t+"/"})},d.getBasePageUrl=function(){var t=d.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/";return t},d.getFullUrl=function(t,e){var n=t,i=t.substring(0,1);return e="undefined"==typeof e?!0:e,/[a-z]+\:\/\//.test(t)||(n="/"===i?d.getRootUrl()+t.replace(/^\/+/,""):"#"===i?d.getPageUrl().replace(/#.*/,"")+t:"?"===i?d.getPageUrl().replace(/[\?#].*/,"")+t:e?d.getBaseUrl()+t.replace(/^(\.\/)+/,""):d.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},d.getShortUrl=function(t){var e=t,n=d.getBaseUrl(),i=d.getRootUrl();return d.emulated.pushState&&(e=e.replace(n,"")),e=e.replace(i,"/"),d.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},d.getLocationHref=function(t){return t=t||i,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},d.store={},d.idToState=d.idToState||{},d.stateToId=d.stateToId||{},d.urlToId=d.urlToId||{},d.storedStates=d.storedStates||[],d.savedStates=d.savedStates||[],d.normalizeStore=function(){d.store.idToState=d.store.idToState||{},d.store.urlToId=d.store.urlToId||{},d.store.stateToId=d.store.stateToId||{}},d.getState=function(t,e){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=!0);var n=d.getLastSavedState();return!n&&e&&(n=d.createStateObject()),t&&(n=d.cloneObject(n),n.url=n.cleanUrl||n.url),n},d.getIdByState=function(t){var e,n=d.extractId(t.url);if(!n)if(e=d.getStateString(t),"undefined"!=typeof d.stateToId[e])n=d.stateToId[e];else if("undefined"!=typeof d.store.stateToId[e])n=d.store.stateToId[e];else{for(;n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof d.idToState[n]||"undefined"!=typeof d.store.idToState[n];);d.stateToId[e]=n,d.idToState[n]=t}return n},d.normalizeState=function(t){var e,n;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=d.getFullUrl(t.url?t.url:d.getLocationHref()),e.hash=d.getShortUrl(e.url),e.data=d.cloneObject(t.data),e.id=d.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,n=!d.isEmptyObject(e.data),(e.title||n)&&d.options.disableSuid!==!0&&(e.hash=d.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=d.getFullUrl(e.hash),(d.emulated.pushState||d.bugs.safariPoll)&&d.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},d.createStateObject=function(t,e,n){var i={data:t,title:e,url:n};return i=d.normalizeState(i)},d.getStateById=function(t){t=String(t);var n=d.idToState[t]||d.store.idToState[t]||e;return n},d.getStateString=function(t){var e,n,i;return e=d.normalizeState(t),n={data:e.data,title:t.title,url:t.url},i=c.stringify(n)},d.getStateId=function(t){var e,n;return e=d.normalizeState(t),n=e.id},d.getHashByState=function(t){var e,n;return e=d.normalizeState(t),n=e.hash},d.extractId=function(t){var e,n,i,r;return r=-1!=t.indexOf("#")?t.split("#")[0]:t,n=/(.*)\&_suid=([0-9]+)$/.exec(r),i=n?n[1]||t:t,e=n?String(n[2]||""):"",e||!1},d.isTraditionalAnchor=function(t){var e=!/[\/\?\.]/.test(t);return e},d.extractState=function(t,e){var n,i,r=null;return e=e||!1,n=d.extractId(t),n&&(r=d.getStateById(n)),r||(i=d.getFullUrl(t),n=d.getIdByUrl(i)||!1,n&&(r=d.getStateById(n)),!r&&e&&!d.isTraditionalAnchor(t)&&(r=d.createStateObject(null,null,i))),r},d.getIdByUrl=function(t){var n=d.urlToId[t]||d.store.urlToId[t]||e;return n},d.getLastSavedState=function(){return d.savedStates[d.savedStates.length-1]||e},d.getLastStoredState=function(){return d.storedStates[d.storedStates.length-1]||e},d.hasUrlDuplicate=function(t){var e,n=!1;return e=d.extractState(t.url),n=e&&e.id!==t.id},d.storeState=function(t){return d.urlToId[t.url]=t.id,d.storedStates.push(d.cloneObject(t)),t},d.isLastSavedState=function(t){var e,n,i,r=!1;return d.savedStates.length&&(e=t.id,n=d.getLastSavedState(),i=n.id,r=e===i),r},d.saveState=function(t){return d.isLastSavedState(t)?!1:(d.savedStates.push(d.cloneObject(t)),!0)},d.getStateByIndex=function(t){var e=null;return e="undefined"==typeof t?d.savedStates[d.savedStates.length-1]:0>t?d.savedStates[d.savedStates.length+t]:d.savedStates[t]},d.getCurrentIndex=function(){var t=null;return t=d.savedStates.length<1?0:d.savedStates.length-1},d.getHash=function(t){var e,n=d.getLocationHref(t);return e=d.getHashByUrl(n)},d.unescapeHash=function(t){var e=d.normalizeHash(t);return e=decodeURIComponent(e)},d.normalizeHash=function(t){var e=t.replace(/[^#]*#/,"").replace(/#.*/,"");return e},d.setHash=function(t,e){var n,r;return e!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.setHash,args:arguments,queue:e}),!1):(d.busy(!0),n=d.extractState(t,!0),n&&!d.emulated.pushState?d.pushState(n.data,n.title,n.url,!1):d.getHash()!==t&&(d.bugs.setHash?(r=d.getPageUrl(),d.pushState(null,null,r+"#"+t,!1)):i.location.hash=t),d)},d.escapeHash=function(e){var n=d.normalizeHash(e);return n=t.encodeURIComponent(n),d.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},d.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=d.unescapeHash(e)},d.setTitle=function(t){var e,n=t.title;n||(e=d.getStateByIndex(0),e&&e.url===t.url&&(n=e.title||d.options.initialTitle));try{i.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(r){}return i.title=n,d},d.queues=[],d.busy=function(t){if("undefined"!=typeof t?d.busy.flag=t:"undefined"==typeof d.busy.flag&&(d.busy.flag=!1),!d.busy.flag){s(d.busy.timeout);var e=function(){var t,n,i;if(!d.busy.flag)for(t=d.queues.length-1;t>=0;--t)n=d.queues[t],0!==n.length&&(i=n.shift(),d.fireQueueItem(i),d.busy.timeout=o(e,d.options.busyDelay))};d.busy.timeout=o(e,d.options.busyDelay)}return d.busy.flag},d.busy.flag=!1,d.fireQueueItem=function(t){return t.callback.apply(t.scope||d,t.args||[])},d.pushQueue=function(t){return d.queues[t.queue||0]=d.queues[t.queue||0]||[],d.queues[t.queue||0].push(t),d},d.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),"undefined"!=typeof e&&(t.queue=e),d.busy()?d.pushQueue(t):d.fireQueueItem(t),d},d.clearQueue=function(){return d.busy.flag=!1,d.queues=[],d},d.stateChanged=!1,d.doubleChecker=!1,d.doubleCheckComplete=function(){return d.stateChanged=!0,d.doubleCheckClear(),d},d.doubleCheckClear=function(){return d.doubleChecker&&(s(d.doubleChecker),d.doubleChecker=!1),d},d.doubleCheck=function(t){return d.stateChanged=!1,d.doubleCheckClear(),d.bugs.ieDoubleCheck&&(d.doubleChecker=o(function(){return d.doubleCheckClear(),d.stateChanged||t(),!0},d.options.doubleCheckInterval)),d},d.safariStatePoll=function(){var e,n=d.extractState(d.getLocationHref());return d.isLastSavedState(n)?void 0:(e=n,e||(e=d.createStateObject()),d.Adapter.trigger(t,"popstate"),d)},d.back=function(t){return t!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.back,args:arguments,queue:t}),!1):(d.busy(!0),d.doubleCheck(function(){d.back(!1)}),h.go(-1),!0)},d.forward=function(t){return t!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.forward,args:arguments,queue:t}),!1):(d.busy(!0),d.doubleCheck(function(){d.forward(!1)}),h.go(1),!0)},d.go=function(t,e){var n;if(t>0)for(n=1;t>=n;++n)d.forward(e);else{if(!(0>t))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=t;--n)d.back(e)}return d},d.emulated.pushState){var f=function(){};d.pushState=d.pushState||f,d.replaceState=d.replaceState||f}else d.onPopState=function(e,n){var i,r,a=!1,o=!1;return d.doubleCheckComplete(),i=d.getHash(),i?(r=d.extractState(i||d.getLocationHref(),!0),r?d.replaceState(r.data,r.title,r.url,!1):(d.Adapter.trigger(t,"anchorchange"),d.busy(!1)),d.expectedStateId=!1,!1):(a=d.Adapter.extractEventData("state",e,n)||!1,o=a?d.getStateById(a):d.expectedStateId?d.getStateById(d.expectedStateId):d.extractState(d.getLocationHref()),o||(o=d.createStateObject(null,null,d.getLocationHref())),d.expectedStateId=!1,d.isLastSavedState(o)?(d.busy(!1),!1):(d.storeState(o),d.saveState(o),d.setTitle(o),d.Adapter.trigger(t,"statechange"),d.busy(!1),!0))},d.Adapter.bind(t,"popstate",d.onPopState),d.pushState=function(e,n,i,r){if(d.getHashByUrl(i)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:r}),!1;d.busy(!0);var a=d.createStateObject(e,n,i);return d.isLastSavedState(a)?d.busy(!1):(d.storeState(a),d.expectedStateId=a.id,h.pushState(a.id,a.title,a.url),d.Adapter.trigger(t,"popstate")),!0},d.replaceState=function(e,n,i,r){if(d.getHashByUrl(i)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:r}),!1;d.busy(!0);var a=d.createStateObject(e,n,i);return d.isLastSavedState(a)?d.busy(!1):(d.storeState(a),d.expectedStateId=a.id,h.replaceState(a.id,a.title,a.url),d.Adapter.trigger(t,"popstate")),!0};if(a){try{d.store=c.parse(a.getItem("History.store"))||{}}catch(m){d.store={}}d.normalizeStore()}else d.store={},d.normalizeStore();d.Adapter.bind(t,"unload",d.clearAllIntervals),d.saveState(d.storeState(d.extractState(d.getLocationHref(),!0))),a&&(d.onUnload=function(){var t,e,n;try{t=c.parse(a.getItem("History.store"))||{}}catch(i){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in d.idToState)d.idToState.hasOwnProperty(e)&&(t.idToState[e]=d.idToState[e]);for(e in d.urlToId)d.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=d.urlToId[e]);for(e in d.stateToId)d.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=d.stateToId[e]);d.store=t,d.normalizeStore(),n=c.stringify(t);try{a.setItem("History.store",n)}catch(r){if(r.code!==DOMException.QUOTA_EXCEEDED_ERR)throw r;a.length&&(a.removeItem("History.store"),a.setItem("History.store",n))}},d.intervalList.push(u(d.onUnload,d.options.storeInterval)),d.Adapter.bind(t,"beforeunload",d.onUnload),d.Adapter.bind(t,"unload",d.onUnload)),d.emulated.pushState||(d.bugs.safariPoll&&d.intervalList.push(u(d.safariStatePoll,d.options.safariPollInterval)),("Apple Computer, Inc."===r.vendor||"Mozilla"===(r.appCodeName||""))&&(d.Adapter.bind(t,"hashchange",function(){d.Adapter.trigger(t,"popstate")}),d.getHash()&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(t,"hashchange")})))},(!d.options||!d.options.delayInit)&&d.init()}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=global.window&&global.window.$?t(global.window.$):function(e){if(!e.$&&!e.fn)throw new Error("Tokenfield requires a window object with jQuery or a jQuery instance");return t(e.$||e)}:t(jQuery)}(function(t,e){"use strict";var n=function(n,i){var r=this;this.$element=t(n),this.textDirection=this.$element.css("direction"),this.options=t.extend(!0,{},t.fn.tokenfield.defaults,{tokens:this.$element.val()},this.$element.data(),i),this._delimiters="string"==typeof this.options.delimiter?[this.options.delimiter]:this.options.delimiter,this._triggerKeys=t.map(this._delimiters,function(t){return t.charCodeAt(0)}),this._firstDelimiter=this._delimiters[0];var a=t.inArray(" ",this._delimiters),o=t.inArray("-",this._delimiters);a>=0&&(this._delimiters[a]="\\s"),o>=0&&(delete this._delimiters[o],this._delimiters.unshift("-"));var s=["\\","$","[","{","^",".","|","?","*","+","(",")"];t.each(this._delimiters,function(e,n){var i=t.inArray(n,s);i>=0&&(r._delimiters[e]="\\"+n)});var u,l=e&&"function"==typeof e.getMatchedCSSRules?e.getMatchedCSSRules(n):null,c=n.style.width,p=this.$element.width();l&&t.each(l,function(t,e){e.style.width&&(u=e.style.width)});var d="rtl"===t("body").css("direction")?"right":"left",h={position:this.$element.css("position")};h[d]=this.$element.css(d),this.$element.data("original-styles",h).data("original-tabindex",this.$element.prop("tabindex")).css("position","absolute").css(d,"-10000px").prop("tabindex",-1),this.$wrapper=t('<div class="tokenfield form-control" />'),this.$element.hasClass("input-lg")&&this.$wrapper.addClass("input-lg"),this.$element.hasClass("input-sm")&&this.$wrapper.addClass("input-sm"),"rtl"===this.textDirection&&this.$wrapper.addClass("rtl");
var f=this.$element.prop("id")||(new Date).getTime()+""+Math.floor(100*(1+Math.random()));this.$input=t('<input type="text" class="token-input" autocomplete="off" />').appendTo(this.$wrapper).prop("placeholder",this.$element.prop("placeholder")).prop("id",f+"-tokenfield").prop("tabindex",this.$element.data("original-tabindex"));var m=t('label[for="'+this.$element.prop("id")+'"]');if(m.length&&m.prop("for",this.$input.prop("id")),this.$copyHelper=t('<input type="text" />').css("position","absolute").css(d,"-10000px").prop("tabindex",-1).prependTo(this.$wrapper),c?this.$wrapper.css("width",c):u?this.$wrapper.css("width",u):this.$element.parents(".form-inline").length&&this.$wrapper.width(p),(this.$element.prop("disabled")||this.$element.parents("fieldset[disabled]").length)&&this.disable(),this.$element.prop("readonly")&&this.readonly(),this.$mirror=t('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),this.$input.css("min-width",this.options.minWidth+"px"),t.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(t,e){r.$mirror[0].style[e]=r.$input.css(e)}),this.$mirror.appendTo("body"),this.$wrapper.insertBefore(this.$element),this.$element.prependTo(this.$wrapper),this.update(),this.setTokens(this.options.tokens,!1,!1),this.listen(),!t.isEmptyObject(this.options.autocomplete)){var g="rtl"===this.textDirection?"right":"left",v=t.extend({minLength:this.options.showAutocompleteOnFocus?0:null,position:{my:g+" top",at:g+" bottom",of:this.$wrapper}},this.options.autocomplete);this.$input.autocomplete(v)}if(!t.isEmptyObject(this.options.typeahead)){var y=this.options.typeahead,b={minLength:this.options.showAutocompleteOnFocus?0:null},w=t.isArray(y)?y:[y,y];w[0]=t.extend({},b,w[0]),this.$input.typeahead.apply(this.$input,w),this.typeahead=!0}this.$element.trigger("tokenfield:initialize")};n.prototype={constructor:n,createToken:function(e,n){var i=this;if(e="string"==typeof e?{value:e,label:e}:t.extend({},e),"undefined"==typeof n&&(n=!0),e.value=t.trim(e.value),e.label=e.label&&e.label.length?t.trim(e.label):e.value,!(!e.value.length||!e.label.length||e.label.length<=this.options.minLength||this.options.limit&&this.getTokens().length>=this.options.limit)){var r=t.Event("tokenfield:createtoken",{attrs:e});if(this.$element.trigger(r),r.attrs&&!r.isDefaultPrevented()){var a=t('<div class="token" />').append('<span class="token-label" />').append('<a href="#" class="close" tabindex="-1">&times;</a>').data("attrs",e);this.$input.hasClass("tt-input")?this.$input.parent().before(a):this.$input.before(a),this.$input.css("width",this.options.minWidth+"px");var o=a.find(".token-label"),s=a.find(".close");return this.maxTokenWidth||(this.maxTokenWidth=this.$wrapper.width()-s.outerWidth()-parseInt(s.css("margin-left"),10)-parseInt(s.css("margin-right"),10)-parseInt(a.css("border-left-width"),10)-parseInt(a.css("border-right-width"),10)-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10),parseInt(o.css("border-left-width"),10)-parseInt(o.css("border-right-width"),10)-parseInt(o.css("padding-left"),10)-parseInt(o.css("padding-right"),10),parseInt(o.css("margin-left"),10)-parseInt(o.css("margin-right"),10)),o.text(e.label).css("max-width",this.maxTokenWidth),a.on("mousedown",function(){return i._disabled||i._readonly?!1:void(i.preventDeactivation=!0)}).on("click",function(t){return i._disabled||i._readonly?!1:(i.preventDeactivation=!1,t.ctrlKey||t.metaKey?(t.preventDefault(),i.toggle(a)):void i.activate(a,t.shiftKey,t.shiftKey))}).on("dblclick",function(){return i._disabled||i._readonly||!i.options.allowEditing?!1:void i.edit(a)}),s.on("click",t.proxy(this.remove,this)),this.$element.trigger(t.Event("tokenfield:createdtoken",{attrs:e,relatedTarget:a.get(0)})),n&&this.$element.val(this.getTokensList()).trigger(t.Event("change",{initiator:"tokenfield"})),this.update(),this.$element.get(0)}}},setTokens:function(e,n,i){if(e){n||this.$wrapper.find(".token").remove(),"undefined"==typeof i&&(i=!0),"string"==typeof e&&(e=this._delimiters.length?e.split(new RegExp("["+this._delimiters.join("")+"]")):[e]);var r=this;return t.each(e,function(t,e){r.createToken(e,i)}),this.$element.get(0)}},getTokenData:function(e){var n=e.map(function(){var e=t(this);return e.data("attrs")}).get();return 1==n.length&&(n=n[0]),n},getTokens:function(e){var n=this,i=[],r=e?".active":"";return this.$wrapper.find(".token"+r).each(function(){i.push(n.getTokenData(t(this)))}),i},getTokensList:function(e,n,i){e=e||this._firstDelimiter,n="undefined"!=typeof n&&null!==n?n:this.options.beautify;var r=e+(n&&" "!==e?" ":"");return t.map(this.getTokens(i),function(t){return t.value}).join(r)},getInput:function(){return this.$input.val()},listen:function(){var n=this;this.$element.on("change",t.proxy(this.change,this)),this.$wrapper.on("mousedown",t.proxy(this.focusInput,this)),this.$input.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("paste",t.proxy(this.paste,this)).on("keydown",t.proxy(this.keydown,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.$copyHelper.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keydown",t.proxy(this.keydown,this)).on("keyup",t.proxy(this.keyup,this)),this.$input.on("keypress",t.proxy(this.update,this)).on("keyup",t.proxy(this.update,this)),this.$input.on("autocompletecreate",function(){var e=t(this).data("ui-autocomplete").menu.element,i=n.$wrapper.outerWidth()-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10);e.css("min-width",i+"px")}).on("autocompleteselect",function(t,e){return n.createToken(e.item)&&(n.$input.val(""),n.$input.data("edit")&&n.unedit(!0)),!1}).on("typeahead:selected typeahead:autocompleted",function(t,e){e.value=n.$input.typeahead("val"),n.createToken(e)&&(n.$input.typeahead("val",""),n.$input.data("edit")&&n.unedit(!0))}),t(e).on("resize",t.proxy(this.update,this))},keydown:function(e){function n(t){if(r.$input.is(document.activeElement)){if(r.$input.val().length>0)return;t+="All";var n=r.$input.hasClass("tt-input")?r.$input.parent()[t](".token:first"):r.$input[t](".token:first");if(!n.length)return;r.preventInputFocus=!0,r.preventDeactivation=!0,r.activate(n),e.preventDefault()}else r[t](e.shiftKey),e.preventDefault()}function i(n){if(e.shiftKey){if(r.$input.is(document.activeElement)){if(r.$input.val().length>0)return;var i=r.$input.hasClass("tt-input")?r.$input.parent()[n+"All"](".token:first"):r.$input[n+"All"](".token:first");if(!i.length)return;r.activate(i)}var a="prev"===n?"next":"prev",o="prev"===n?"first":"last";r.firstActiveToken[a+"All"](".token").each(function(){r.deactivate(t(this))}),r.activate(r.$wrapper.find(".token:"+o),!0,!0),e.preventDefault()}}if(this.focused){var r=this;switch(e.keyCode){case 8:if(!this.$input.is(document.activeElement))break;this.lastInputValue=this.$input.val();break;case 37:n("rtl"===this.textDirection?"next":"prev");break;case 38:i("prev");break;case 39:n("rtl"===this.textDirection?"prev":"next");break;case 40:i("next");break;case 65:if(this.$input.val().length>0||!e.ctrlKey&&!e.metaKey)break;this.activateAll(),e.preventDefault();break;case 9:case 13:if(this.$input.data("ui-autocomplete")&&this.$input.data("ui-autocomplete").menu.element.find("li:has(a.ui-state-focus)").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-cursor").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-hint").val().length)break;if(this.$input.is(document.activeElement)&&this.$input.val().length||this.$input.data("edit"))return this.createTokensFromInput(e,this.$input.data("edit"));if(13===e.keyCode){if(!this.$copyHelper.is(document.activeElement)||1!==this.$wrapper.find(".token.active").length)break;if(!r.options.allowEditing)break;this.edit(this.$wrapper.find(".token.active"))}}this.lastKeyDown=e.keyCode}},keypress:function(e){return this.lastKeyPressCode=e.keyCode,this.lastKeyPressCharCode=e.charCode,-1!==t.inArray(e.charCode,this._triggerKeys)&&this.$input.is(document.activeElement)?(this.$input.val()&&this.createTokensFromInput(e),!1):void 0},keyup:function(t){if(this.preventInputFocus=!1,this.focused){switch(t.keyCode){case 8:if(this.$input.is(document.activeElement)){if(this.$input.val().length||this.lastInputValue.length&&8===this.lastKeyDown)break;this.preventDeactivation=!0;var e=this.$input.hasClass("tt-input")?this.$input.parent().prevAll(".token:first"):this.$input.prevAll(".token:first");if(!e.length)break;this.activate(e)}else this.remove(t);break;case 46:this.remove(t,"next")}this.lastKeyUp=t.keyCode}},focus:function(){this.focused=!0,this.$wrapper.addClass("focus"),this.$input.is(document.activeElement)&&(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null,this.options.showAutocompleteOnFocus&&this.search())},blur:function(t){this.focused=!1,this.$wrapper.removeClass("focus"),this.preventDeactivation||this.$element.is(document.activeElement)||(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null),!this.preventCreateTokens&&(this.$input.data("edit")&&!this.$input.is(document.activeElement)||this.options.createTokensOnBlur)&&this.createTokensFromInput(t),this.preventDeactivation=!1,this.preventCreateTokens=!1},paste:function(t){var e=this;setTimeout(function(){e.createTokensFromInput(t)},1)},change:function(t){"tokenfield"!==t.initiator&&this.setTokens(this.$element.val())},createTokensFromInput:function(t,e){if(!(this.$input.val().length<this.options.minLength)){var n=this.getTokensList();return this.setTokens(this.$input.val(),!0),n==this.getTokensList()&&this.$input.val().length?!1:(this.$input.hasClass("tt-input")?this.$input.typeahead("val",""):this.$input.val(""),this.$input.data("edit")&&this.unedit(e),!1)}},next:function(t){if(t){var e=this.$wrapper.find(".active:first"),n=e&&this.$firstActiveToken?e.index()<this.$firstActiveToken.index():!1;if(n)return this.deactivate(e)}var i=this.$wrapper.find(".active:last"),r=i.nextAll(".token:first");return r.length?void this.activate(r,t):void this.$input.focus()},prev:function(t){if(t){var e=this.$wrapper.find(".active:last"),n=e&&this.$firstActiveToken?e.index()>this.$firstActiveToken.index():!1;if(n)return this.deactivate(e)}var i=this.$wrapper.find(".active:first"),r=i.prevAll(".token:first");return r.length||(r=this.$wrapper.find(".token:first")),r.length||t?void this.activate(r,t):void this.$input.focus()},activate:function(e,n,i,r){if(e){if("undefined"==typeof r)var r=!0;if(i)var n=!0;if(this.$copyHelper.focus(),n||(this.$wrapper.find(".active").removeClass("active"),r?this.$firstActiveToken=e:delete this.$firstActiveToken),i&&this.$firstActiveToken){var a=this.$firstActiveToken.index()-2,o=e.index()-2,s=this;this.$wrapper.find(".token").slice(Math.min(a,o)+1,Math.max(a,o)).each(function(){s.activate(t(this),!0)})}e.addClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()}},activateAll:function(){var e=this;this.$wrapper.find(".token").each(function(n){e.activate(t(this),0!==n,!1,!1)})},deactivate:function(t){t&&(t.removeClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},toggle:function(t){t&&(t.toggleClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},edit:function(e){if(e){var n=e.data("attrs"),i={attrs:n,relatedTarget:e.get(0)},r=t.Event("tokenfield:edittoken",i);if(this.$element.trigger(r),!r.isDefaultPrevented()){e.find(".token-label").text(n.value);var a=e.outerWidth(),o=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;e.replaceWith(o),this.preventCreateTokens=!0,this.$input.val(n.value).select().data("edit",!0).width(a),this.update(),this.$element.trigger(t.Event("tokenfield:editedtoken",i))}}},unedit:function(t){var e=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;if(e.appendTo(this.$wrapper),this.$input.data("edit",!1),this.$mirror.text(""),this.update(),t){var n=this;setTimeout(function(){n.$input.focus()},1)}},remove:function(e,n){if(!(this.$input.is(document.activeElement)||this._disabled||this._readonly)){var i="click"===e.type?t(e.target).closest(".token"):this.$wrapper.find(".token.active");if("click"!==e.type){if(!n)var n="prev";if(this[n](),"prev"===n)var r=0===i.first().prevAll(".token:first").length}var a={attrs:this.getTokenData(i),relatedTarget:i.get(0)},o=t.Event("tokenfield:removetoken",a);if(this.$element.trigger(o),!o.isDefaultPrevented()){var s=t.Event("tokenfield:removedtoken",a),u=t.Event("change",{initiator:"tokenfield"});i.remove(),this.$element.val(this.getTokensList()).trigger(s).trigger(u),(!this.$wrapper.find(".token").length||"click"===e.type||r)&&this.$input.focus(),this.$input.css("width",this.options.minWidth+"px"),this.update(),e.preventDefault(),e.stopPropagation()}}},update:function(){var t=this.$input.val(),e=parseInt(this.$input.css("padding-left"),10),n=parseInt(this.$input.css("padding-right"),10),i=e+n;if(this.$input.data("edit")){if(t||(t=this.$input.prop("placeholder")),t===this.$mirror.text())return;this.$mirror.text(t);var r=this.$mirror.width()+10;if(r>this.$wrapper.width())return this.$input.width(this.$wrapper.width());this.$input.width(r)}else{if(this.$input.css("width",this.options.minWidth+"px"),"rtl"===this.textDirection)return this.$input.width(this.$input.offset().left+this.$input.outerWidth()-this.$wrapper.offset().left-parseInt(this.$wrapper.css("padding-left"),10)-i-1);this.$input.width(this.$wrapper.offset().left+this.$wrapper.width()+parseInt(this.$wrapper.css("padding-left"),10)-this.$input.offset().left-i)}},focusInput:function(e){if(!(t(e.target).closest(".token").length||t(e.target).closest(".token-input").length||t(e.target).closest(".tt-dropdown-menu").length)){var n=this;setTimeout(function(){n.$input.focus()},0)}},search:function(){this.$input.data("ui-autocomplete")&&this.$input.autocomplete("search")},disable:function(){this.setProperty("disabled",!0)},enable:function(){this.setProperty("disabled",!1)},readonly:function(){this.setProperty("readonly",!0)},writeable:function(){this.setProperty("readonly",!1)},setProperty:function(t,e){this["_"+t]=e,this.$input.prop(t,e),this.$element.prop(t,e),this.$wrapper[e?"addClass":"removeClass"](t)},destroy:function(){this.$element.val(this.getTokensList()),this.$element.css(this.$element.data("original-styles")),this.$element.prop("tabindex",this.$element.data("original-tabindex"));var e=t('label[for="'+this.$input.prop("id")+'"]');e.length&&e.prop("for",this.$element.prop("id")),this.$element.insertBefore(this.$wrapper),this.$element.removeData("original-styles").removeData("original-tabindex").removeData("bs.tokenfield"),this.$wrapper.remove();var n=this.$element;return delete this,n}};var i=t.fn.tokenfield;return t.fn.tokenfield=function(e,i){var r,a=[];Array.prototype.push.apply(a,arguments);var o=this.each(function(){var o=t(this),s=o.data("bs.tokenfield"),u="object"==typeof e&&e;"string"==typeof e&&s&&s[e]?(a.shift(),r=s[e].apply(s,a)):s||"string"==typeof e||i||o.data("bs.tokenfield",s=new n(this,u))});return"undefined"!=typeof r?r:o},t.fn.tokenfield.defaults={minWidth:60,minLength:0,allowEditing:!0,limit:0,autocomplete:{},typeahead:{},showAutocompleteOnFocus:!1,createTokensOnBlur:!1,delimiter:",",beautify:!0},t.fn.tokenfield.Constructor=n,t.fn.tokenfield.noConflict=function(){return t.fn.tokenfield=i,this},n}),function(t){"use strict";function e(t){return t.replace(/,/g,".").replace(/[^0-9\.]/g,"")}function n(t){return parseFloat(e(t))>=10}var i,r={bridge:null,version:"0.0.0",disabled:null,outdated:null,ready:null},a={},o=0,s={},u=0,l={},c=null,p=null,d=function(){var t,e,n,i,r="ZeroClipboard.swf";if(document.currentScript&&(i=document.currentScript.src));else{var a=document.getElementsByTagName("script");if("readyState"in a[0])for(t=a.length;t--&&("interactive"!==a[t].readyState||!(i=a[t].src)););else if("loading"===document.readyState)i=a[a.length-1].src;else{for(t=a.length;t--;){if(n=a[t].src,!n){e=null;break}if(n=n.split("#")[0].split("?")[0],n=n.slice(0,n.lastIndexOf("/")+1),null==e)e=n;else if(e!==n){e=null;break}}null!==e&&(i=e)}}return i&&(i=i.split("#")[0].split("?")[0],r=i.slice(0,i.lastIndexOf("/")+1)+r),r}(),h=function(){var t=/\-([a-z])/g,e=function(t,e){return e.toUpperCase()};return function(n){return n.replace(t,e)}}(),f=function(e,n){var i,r,a;return t.getComputedStyle?i=t.getComputedStyle(e,null).getPropertyValue(n):(r=h(n),i=e.currentStyle?e.currentStyle[r]:e.style[r]),"cursor"!==n||i&&"auto"!==i||(a=e.tagName.toLowerCase(),"a"!==a)?i:"pointer"},m=function(e){e||(e=t.event);var n;this!==t?n=this:e.target?n=e.target:e.srcElement&&(n=e.srcElement),O.activate(n)},g=function(t,e,n){t&&1===t.nodeType&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n))},v=function(t,e,n){t&&1===t.nodeType&&(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n))},y=function(t,e){if(!t||1!==t.nodeType)return t;if(t.classList)return t.classList.contains(e)||t.classList.add(e),t;if(e&&"string"==typeof e){var n=(e||"").split(/\s+/);if(1===t.nodeType)if(t.className){for(var i=" "+t.className+" ",r=t.className,a=0,o=n.length;o>a;a++)i.indexOf(" "+n[a]+" ")<0&&(r+=" "+n[a]);t.className=r.replace(/^\s+|\s+$/g,"")}else t.className=e}return t},b=function(t,e){if(!t||1!==t.nodeType)return t;if(t.classList)return t.classList.contains(e)&&t.classList.remove(e),t;if(e&&"string"==typeof e||void 0===e){var n=(e||"").split(/\s+/);if(1===t.nodeType&&t.className)if(e){for(var i=(" "+t.className+" ").replace(/[\n\t]/g," "),r=0,a=n.length;a>r;r++)i=i.replace(" "+n[r]+" "," ");t.className=i.replace(/^\s+|\s+$/g,"")}else t.className=""}return t},w=function(){var t,e,n,i=1;return"function"==typeof document.body.getBoundingClientRect&&(t=document.body.getBoundingClientRect(),e=t.right-t.left,n=document.body.offsetWidth,i=Math.round(e/n*100)/100),i},S=function(e,n){var i={left:0,top:0,width:0,height:0,zIndex:E(n)-1};if(e.getBoundingClientRect){var r,a,o,s=e.getBoundingClientRect();"pageXOffset"in t&&"pageYOffset"in t?(r=t.pageXOffset,a=t.pageYOffset):(o=w(),r=Math.round(document.documentElement.scrollLeft/o),a=Math.round(document.documentElement.scrollTop/o));var u=document.documentElement.clientLeft||0,l=document.documentElement.clientTop||0;i.left=s.left+r-u,i.top=s.top+a-l,i.width="width"in s?s.width:s.right-s.left,i.height="height"in s?s.height:s.bottom-s.top}return i},$=function(t,e){var n=null==e||e&&e.cacheBust===!0&&e.useNoCache===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},k=function(e){var n,i,r,a=[],o=[],s=[];if(e.trustedOrigins&&("string"==typeof e.trustedOrigins?o.push(e.trustedOrigins):"object"==typeof e.trustedOrigins&&"length"in e.trustedOrigins&&(o=o.concat(e.trustedOrigins))),e.trustedDomains&&("string"==typeof e.trustedDomains?o.push(e.trustedDomains):"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(o=o.concat(e.trustedDomains))),o.length)for(n=0,i=o.length;i>n;n++)if(o.hasOwnProperty(n)&&o[n]&&"string"==typeof o[n]){if(r=A(o[n]),!r)continue;if("*"===r){s=[r];break}s.push.apply(s,[r,"//"+r,t.location.protocol+"//"+r])}return s.length&&a.push("trustedOrigins="+encodeURIComponent(s.join(","))),"string"==typeof e.jsModuleId&&e.jsModuleId&&a.push("jsModuleId="+encodeURIComponent(e.jsModuleId)),a.join("&")},x=function(t,e,n){if("function"==typeof e.indexOf)return e.indexOf(t,n);var i,r=e.length;for("undefined"==typeof n?n=0:0>n&&(n=r+n),i=n;r>i;i++)if(e.hasOwnProperty(i)&&e[i]===t)return i;return-1},C=function(t){if("string"==typeof t)throw new TypeError("ZeroClipboard doesn't accept query strings.");return t.length?t:[t]},_=function(e,n,i,r){r?t.setTimeout(function(){e.apply(n,i)},0):e.apply(n,i)},E=function(t){var e,n;return t&&("number"==typeof t&&t>0?e=t:"string"==typeof t&&(n=parseInt(t,10))&&!isNaN(n)&&n>0&&(e=n)),e||("number"==typeof q.zIndex&&q.zIndex>0?e=q.zIndex:"string"==typeof q.zIndex&&(n=parseInt(q.zIndex,10))&&!isNaN(n)&&n>0&&(e=n)),e||0},T=function(t,e){if(t&&e!==!1&&"undefined"!=typeof console&&console&&(console.warn||console.log)){var n="`"+t+"` is deprecated. See docs for more info:\n    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";console.warn?console.warn(n):console.log(n)}},I=function(){var t,e,n,i,r,a,o=arguments[0]||{};for(t=1,e=arguments.length;e>t;t++)if(null!=(n=arguments[t]))for(i in n)if(n.hasOwnProperty(i)){if(r=o[i],a=n[i],o===a)continue;void 0!==a&&(o[i]=a)}return o},A=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var n=t.indexOf("/");return t=-1===n?t:-1===e||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},P=function(){var t=function(t,e){var n,i,r;if(null!=t&&"*"!==e[0]&&("string"==typeof t&&(t=[t]),"object"==typeof t&&"length"in t))for(n=0,i=t.length;i>n;n++)if(t.hasOwnProperty(n)&&(r=A(t[n]))){if("*"===r){e.length=0,e.push("*");break}-1===x(r,e)&&e.push(r)}},e={always:"always",samedomain:"sameDomain",never:"never"};return function(n,i){var r,a=i.allowScriptAccess;if("string"==typeof a&&(r=a.toLowerCase())&&/^always|samedomain|never$/.test(r))return e[r];var o=A(i.moviePath);null===o&&(o=n);var s=[];t(i.trustedOrigins,s),t(i.trustedDomains,s);var u=s.length;if(u>0){if(1===u&&"*"===s[0])return"always";if(-1!==x(n,s))return 1===u&&n===o?"sameDomain":"always"}return"never"}}(),H=function(t){if(null==t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},R=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&delete t[e];return t},D=function(){try{return document.activeElement}catch(t){}return null},j=function(){var t=!1;if("boolean"==typeof r.disabled)t=r.disabled===!1;else{if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){}!t&&navigator.mimeTypes["application/x-shockwave-flash"]&&(t=!0)}return t},O=function(t,e){return this instanceof O?(this.id=""+o++,s[this.id]={instance:this,elements:[],handlers:{}},t&&this.clip(t),"undefined"!=typeof e&&(T("new ZeroClipboard(elements, options)",q.debug),O.config(e)),this.options=O.config(),"boolean"!=typeof r.disabled&&(r.disabled=!j()),void(r.disabled===!1&&r.outdated!==!0&&null===r.bridge&&(r.outdated=!1,r.ready=!1,F()))):new O(t,e)};O.prototype.setText=function(t){return t&&""!==t&&(a["text/plain"]=t,r.ready===!0&&r.bridge&&"function"==typeof r.bridge.setText?r.bridge.setText(t):r.ready=!1),this},O.prototype.setSize=function(t,e){return r.ready===!0&&r.bridge&&"function"==typeof r.bridge.setSize?r.bridge.setSize(t,e):r.ready=!1,this};var L=function(t){r.ready===!0&&r.bridge&&"function"==typeof r.bridge.setHandCursor?r.bridge.setHandCursor(t):r.ready=!1};O.prototype.destroy=function(){this.unclip(),this.off(),delete s[this.id]};var z=function(){var t,e,n,i=[],r=H(s);for(t=0,e=r.length;e>t;t++)n=s[r[t]].instance,n&&n instanceof O&&i.push(n);return i};O.version="1.3.5";var q={swfPath:d,trustedDomains:t.location.host?[t.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};O.config=function(t){"object"==typeof t&&null!==t&&I(q,t);{if("string"!=typeof t||!t){var e={};for(var n in q)q.hasOwnProperty(n)&&(e[n]="object"==typeof q[n]&&null!==q[n]?"length"in q[n]?q[n].slice(0):I({},q[n]):q[n]);return e}if(q.hasOwnProperty(t))return q[t]}},O.destroy=function(){O.deactivate();for(var t in s)if(s.hasOwnProperty(t)&&s[t]){var e=s[t].instance;e&&"function"==typeof e.destroy&&e.destroy()}var n=N(r.bridge);n&&n.parentNode&&(n.parentNode.removeChild(n),r.ready=null,r.bridge=null)},O.activate=function(t){i&&(b(i,q.hoverClass),b(i,q.activeClass)),i=t,y(t,q.hoverClass),B();var e=q.title||t.getAttribute("title");if(e){var n=N(r.bridge);n&&n.setAttribute("title",e)}var a=q.forceHandCursor===!0||"pointer"===f(t,"cursor");L(a)},O.deactivate=function(){var t=N(r.bridge);t&&(t.style.left="0px",t.style.top="-9999px",t.removeAttribute("title")),i&&(b(i,q.hoverClass),b(i,q.activeClass),i=null)};var F=function(){var e,n,i=document.getElementById("global-zeroclipboard-html-bridge");if(!i){var a=O.config();a.jsModuleId="string"==typeof c&&c||"string"==typeof p&&p||null;var o=P(t.location.host,q),s=k(a),u=q.moviePath+$(q.moviePath,q),l='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+u+'"/>         <param name="allowScriptAccess" value="'+o+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+s+'"/>         <embed src="'+u+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+o+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+s+'"           scale="exactfit">         </embed>       </object>';i=document.createElement("div"),i.id="global-zeroclipboard-html-bridge",i.setAttribute("class","global-zeroclipboard-container"),i.style.position="absolute",i.style.left="0px",i.style.top="-9999px",i.style.width="15px",i.style.height="15px",i.style.zIndex=""+E(q.zIndex),document.body.appendChild(i),i.innerHTML=l}e=document["global-zeroclipboard-flash-bridge"],e&&(n=e.length)&&(e=e[n-1]),r.bridge=e||i.children[0].lastElementChild},N=function(t){for(var e=/^OBJECT|EMBED$/,n=t&&t.parentNode;n&&e.test(n.nodeName)&&n.parentNode;)n=n.parentNode;return n||null},B=function(){if(i){var t=S(i,q.zIndex),e=N(r.bridge);e&&(e.style.top=t.top+"px",e.style.left=t.left+"px",e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.zIndex=t.zIndex+1),r.ready===!0&&r.bridge&&"function"==typeof r.bridge.setSize?r.bridge.setSize(t.width,t.height):r.ready=!1}return this};O.prototype.on=function(t,e){var n,i,a,o={},u=s[this.id]&&s[this.id].handlers;if("string"==typeof t&&t)a=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)t.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.on(n,t[n]);if(a&&a.length){for(n=0,i=a.length;i>n;n++)t=a[n].replace(/^on/,""),o[t]=!0,u[t]||(u[t]=[]),u[t].push(e);o.noflash&&r.disabled&&K.call(this,"noflash",{}),o.wrongflash&&r.outdated&&K.call(this,"wrongflash",{flashVersion:r.version}),o.load&&r.ready&&K.call(this,"load",{flashVersion:r.version})}return this},O.prototype.off=function(t,e){var n,i,r,a,o,u=s[this.id]&&s[this.id].handlers;if(0===arguments.length)a=H(u);else if("string"==typeof t&&t)a=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)t.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.off(n,t[n]);if(a&&a.length)for(n=0,i=a.length;i>n;n++)if(t=a[n].toLowerCase().replace(/^on/,""),o=u[t],o&&o.length)if(e)for(r=x(e,o);-1!==r;)o.splice(r,1),r=x(e,o,r);else u[t].length=0;return this},O.prototype.handlers=function(t){var e,n=null,i=s[this.id]&&s[this.id].handlers;if(i){if("string"==typeof t&&t)return i[t]?i[t].slice(0):null;n={};for(e in i)i.hasOwnProperty(e)&&i[e]&&(n[e]=i[e].slice(0))}return n};var M=function(e,n,i,r){var a=s[this.id]&&s[this.id].handlers[e];if(a&&a.length){var o,u,l,c=n||this;for(o=0,u=a.length;u>o;o++)l=a[o],n=c,"string"==typeof l&&"function"==typeof t[l]&&(l=t[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(n=l,l=l.handleEvent),"function"==typeof l&&_(l,n,i,r)}return this};O.prototype.clip=function(t){t=C(t);for(var e=0;e<t.length;e++)if(t.hasOwnProperty(e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===x(this.id,l[t[e].zcClippingId])&&l[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+u++,l[t[e].zcClippingId]=[this.id],q.autoActivate===!0&&g(t[e],"mouseover",m));var n=s[this.id].elements;-1===x(t[e],n)&&n.push(t[e])}return this},O.prototype.unclip=function(t){var e=s[this.id];if(e){var n,i=e.elements;t="undefined"==typeof t?i.slice(0):C(t);for(var r=t.length;r--;)if(t.hasOwnProperty(r)&&t[r]&&1===t[r].nodeType){for(n=0;-1!==(n=x(t[r],i,n));)i.splice(n,1);var a=l[t[r].zcClippingId];if(a){for(n=0;-1!==(n=x(this.id,a,n));)a.splice(n,1);0===a.length&&(q.autoActivate===!0&&v(t[r],"mouseover",m),delete t[r].zcClippingId)}}}return this},O.prototype.elements=function(){var t=s[this.id];return t&&t.elements?t.elements.slice(0):[]};var U=function(t){var e,n,i,r,a,o=[];if(t&&1===t.nodeType&&(e=t.zcClippingId)&&l.hasOwnProperty(e)&&(n=l[e],n&&n.length))for(i=0,r=n.length;r>i;i++)a=s[n[i]].instance,a&&a instanceof O&&o.push(a);return o};q.hoverClass="zeroclipboard-is-hover",q.activeClass="zeroclipboard-is-active",q.trustedOrigins=null,q.allowScriptAccess=null,q.useNoCache=!0,q.moviePath="ZeroClipboard.swf",O.detectFlashSupport=function(){return T("ZeroClipboard.detectFlashSupport",q.debug),j()},O.dispatch=function(t,e){if("string"==typeof t&&t){var n=t.toLowerCase().replace(/^on/,"");if(n)for(var r=i&&q.autoActivate===!0?U(i):z(),a=0,o=r.length;o>a;a++)K.call(r[a],n,e)}},O.prototype.setHandCursor=function(t){return T("ZeroClipboard.prototype.setHandCursor",q.debug),t="boolean"==typeof t?t:!!t,L(t),q.forceHandCursor=t,this},O.prototype.reposition=function(){return T("ZeroClipboard.prototype.reposition",q.debug),B()},O.prototype.receiveEvent=function(t,e){if(T("ZeroClipboard.prototype.receiveEvent",q.debug),"string"==typeof t&&t){var n=t.toLowerCase().replace(/^on/,"");n&&K.call(this,n,e)}},O.prototype.setCurrent=function(t){return T("ZeroClipboard.prototype.setCurrent",q.debug),O.activate(t),this},O.prototype.resetBridge=function(){return T("ZeroClipboard.prototype.resetBridge",q.debug),O.deactivate(),this},O.prototype.setTitle=function(t){if(T("ZeroClipboard.prototype.setTitle",q.debug),t=t||q.title||i&&i.getAttribute("title")){var e=N(r.bridge);e&&e.setAttribute("title",t)}return this},O.setDefaults=function(t){T("ZeroClipboard.setDefaults",q.debug),O.config(t)},O.prototype.addEventListener=function(t,e){return T("ZeroClipboard.prototype.addEventListener",q.debug),this.on(t,e)},O.prototype.removeEventListener=function(t,e){return T("ZeroClipboard.prototype.removeEventListener",q.debug),this.off(t,e)},O.prototype.ready=function(){return T("ZeroClipboard.prototype.ready",q.debug),r.ready===!0};var K=function(t,o){t=t.toLowerCase().replace(/^on/,"");var s=o&&o.flashVersion&&e(o.flashVersion)||null,u=i,l=!0;switch(t){case"load":if(s){if(!n(s))return void K.call(this,"onWrongFlash",{flashVersion:s});r.outdated=!1,r.ready=!0,r.version=s}break;case"wrongflash":s&&!n(s)&&(r.outdated=!0,r.ready=!1,r.version=s);break;case"mouseover":y(u,q.hoverClass);break;case"mouseout":q.autoActivate===!0&&O.deactivate();break;case"mousedown":y(u,q.activeClass);break;case"mouseup":b(u,q.activeClass);break;case"datarequested":if(u){var c=u.getAttribute("data-clipboard-target"),p=c?document.getElementById(c):null;if(p){var d=p.value||p.textContent||p.innerText;d&&this.setText(d)}else{var h=u.getAttribute("data-clipboard-text");h&&this.setText(h)}}l=!1;break;case"complete":R(a),u&&u!==D()&&u.focus&&u.focus()}var f=u,m=[this,o];return M.call(this,t,f,m,l)};"function"==typeof define&&define.amd?define(["require","exports","module"],function(t,e,n){return c=n&&n.id||null,O}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports&&"function"==typeof t.require?(p=module.id||null,module.exports=O):t.ZeroClipboard=O}(function(){return this}()),function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1
},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var a,o,s=this,u=arguments;return a=function(){i=null,n||(r=t.apply(s,u))},o=n&&!i,clearTimeout(i),i=setTimeout(a,e),o&&(r=t.apply(s,u)),r}},throttle:function(t,e){var n,i,r,a,o,s;return o=0,s=function(){o=new Date,r=null,a=t.apply(n,i)},function(){var u=new Date,l=e-(u-o);return n=this,i=arguments,0>=l?(clearTimeout(r),r=null,o=u,a=t.apply(n,i)):r||(r=setTimeout(s,l)),a}},noop:function(){}}}(),n="0.10.4",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(){var n=[].slice.call(arguments,0);return function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),a=function(){"use strict";function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function i(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(t){return JSON.parse(t)}var a,o;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(s){a=null}return o=a&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),r(a.getItem(this._prefix(t)))},set:function(t,r,o){return e.isNumber(o)?a.setItem(this._ttlKey(t),i(n()+o)):a.removeItem(this._ttlKey(t)),a.setItem(this._prefix(t),i(r))},remove:function(t){return a.removeItem(this._ttlKey(t)),a.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],i=a.length;for(t=0;i>t;t++)(e=a.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var i=r(a.getItem(this._ttlKey(t)));return e.isNumber(i)&&n()>i?!0:!1}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,o),t}(),o=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastUrl=null,this._send=e.transport?i(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get,this._cache=e.cache===!1?new r(0):u}function i(n){return function(i,r){function a(t){e.defer(function(){s.resolve(t)})}function o(t){e.defer(function(){s.reject(t)})}var s=t.Deferred();return n(i,r,a,o),s}}var a=0,o={},s=6,u=new r(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){u.reset()},e.mixin(n.prototype,{_get:function(t,e,n){function i(e){n&&n(null,e),c._cache.set(t,e)}function r(){n&&n(!0)}function u(){a--,delete o[t],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,c=this;this.cancelled||t!==this.lastUrl||((l=o[t])?l.done(i).fail(r):s>a?(a++,o[t]=this._send(t,e).done(i).fail(r).always(u)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,n,i){var r;return e.isFunction(n)&&(i=n,n={}),this.cancelled=!1,this.lastUrl=t,(r=this._cache.get(t))?e.defer(function(){i&&i(null,r)}):this._get(t,n,i),!!r},cancel:function(){this.cancelled=!0}}),n}(),s=function(){"use strict";function n(e){e=e||{},e.datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){return{ids:[],children:{}}}function a(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function o(t,e){function n(t,e){return t-e}var i=0,r=0,a=[];t=t.sort(n),e=e.sort(n);for(var o=t.length,s=e.length;o>i&&s>r;)t[i]<e[r]?i++:t[i]>e[r]?r++:(a.push(t[i]),i++,r++);return a}return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var a,o;a=n.datums.push(t)-1,o=i(n.datumTokenizer(t)),e.each(o,function(t){var e,i,o;for(e=n.trie,i=t.split("");o=i.shift();)e=e.children[o]||(e.children[o]=r()),e.ids.push(a)})})},get:function(t){var n,r,s=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,a;if(r&&0===r.length)return!1;for(e=s.trie,n=t.split("");e&&(i=n.shift());)e=e.children[i];return e&&0===n.length?(a=e.ids.slice(0),void(r=r?o(r,a):a)):(r=[],!1)}),r?e.map(a(r),function(t){return s.datums[t]}):[]},reset:function(){this.datums=[],this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),u=function(){"use strict";function i(t){return t.local||null}function r(i){var r,a;return a={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=i.prefetch||null)&&(r=e.isString(r)?{url:r}:r,r=e.mixin(a,r),r.thumbprint=n+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&t.error("prefetch requires url to be set")),r}function a(n){function i(t){return function(n){return e.debounce(n,t)}}function r(t){return function(n){return e.throttle(n,t)}}var a,o;return o={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(a=n.remote||null)&&(a=e.isString(a)?{url:a}:a,a=e.mixin(o,a),a.rateLimiter=/^throttle$/i.test(a.rateLimitBy)?r(a.rateLimitWait):i(a.rateLimitWait),a.ajax.type=a.ajax.type||"GET",a.ajax.dataType=a.ajax.dataType||"json",delete a.rateLimitBy,delete a.rateLimitWait,!a.url&&t.error("remote requires url to be set")),a}return{local:i,prefetch:r,remote:a}}();!function(n){"use strict";function r(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=l(e.sorter),this.dupDetector=e.dupDetector||c,this.local=u.local(e),this.prefetch=u.prefetch(e),this.remote=u.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new s({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new a(this.cacheKey):null}function l(t){function n(e){return e.sort(t)}function i(t){return t}return e.isFunction(t)?n:i}function c(){return!1}var p,d;return p=n.Bloodhound,d={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=r,r.noConflict=function(){return n.Bloodhound=p,r},r.tokenizers=i,e.mixin(r.prototype,{_loadPrefetch:function(e){function n(t){a.clear(),a.add(e.filter?e.filter(t):t),a._saveToStorage(a.index.serialize(),e.thumbprint,e.ttl)}var i,r,a=this;return(i=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(i),r=t.Deferred().resolve()):r=t.ajax(e.url,e.ajax).done(n),r},_getFromRemote:function(t,e){function n(t,n){e(t?[]:a.remote.filter?a.remote.filter(n):n)}var i,r,a=this;if(this.transport)return t=t||"",r=encodeURIComponent(t),i=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(t,e,n){this.storage&&(this.storage.set(d.data,t,n),this.storage.set(d.protocol,location.protocol,n),this.storage.set(d.thumbprint,e,n))},_readFromStorage:function(t){var e,n={};return this.storage&&(n.data=this.storage.get(d.data),n.protocol=this.storage.get(d.protocol),n.thumbprint=this.storage.get(d.thumbprint)),e=n.thumbprint!==t||n.protocol!==location.protocol,n.data&&!e?n.data:null},_initialize:function(){function n(){r.add(e.isFunction(a)?a():a)}var i,r=this,a=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),a&&i.done(n),this.transport=this.remote?new o(this.remote):null,this.initPromise=i.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,n){function i(t){var i=a.slice(0);e.each(t,function(t){var n;return n=e.some(i,function(e){return r.dupDetector(t,e)}),!n&&i.push(t),i.length<r.limit}),n&&n(r.sorter(i))}var r=this,a=[],o=!1;a=this.index.get(t),a=this.sorter(a).slice(0,this.limit),a.length<this.limit?o=this._getFromRemote(t,i):this._cancelLastRemoteRequest(),o||(a.length>0||!this.transport)&&n&&n(a)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&o.resetCache()},ttAdapter:function(){return e.bind(this.get,this)}}),r}(this);var l=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),c=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),p=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),n}(),d=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(u),n=i?s(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,o;if(!this._callbacks)return this;for(t=t.split(u),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=a(n.sync,this,[e].concat(i)),o=a(n.async,this,[e].concat(i)),r()&&l(o);return this}function a(t,e,n){function i(){for(var i,r=0,a=t.length;!i&&a>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function o(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function s(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var u=/\s+/,l=o();return{onSync:n,onAsync:e,off:i,trigger:r}}(),h=function(t){"use strict";function n(t,n,i){for(var r,a=[],o=0,s=t.length;s>o;o++)a.push(e.escapeRegExChars(t[o]));return r=i?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function a(e){var n,i,a;return(n=s.exec(e.data))&&(a=t.createElement(r.tagName),r.className&&(a.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),a.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(a,i)),!!n}function o(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:o(n,e)}var s;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,a))}}(window.document),f=function(){"use strict";function n(n){var r,a,s,u,l=this;n=n||{},n.input||t.error("input is missing"),r=e.bind(this._onBlur,this),a=e.bind(this._onFocus,this),s=e.bind(this._onKeydown,this),u=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",r).on("focus.tt",a).on("keydown.tt",s),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){o[t.which||t.keyCode]||e.defer(e.bind(l._onInput,l,t))}):this.$input.on("input.tt",u),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function a(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,d,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=o[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,r;switch(t){case"tab":i=this.getHint(),r=this.getInputValue(),n=i&&i!==r&&!a(e);break;case"up":case"down":n=!a(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!a(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;t=this.getInputValue(),e=r(t,this.query),n=e?this.query.length!==t.length:!1,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),m=function(){"use strict";function n(n){n=n||{},n.templates=n.templates||{},n.source||t.error("missing source"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||e.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=r(n.templates,this.displayFn),this.$el=t(l.dataset.replace("%CLASS%",this.name))}function i(t){function n(e){return e[t]}return t=t||"value",e.isFunction(t)?t:n}function r(t,n){function i(t){return"<p>"+n(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||i}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var o="ttDataset",s="ttValue",u="ttDatum";return n.extractDatasetName=function(e){return t(e).data(o)},n.extractValue=function(e){return t(e).data(s)},n.extractDatum=function(e){return t(e).data(u)},e.mixin(n.prototype,d,{_render:function(n,i){function r(){return m.templates.empty({query:n,isEmpty:!0})}function a(){function r(e){var n;return n=t(l.suggestion).append(m.templates.suggestion(e)).data(o,m.name).data(s,m.displayFn(e)).data(u,e),n.children().each(function(){t(this).css(c.suggestionChild)}),n}var a,p;return a=t(l.suggestions).css(c.suggestions),p=e.map(i,r),a.append.apply(a,p),m.highlight&&h({className:"tt-highlight",node:a[0],pattern:n}),a}function p(){return m.templates.header({query:n,isEmpty:!f})}function d(){return m.templates.footer({query:n,isEmpty:!f})}if(this.$el){var f,m=this;this.$el.empty(),f=i&&i.length,!f&&this.templates.empty?this.$el.html(r()).prepend(m.templates.header?p():null).append(m.templates.footer?d():null):f&&this.$el.html(a()).prepend(m.templates.header?p():null).append(m.templates.footer?d():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),g=function(){"use strict";function n(n){var r,a,o,s=this;n=n||{},n.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,i),r=e.bind(this._onSuggestionClick,this),a=e.bind(this._onSuggestionMouseEnter,this),o=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",a).on("mouseleave.tt",".tt-suggestion",o),e.each(this.datasets,function(t){s.$menu.append(t.getRoot()),t.onSync("rendered",s._onRendered,s)})}function i(t){return new m(t)}return e.mixin(n.prototype,d,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,r;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),i=e.index(n)+t,i=(i+1)%(e.length+1)-1,-1===i)return void this.trigger("cursorRemoved");-1>i&&(i=e.length-1),this._setCursor(r=e.eq(i)),this._ensureVisible(r)}},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(i+e):n>r&&this.$menu.scrollTop(i+(n-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?c.ltr:c.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:m.extractDatum(t),value:m.extractValue(t),datasetName:m.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function n(e){e.update(t)}e.each(this.datasets,n)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),n}(),v=function(){"use strict";function n(n){var r,a,o;n=n||{},n.input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),a=this.$node.find(".tt-input"),o=this.$node.find(".tt-hint"),a.on("blur.tt",function(t){var n,i,o;n=document.activeElement,i=r.is(n),o=r.has(n).length>0,e.isMsie()&&(i||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){a.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new p({el:a}),this.dropdown=new g({menu:r,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new f({input:a,hint:o}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(e,n){var i,a,s,u;i=t(e),a=t(l.wrapper).css(c.wrapper),s=t(l.dropdown).css(c.dropdown),u=i.clone().css(c.hint).css(r(i)),u.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(o,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?c.input:c.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(p){}return i.wrap(a).parent().prepend(n?u:null).append(s)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function a(t){var n=t.find(".tt-input");e.each(n.data(o),function(t,i){e.isUndefined(t)?n.removeAttr(i):n.attr(i,t)}),n.detach().removeData(o).removeClass("tt-input").insertAfter(t),t.remove()}var o="ttAttrs";return e.mixin(n.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,n,i,r,a,o;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=f.normalizeQuery(n),r=e.escapeRegExChars(i),a=new RegExp("^(?:"+r+")(.+$)","i"),o=a.exec(t.value),o?this.input.setHint(n+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,r;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&(r=this.dropdown.getDatumForTopSuggestion(),r&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),a(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,i,r;n=t.fn.typeahead,i="ttTypeahead",r={initialize:function(n,r){function a(){var a,o,s=t(this);e.each(r,function(t){t.highlight=!!n.highlight}),o=new v({input:s,eventBus:a=new p({el:s}),withHint:e.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:r}),s.data(i,o)}return r=e.isArray(r)?r:[].slice.call(arguments,1),n=n||{},this.each(a)},open:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.open()}return this.each(e)},close:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.close()}return this.each(e)},val:function(e){function n(){var n,r=t(this);(n=r.data(i))&&n.setVal(e)}function r(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):r(this.first())},destroy:function(){function e(){var e,n=t(this);(e=n.data(i))&&(e.destroy(),n.removeData(i))}return this.each(e)}},t.fn.typeahead=function(e){var n;return r[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(i)}),r[e].apply(n,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this}}()}(window.jQuery);var EveSRP;EveSRP||(EveSRP={}),EveSRP.util={capitalize:function(t){var e=t.substr(0,1).toUpperCase();return e+=t.slice(1)},monthAbbr:function(t){switch(t){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec"}},padNum:function(t,e){for(t+="";t.length<e;)t=0+t;return t},statusColor:function(t){switch(t){case"evaluating":return"warning";case"approved":return"info";case"paid":return"success";case"incomplete":case"rejected":return"danger";default:return""}},pageNumbers:function(t,e,n){void 0===n&&(n={left_edge:2,left_current:2,right_current:5,right_edge:2});for(var i=[],r=0;t>r;++r)r<n.left_edge?i.push(r):e-n.left_current-1<r&&r<e+n.right_current?i.push(r):t-n.right_edge-1<r?i.push(r):null!==i[i.length-1]&&i.push(null);return i},getAttributeChoices:function(t){if("status"===t){var e=["evaluating","approved","rejected","incomplete","paid"];return $.Deferred().resolve({key:"status",status:e})}return"details"===t?$.Deferred().resolve({key:"details",details:null}):$.ajax({type:"GET",url:$SCRIPT_ROOT+"/api/filter/"+t+"/"})},trimEmpty:function(t){var e=t.slice(0);return""===e[0]&&(e=e.slice(1)),""===e.slice(-1)[0]&&(e=e.slice(0,-1)),e},splitFilterString:function(t){var e=t.split("/"),n=["page","division","alliance","corporation","pilot","system","constellation","region","ship","status","details","sort"],i=[];for(e=this.trimEmpty(e),e.reverse();e.length>0&&-1===$.inArray(e.slice(-1)[0],n);)i.push(e.pop());return e.reverse(),[i.join("/"),e.join("/")]},parseFilterString:function(t){var e,n,i,r,a={_keys:[]};if(void 0===t||""===t)return a;if(e=t.split("/"),e=this.trimEmpty(e),e.length%2!==0)return a;for(n=0;n<e.length;n+=2)i=e[n].toLowerCase(),r=decodeURIComponent(e[n+1]),-1===$.inArray(i,a._keys)&&(a[i]=[],a._keys.push(i)),"details"===i?a.details=_(a[i]).union(r):"page"===i?a.page=parseInt(r,10):"sort"===i?a.sort=r:-1!==r.indexOf(",")?(r=r.split(","),a[i]=_(a[i]).union(r)):a[i]=_(a[i]).union([r]);return a},unparseFilters:function(t){var e=[];return t._keys.sort(),$.each(t._keys,function(n,i){var r=t[i];"details"===i?$.each(r,function(t,n){e.push("details/"+n)}):"page"===i?e.push("page/"+r):"sort"===i?e.push("sort/"+r):r.length>0&&(r.sort(),e.push(i+"/"+r.join(",")))}),e.join("/")}},Handlebars.registerHelper("csrf",function(){return $("meta[name='csrf_token']").attr("content")}),Handlebars.registerHelper("capitalize",function(t){return EveSRP.util.capitalize(t)}),Handlebars.registerHelper("datefmt",function(t){return"string"==typeof t&&(t=new Date(t)),t.getUTCDate()+" "+EveSRP.util.monthAbbr(t.getUTCMonth())+" "+t.getUTCFullYear()
}),Handlebars.registerHelper("timefmt",function(t){return"string"==typeof t&&(t=new Date(t)),[EveSRP.util.padNum(t.getUTCHours(),2),EveSRP.util.padNum(t.getUTCMinutes(),2)].join(":")}),Handlebars.registerHelper("status_color",function(t){return EveSRP.util.statusColor(t)}),Handlebars.registerHelper("compare",function(t,e,n){var i=n.hash.operator||"===",r={"==":function(t,e){return t==e},"!=":function(t,e){return t!=e},"===":function(t,e){return t===e},"!==":function(t,e){return t!==e},"<":function(t,e){return e>t},">":function(t,e){return t>e},"<=":function(t,e){return e>=t},">=":function(t,e){return t>=e},"in":function(t,e){return t in e}},a=r[i](t,e);return a?n.fn(this):n.inverse(this)}),function(){var t=Handlebars.template,e=Handlebars.templates=Handlebars.templates||{};e.action_menu=t({1:function(t,e,n,i){var r,a="function",o=this.escapeExpression,s=e.helperMissing;return'\n<li>\n  <a href="#" id="'+o(typeof t===a?t.apply(t):t)+'">'+o((r=e.capitalize||t&&t.capitalize||s,r.call(t,t,{name:"capitalize",hash:{},data:i})))+"</a>\n</li>\n"},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a="";return r=e.each.call(t,t&&t.valid_actions,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),(r||0===r)&&(a+=r),a+"\n"},useData:!0}),e.actions=t({1:function(t,e,n,i){var r,a,o=e.helperMissing,s="function",u=this.escapeExpression,l='\n<div class="list-group-item">\n  ';return a=e.status_color||t&&t.status_color||o,r=a.call(t,t&&t.type,{name:"status_color",hash:{},data:i}),r=e["if"].call(t,r,{name:"if",hash:{},fn:this.program(2,i),inverse:this.program(4,i),data:i}),(r||0===r)&&(l+=r),l+'\n  <blockquote class="list-group-item-text">\n    <p>'+u((a=e.note||t&&t.note,typeof a===s?a.call(t,{name:"note",hash:{},data:i}):a))+"</p>\n    <footer>"+u((r=t&&t.user,r=null==r||r===!1?r:r.name,typeof r===s?r.apply(t):r))+" ("+u((a=e.datefmt||t&&t.datefmt||o,a.call(t,t&&t.timestamp,{name:"datefmt",hash:{},data:i})))+" @ "+u((a=e.timefmt||t&&t.timefmt||o,a.call(t,t&&t.timestamp,{name:"timefmt",hash:{},data:i})))+")</footer>\n  </blockquote>\n</div>\n"},2:function(t,e,n,i){var r,a=e.helperMissing,o=this.escapeExpression;return'\n  <h4 class="list-group-item-heading text-'+o((r=e.status_color||t&&t.status_color||a,r.call(t,t&&t.type,{name:"status_color",hash:{},data:i})))+'">'+o((r=e.capitalize||t&&t.capitalize||a,r.call(t,t&&t.type,{name:"capitalize",hash:{},data:i})))+"</h4>\n  "},4:function(){return'\n  <h4 class="list-group-item-heading"></h4>\n  '},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a="";return r=e.each.call(t,t&&t.actions,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),(r||0===r)&&(a+=r),a+"\n"},useData:!0}),e.api_keys=t({1:function(t,e,n,i){var r,a="function",o=this.escapeExpression,s=e.helperMissing;return'\n<tr>\n  <td class="key-button">\n    <button class="btn btn-default btn-sm copy-btn" data-clipboard-text="'+o((r=e.key||t&&t.key,typeof r===a?r.call(t,{name:"key",hash:{},data:i}):r))+'">'+o((r=e.key||t&&t.key,typeof r===a?r.call(t,{name:"key",hash:{},data:i}):r))+"</button>\n  </td>\n  <td>"+o((r=e.datefmt||t&&t.datefmt||s,r.call(t,t&&t.timestamp,{name:"datefmt",hash:{},data:i})))+" @ "+o((r=e.timefmt||t&&t.timefmt||s,r.call(t,t&&t.timestamp,{name:"timefmt",hash:{},data:i})))+'</td>\n  <td>\n    <form method="post">\n      <input id="csrf_token" name="csrf_token" type="hidden" value="'+o(e.csrf.call(t,{name:"csrf",hash:{},data:i}))+'">\n      <input id="action" name="action" type="hidden" value="delete">\n      <input id="key_id" name="key_id" type="hidden" value="'+o((r=e.id||t&&t.id,typeof r===a?r.call(t,{name:"id",hash:{},data:i}):r))+'">\n      <button type="submit" class="close">&times;</button>\n    </form>\n  </td>\n</tr>\n'},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a="";return r=e.each.call(t,t&&t.api_keys,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),(r||0===r)&&(a+=r),a+"\n"},useData:!0}),e.entity_table=t({1:function(t,e,n,i,r){var a,o="function",s=this.escapeExpression,u="\n  <tr>\n    <td>"+s((a=t&&t.name,typeof a===o?a.apply(t):a))+"</td>\n    ";return a=e["if"].call(t,t&&t.length,{name:"if",hash:{},fn:this.program(2,i),inverse:this.program(4,i),data:i}),(a||0===a)&&(u+=a),u+"\n    <td>"+s((a=t&&t.source,typeof a===o?a.apply(t):a))+'</td>\n    <td>\n      <form method="post">\n        <input id="csrf_token" name="csrf_token" type="hidden" value="'+s(e.csrf.call(t,{name:"csrf",hash:{},data:i}))+'">\n        <input id="id_" name="id_" type="hidden" value="'+s((a=t&&t.id,typeof a===o?a.apply(t):a))+'">\n        <input id="permission" name="permission" type="hidden" value="'+s((a=r&&r.name,typeof a===o?a.apply(t):a))+'">\n        <input id="action" name="action" type="hidden" value="delete">\n        <input id="form_id" name="form_id" type="hidden" value="entity">\n        <button class="close" type="submit">&times;</button>\n      </form>\n  </tr>\n  '},2:function(t){var e,n="function",i=this.escapeExpression;return"\n    <td>Group ("+i((e=t&&t.length,typeof e===n?e.apply(t):e))+")</td>\n    "},4:function(){return"\n    <td>User</td>\n    "},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a='<table class="table table-condensed">\n  <tr>\n    <th>Name</th>\n    <th>Type</th>\n    <th>Authentication Source</th>\n    <th>Remove</th>\n  </tr>\n  ';return r=e.each.call(t,t&&t.entities,{name:"each",hash:{},fn:this.programWithDepth(1,i,t),inverse:this.noop,data:i}),(r||0===r)&&(a+=r),a+"\n</table>\n"},useData:!0}),e.flash=t({1:function(t,e,n,i){var r,a="function",o=this.escapeExpression;return'\n  <div class="alert alert-dismissable fade in alert-success" id="flash-'+o((r=e.id||t&&t.id,typeof r===a?r.call(t,{name:"id",hash:{},data:i}):r))+'">\n'},3:function(t,e,n,i){var r,a,o=e.helperMissing,s="\n  ";return a=e.compare||t&&t.compare||o,r=a.call(t,t&&t.category,"warning",{name:"compare",hash:{},fn:this.program(4,i),inverse:this.program(6,i),data:i}),(r||0===r)&&(s+=r),s+"\n"},4:function(t,e,n,i){var r,a="function",o=this.escapeExpression;return'\n    <div class="alert alert-dismissable fade in alert-warning" id="flash-'+o((r=e.id||t&&t.id,typeof r===a?r.call(t,{name:"id",hash:{},data:i}):r))+'">\n  '},6:function(t,e,n,i){var r,a,o=e.helperMissing,s="\n    ";return a=e.compare||t&&t.compare||o,r=a.call(t,t&&t.category,"error",{name:"compare",hash:{},fn:this.program(7,i),inverse:this.program(9,i),data:i}),(r||0===r)&&(s+=r),s+"\n  "},7:function(t,e,n,i){var r,a="function",o=this.escapeExpression;return'\n      <div class="alert alert-dismissable fade in alert-danger" id="flash-'+o((r=e.id||t&&t.id,typeof r===a?r.call(t,{name:"id",hash:{},data:i}):r))+'">\n    '},9:function(t,e,n,i){var r,a="function",o=this.escapeExpression;return'\n      <div class="alert alert-dismissable fade in alert-info" id="flash-'+o((r=e.id||t&&t.id,typeof r===a?r.call(t,{name:"id",hash:{},data:i}):r))+'">\n    '},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a,o=e.helperMissing,s="function",u=this.escapeExpression,l="";return a=e.compare||t&&t.compare||o,r=a.call(t,t&&t.category,"message",{name:"compare",hash:{},fn:this.program(1,i),inverse:this.program(3,i),data:i}),(r||0===r)&&(l+=r),l+'\n  <button type="button" class="close" data-dismiss="alert">&times;</button>\n  '+u((a=e.message||t&&t.message,typeof a===s?a.call(t,{name:"message",hash:{},data:i}):a))+"\n</div>\n"},useData:!0}),e.modifier=t({1:function(){return'\n<div class="panel panel-danger">\n'},3:function(){return'\n<div class="panel panel-success">\n'},5:function(t,e,n,i){var r,a="function",o=this.escapeExpression;return'\n    <div class="panel-body">\n      '+o((r=e.note||t&&t.note,typeof r===a?r.call(t,{name:"note",hash:{},data:i}):r))+"\n    </div>\n    "},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a,o=e.helperMissing,s="function",u=this.escapeExpression,l="";return a=e.compare||t&&t.compare||o,r=a.call(t,t&&t.value,0,{name:"compare",hash:{operator:"<"},fn:this.program(1,i),inverse:this.program(3,i),data:i}),(r||0===r)&&(l+=r),l+='\n  <div class="panel-heading" data-toggle="collapse" data-target="#modifier'+u((a=e.id||t&&t.id,typeof a===s?a.call(t,{name:"id",hash:{},data:i}):a))+'">\n    <h4 class="panel-title">'+u((a=e.value_str||t&&t.value_str,typeof a===s?a.call(t,{name:"value_str",hash:{},data:i}):a))+'</h4>\n  </div>\n  <div id="modifier'+u((a=e.id||t&&t.id,typeof a===s?a.call(t,{name:"id",hash:{},data:i}):a))+'" class="collapse in">\n    ',r=e["if"].call(t,t&&t.note,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),(r||0===r)&&(l+=r),l+'\n    <div class="panel-footer">\n      '+u((r=t&&t.user,r=null==r||r===!1?r:r.name,typeof r===s?r.apply(t):r))+" at "+u((a=e.timefmt||t&&t.timefmt||o,a.call(t,t&&t.timestamp,{name:"timefmt",hash:{},data:i})))+" "+u((a=e.datefmt||t&&t.datefmt||o,a.call(t,t&&t.timestamp,{name:"datefmt",hash:{},data:i})))+"\n    </div>\n  </div>\n</div>\n"},useData:!0}),e.payout_rows=t({1:function(t,e,n,i){var r,a,o=e.helperMissing,s=this.escapeExpression,u="function";return'\n<tr class="'+s((a=e.status_color||t&&t.status_color||o,a.call(t,t&&t.status,{name:"status_color",hash:{},data:i})))+'">\n  <td><button class="btn btn-default btn-sm copy-btn" data-clipboard-text="'+s((a=e.pilot||t&&t.pilot,typeof a===u?a.call(t,{name:"pilot",hash:{},data:i}):a))+'" data-toggle="tooltip" title="Copy \''+s((a=e.pilot||t&&t.pilot,typeof a===u?a.call(t,{name:"pilot",hash:{},data:i}):a))+"' to clipboard\">"+s((a=e.pilot||t&&t.pilot,typeof a===u?a.call(t,{name:"pilot",hash:{},data:i}):a))+'</button></td>\n  <td><button class="btn btn-default btn-sm copy-btn" data-clipboard-text="'+s((a=e.id||t&&t.id,typeof a===u?a.call(t,{name:"id",hash:{},data:i}):a))+'" data-toggle="tooltip" title="Copy \''+s((a=e.id||t&&t.id,typeof a===u?a.call(t,{name:"id",hash:{},data:i}):a))+"' to clipboard\">"+s((a=e.id||t&&t.id,typeof a===u?a.call(t,{name:"id",hash:{},data:i}):a))+'</button></td>\n  <td><button class="btn btn-default btn-sm copy-btn" data-clipboard-text="'+s((a=e.payout_str||t&&t.payout_str,typeof a===u?a.call(t,{name:"payout_str",hash:{},data:i}):a))+'" data-toggle="tooltip" title="Copy \''+s((a=e.payout_str||t&&t.payout_str,typeof a===u?a.call(t,{name:"payout_str",hash:{},data:i}):a))+"' to clipboard\">"+s((a=e.payout_str||t&&t.payout_str,typeof a===u?a.call(t,{name:"payout_str",hash:{},data:i}):a))+'</button></td>\n  <td>\n    <form method="post" action="'+s((a=e.href||t&&t.href,typeof a===u?a.call(t,{name:"href",hash:{},data:i}):a))+'">\n      <input id="id_" name="id_" type="hidden" value="action">\n      <input id="type_" name="type_" type="hidden" value="paid">\n      <input id="csrf_token" name="csrf_token" type="hidden" value="'+s(e.csrf.call(t,{name:"csrf",hash:{},data:i}))+'">\n      <button class="btn btn-success btn-sm paid-btn" tpye="submit">Paid</button>\n    </form>\n  </td>\n  <td><a href="'+s((a=e.href||t&&t.href,typeof a===u?a.call(t,{name:"href",hash:{},data:i}):a))+'">'+s((a=e.id||t&&t.id,typeof a===u?a.call(t,{name:"id",hash:{},data:i}):a))+"</a></td>\n  <td>"+s((a=e.capitalize||t&&t.capitalize||o,a.call(t,t&&t.status,{name:"capitalize",hash:{},data:i})))+"</td>\n  <td>"+s((r=t&&t.division,r=null==r||r===!1?r:r.name,typeof r===u?r.apply(t):r))+"</td>\n</tr>\n"},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a="";return r=e.each.call(t,t,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),(r||0===r)&&(a+=r),a+"\n"},useData:!0}),e.request_rows=t({1:function(t,e,n,i){var r,a,o=e.helperMissing,s=this.escapeExpression,u="function";return'\n<tr class="'+s((a=e.status_color||t&&t.status_color||o,a.call(t,t&&t.status,{name:"status_color",hash:{},data:i})))+'">\n  <td><a href="'+s((a=e.href||t&&t.href,typeof a===u?a.call(t,{name:"href",hash:{},data:i}):a))+'">'+s((a=e.id||t&&t.id,typeof a===u?a.call(t,{name:"id",hash:{},data:i}):a))+"</a></td>\n  <td>"+s((a=e.pilot||t&&t.pilot,typeof a===u?a.call(t,{name:"pilot",hash:{},data:i}):a))+"</td>\n  <td>"+s((a=e.ship||t&&t.ship,typeof a===u?a.call(t,{name:"ship",hash:{},data:i}):a))+"</td>\n  <td>"+s((a=e.system||t&&t.system,typeof a===u?a.call(t,{name:"system",hash:{},data:i}):a))+"</td>\n  <td>"+s((a=e.capitalize||t&&t.capitalize||o,a.call(t,t&&t.status,{name:"capitalize",hash:{},data:i})))+"</td>\n  <td>"+s((a=e.payout_str||t&&t.payout_str,typeof a===u?a.call(t,{name:"payout_str",hash:{},data:i}):a))+"</td>\n  <td>"+s((a=e.datefmt||t&&t.datefmt||o,a.call(t,t&&t.submit_timestamp,{name:"datefmt",hash:{},data:i})))+" @ "+s((a=e.timefmt||t&&t.timefmt||o,a.call(t,t&&t.submit_timestamp,{name:"timefmt",hash:{},data:i})))+"</td>\n  <td>"+s((r=t&&t.division,r=null==r||r===!1?r:r.name,typeof r===u?r.apply(t):r))+"</td>\n</tr>\n"},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a="";return r=e.each.call(t,t,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),(r||0===r)&&(a+=r),a+"\n"},useData:!0}),e.typeahead_empty=t({compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a="function",o=this.escapeExpression;return'<div class="tt-suggestion">\n  No users or groups with names containing \''+o((r=e.query||t&&t.query,typeof r===a?r.call(t,{name:"query",hash:{},data:i}):r))+"' found.\n</div>\n"},useData:!0}),e.typeahead_suggestion=t({compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a="function",o=this.escapeExpression;return o((r=e.name||t&&t.name,typeof r===a?r.call(t,{name:"name",hash:{},data:i}):r))+' <small class="text-muted text-right">'+o((r=e.type||t&&t.type,typeof r===a?r.call(t,{name:"type",hash:{},data:i}):r))+" from "+o((r=e.source||t&&t.source,typeof r===a?r.call(t,{name:"source",hash:{},data:i}):r))+"</small>\n"},useData:!0}),e.voidable_modifier=t({1:function(){return'\n<div class="panel panel-danger">\n'},3:function(){return'\n<div class="panel panel-success">\n'},5:function(t,e,n,i){var r,a="function",o=this.escapeExpression;return'\n    <div class="panel-body">\n      '+o((r=e.note||t&&t.note,typeof r===a?r.call(t,{name:"note",hash:{},data:i}):r))+"\n    </div>\n    "},compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a,o=e.helperMissing,s="function",u=this.escapeExpression,l="";return a=e.compare||t&&t.compare||o,r=a.call(t,t&&t.value,0,{name:"compare",hash:{operator:"<"},fn:this.program(1,i),inverse:this.program(3,i),data:i}),(r||0===r)&&(l+=r),l+='\n  <div class="panel-heading" data-toggle="collapse" data-target="#modifier'+u((a=e.id||t&&t.id,typeof a===s?a.call(t,{name:"id",hash:{},data:i}):a))+'">\n    <form class="form" method="post">\n      <input id="csrf_token" name="csrf_token" type="hidden" value="'+u(e.csrf.call(t,{name:"csrf",hash:{},data:i}))+'">\n      <input id="id_" name="id_" type="hidden" value="void">\n      <input id="modifier_id_'+u((a=e.id||t&&t.id,typeof a===s?a.call(t,{name:"id",hash:{},data:i}):a))+'" name="modifier_id" type="hidden" value="'+u((a=e.id||t&&t.id,typeof a===s?a.call(t,{name:"id",hash:{},data:i}):a))+'">\n      <button class="close" type="submit" name="void_modifier">&times;</button>\n    </form>\n    <h4 class="panel-title">'+u((a=e.value_str||t&&t.value_str,typeof a===s?a.call(t,{name:"value_str",hash:{},data:i}):a))+'</h4>\n  </div>\n  <div id="modifier'+u((a=e.id||t&&t.id,typeof a===s?a.call(t,{name:"id",hash:{},data:i}):a))+'" class="collapse in">\n    ',r=e["if"].call(t,t&&t.note,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),(r||0===r)&&(l+=r),l+'\n    <div class="panel-footer">\n      '+u((r=t&&t.user,r=null==r||r===!1?r:r.name,typeof r===s?r.apply(t):r))+" at "+u((a=e.datefmt||t&&t.datefmt||o,a.call(t,t&&t.timestamp,{name:"datefmt",hash:{},data:i})))+" "+u((a=e.timefmt||t&&t.timefmt||o,a.call(t,t&&t.timestamp,{name:"timefmt",hash:{},data:i})))+"\n    </div>\n  </div>\n</div>\n"},useData:!0}),e.voided_modifier=t({compiler:[5,">= 2.0.0"],main:function(t,e,n,i){var r,a,o="function",s=this.escapeExpression,u=e.helperMissing;return'<div class="panel panel-default">\n  <div class="panel-heading" data-toggle="collapse" data-target="#modifier'+s((a=e.id||t&&t.id,typeof a===o?a.call(t,{name:"id",hash:{},data:i}):a))+'">\n    <del><h4 class="panel-title">'+s((a=e.value_str||t&&t.value_str,typeof a===o?a.call(t,{name:"value_str",hash:{},data:i}):a))+'</h4></del>\n  </div>\n  <div id="modifier'+s((a=e.id||t&&t.id,typeof a===o?a.call(t,{name:"id",hash:{},data:i}):a))+'" class="collapse">\n    <div class="panel-body">\n      <del>\n        '+s((a=e.note||t&&t.note,typeof a===o?a.call(t,{name:"note",hash:{},data:i}):a))+" (voided by "+s((r=t&&t["void"],r=null==r||r===!1?r:r.user,r=null==r||r===!1?r:r.name,typeof r===o?r.apply(t):r))+" at "+s((a=e.datefmt||t&&t.datefmt||u,a.call(t,(r=t&&t["void"],null==r||r===!1?r:r.timestamp),{name:"datefmt",hash:{},data:i})))+" "+s((a=e.timefmt||t&&t.timefmt||u,a.call(t,(r=t&&t["void"],null==r||r===!1?r:r.timestamp),{name:"timefmt",hash:{},data:i})))+')\n      </del>\n    </div>\n    <div class="panel-footer">\n      '+s((r=t&&t.user,r=null==r||r===!1?r:r.name,typeof r===o?r.apply(t):r))+" at "+s((a=e.timefmt||t&&t.timefmt||u,a.call(t,t&&t.timestamp,{name:"timefmt",hash:{},data:i})))+" "+s((a=e.datefmt||t&&t.datefmt||u,a.call(t,t&&t.timestamp,{name:"datefmt",hash:{},data:i})))+"\n    </div>\n  </div>\n</div>\n"},useData:!0})}();var EveSRP;EveSRP||(EveSRP={}),"ui"in EveSRP||(EveSRP.ui={}),EveSRP.ui.renderFlashes=function(t){var e=$("#content"),n=t.flashed_messages;for(index in n){var i,r=_.random(1e4),a=n[index];a.id=r,i=Handlebars.templates.flash(n[index]),e.prepend(i),window.setTimeout(function(){$("#flash-"+r).alert("close")},5e3)}},EveSRP.ui.setupEvents=function(){$(document).ajaxComplete(function(t,e){var n=e.responseJSON;n&&"flashed_messages"in n&&EveSRP.ui.renderFlashes(e.responseJSON)})},EveSRP.ui.setupEvents();var EveSRP;EveSRP||(EveSRP={}),"ui"in EveSRP||(EveSRP.ui={}),EveSRP.ui.request={render:function(t){var e,n=$("#actionMenu"),i=$("#actionList"),r=$("#request-status"),a=$("#modifierList"),o=$("#request-details"),s=$("#request-payout"),u=$("#request-division"),l=$(".evaluating-only");n.empty(),n.append(Handlebars.templates.action_menu(t)),i.empty(),i.append(Handlebars.templates.actions(t)),r.removeClass("label-warning label-info label-success label-danger"),r.addClass("label-"+EveSRP.util.statusColor(t.status)),r.text(EveSRP.util.capitalize(t.status)),e=$.map(t.modifiers,function(e){return e.void?Handlebars.templates.voided_modifier(e):"evaluating"===t.status&&-1!==t.valid_actions.indexOf("approved")?Handlebars.templates.voidable_modifier(e):Handlebars.templates.modifier(e)}),a.empty(),a.append(e),o.text(t.details),s.tooltip("destroy"),s.tooltip({title:"Base Payout: "+t.base_payout_str,placement:"right"}),s.text(t.payout_str),"evaluating"===t.status?l.prop("disabled",!1):l.prop("disabled",!0),u.text(t.division.name)},submitAction:function(t){var e=$(t.target),n=e.closest("form");return n.find("input[name='type_']").attr("value",e.attr("id")),$.post(window.location.pathname,n.serialize(),function(t){n.find("textarea").val(""),e.hasClass("btn")||n.find("button.dropdown-toggle").dropdown("toggle"),EveSRP.ui.request.render(t)}),!1},submitModifier:function(){var t=$(this),e=t.closest("form");return e.find("input[name='type_']").attr("value",t.attr("id")),e.find("button.dropdown-toggle").dropdown("toggle"),$.ajax({type:"POST",url:window.location.pathname,data:e.serialize(),success:function(){e.find("textarea").val(""),e.find("input#value").val("")},complete:function(t){EveSRP.ui.request.render(t.responseJSON)}}),!1},voidModifier:function(t){var e=$(t.target);return $.post(window.location.pathname,e.serialize(),function(t){EveSRP.ui.request.render(t)}),!1},setPayout:function(){var t=$(this);return $.post(window.location.pathname,t.serialize(),function(e){t.find("input#value").val(""),EveSRP.ui.request.render(e)}),!1},updateDetails:function(){var t=$(this);return $.post(window.location.pathname,t.serialize(),function(t){EveSRP.ui.request.render(t)}),$("#detailsModal").modal("hide"),!1},setupEvents:function(){$("form#actionForm ul").click(EveSRP.ui.request.submitAction),$('form#actionForm button[type="submit"]').click(EveSRP.ui.request.submitAction),$("ul#request-modifier-type li a").click(EveSRP.ui.request.submitModifier),$("#modifierList").submit(EveSRP.ui.request.voidModifier),$("form#payoutForm").submit(EveSRP.ui.request.setPayout),$("#detailsModal form").submit(EveSRP.ui.request.updateDetails),$("#request-payout").tooltip({title:$("#request-payout").data("initial-title"),placement:"right"})}},EveSRP.ui.request.setupEvents();var EveSRP;EveSRP||(EveSRP={}),"ui"in EveSRP||(EveSRP.ui={}),EveSRP.ui.division={render:function(t){var e,n=["submit","review","pay","admin"];for(e=0;e<n.length;++e){var i=n[e],r=$("#"+i).find("table"),a=Handlebars.templates.entity_table({entities:t[i],name:i});r.replaceWith(a)}},setEntityID:function(t,e){$(this).closest("form").find("input[name='id_']").attr("value",e.id)},createEntitySource:function(){var t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.nonword("name"),queryTokenizer:Bloodhound.tokenizers.nonword,prefetch:{url:$SCRIPT_ROOT+"/api/entities/",ttl:18e5,filter:function(t){return t.entities}}});return t.initialize(),t},createTypeahead:function(t,e){var n=$(t).typeahead({hint:!0,highlight:!0},{displayKey:"name",source:e.ttAdapter(),templates:{suggestion:Handlebars.templates.typeahead_suggestion,empty:Handlebars.templates.typeahead_empty}});return n},selectAttribute:function(){var t=$(this),e=t.find("option:selected").val();return""!==e&&t.find('option[value=""]').remove(),$.ajax({type:"GET",url:window.location.pathname+"transformers/"+e+"/",success:function(t){var n,i=$("select#transformer");i.empty(),n=t[e],1===n.length?i.prop("disabled",!0):i.prop("disabled",!1),$.each(n,function(t,e){var n=$("<option></option>");n.append(e[1]),n.attr("value",e[0]),e[2]===!0&&n.prop("selected",!0),i.append(n)})}}),!0},selectTransformer:function(){var t=$(this),e=($("select#attribute option:selected").text(),t.find("option:selected").text(),t.parents("form"));return $.ajax({type:"POST",url:window.location.pathname,data:e.serialize()}),!0},changePermission:function(t,e,n){var i=$(t.target);return void 0!==e&&(EveSRP.ui.division.setEntityID(t,e,n),i=i.closest("form")),$.ajax({type:"POST",url:window.location.pathname,data:i.serialize(),success:function(){i.find(".entity-typeahead").typeahead("val",""),i.find("#id_").val("")},complete:function(t){var e=t.responseJSON;EveSRP.ui.division.render(e.entities)}}),!1},setupEvents:function(){var t=EveSRP.ui.division.createEntitySource();EveSRP.ui.division.createTypeahead(".entity-typeahead",t).on("typeahead:autocompleted",EveSRP.ui.division.setEntityID).on("typeahead:cursorchanged",EveSRP.ui.division.setEntityID).on("typeahead:selected",EveSRP.ui.division.changePermission),$("select#attribute").change(EveSRP.ui.division.selectAttribute),$("select#transformer").change(EveSRP.ui.division.selectTransformer),$(".permission").submit(EveSRP.ui.division.changePermission)}},EveSRP.ui.division.setupEvents();var EveSRP;EveSRP||(EveSRP={}),EveSRP.tokenfield={addedToken:function(t){function e(t){-1===$.inArray(t.attr,i._keys)&&(i[t.attr]=[],i._keys.push(t.attr)),i[t.attr]=_(i[t.attr]).union([t.real_value])}var n=EveSRP.util.splitFilterString(window.location.pathname),i=EveSRP.util.parseFilterString(n[1]);if(t.attrs instanceof Array)for(var r=0;r<t.attrs.length;++r)e(t.attrs[r]);else e(t.attrs);i.page=1,n[1]=EveSRP.util.unparseFilters(i),History.pushState(i,null,"/"+n.join("/"))},modifyToken:function(t){function e(t){if(void 0===t.attr){var e=t.label.split(":");1===e.length?(t.attr="details",t.real_value=e[0],t.value="details:"+e[0]):(t.attr=e[0],t.real_value="status"===t.attr?e.slice(1).join(":").toLowerCase():e.slice(1).join(":"))}t.label=t.value}if(t.attrs instanceof Array)for(var n=0;n<t.attrs.length;++n)e(t.attrs[n]);else e(t.attrs)},removedToken:function(t){function e(t){i[t.attr]=_(i[t.attr]).without(t.real_value)}var n=EveSRP.util.splitFilterString(window.location.pathname),i=EveSRP.util.parseFilterString(n[1]);if(t.attrs instanceof Array)for(var r=0;r<t.attrs.length;++r)e(t.attrs[r]);else e(t.attrs);n[1]=EveSRP.util.unparseFilters(i),History.pushState(i,null,"/"+n.join("/"))},createBloodhound:function(t,e){var n,i;return n=$.map(e,function(e){return{real_value:e,attr:t}}),i=new Bloodhound({name:t,datumTokenizer:function(t){var e=t.real_value.split(/\s+/);return e.push(t.attr+":"+e[0]),e},queryTokenizer:Bloodhound.tokenizers.whitespace,local:n}),i.initialize(),i},attachTokenfield:function(t,e){function n(t,n){var i=t.split(":");if(attribute=i[0],real_query=i.slice(1).join(":"),""===real_query&&(real_query=attribute,attribute=""),void 0!==e[attribute])e[attribute].get(real_query,n);else{var r=new Object;for(attr in e)e[attr].get(real_query,function(t){r[attr]=t;var i=!0;for(attr2 in e)if(void 0===r[attr2]){i=!1;break}if(i){var a=[];$.each(r,function(t){Array.prototype.push.apply(a,r[t])}),n(a)}})}}var i,r,a,o,s,u=[];return u.push({hint:!0,highlight:!0}),u.push({name:"all_args",displayKey:function(t){if("status"===t.attr){var e=t.real_value.substr(0,1).toUpperCase();return e+=t.real_value.slice(1),t.attr+":"+e}return t.attr+":"+t.real_value},source:n}),r=History.getState(),"_keys"in r.data?o=r.data:(a=EveSRP.util.splitFilterString(window.location.pathname),o=EveSRP.util.parseFilterString(a[1])),s=this.tokensFromFilter(o),i=t.tokenfield({typeahead:u,tokens:s}).on("tokenfield:createtoken",EveSRP.tokenfield.modifyToken).on("tokenfield:createdtoken",EveSRP.tokenfield.addedToken).on("tokenfield:removetoken",EveSRP.tokenfield.removedToken),$(window).on("statechange",function(){var t,e=History.getState();"_keys"in e.data||(e.data._keys=[]),t=EveSRP.tokenfield.tokensFromFilter(e.data),$(i).tokenfield("setTokens",t)}),i},tokensFromFilter:function(t){var e=[];return $.each(t._keys,function(n,i){"sort"!==i&&"page"!==i&&$.each(t[i],function(t,n){var r=i+":"+n;e.push({label:r,value:r,attr:i,real_value:n})})}),e}};var EveSRP;EveSRP||(EveSRP={}),"ui"in EveSRP||(EveSRP.ui={}),EveSRP.ui.requestList={markPaid:function(t){var e=$(t.target).closest("form");return $.ajax({type:"POST",url:e.attr("action"),data:e.serialize(),success:function(){var t=e.closest("tr");t.removeClass(),t.addClass("success"),t.find("button").prop("disabled",!0)}}),!1},setupTokenField:function(){var t,e,n;n=["pilot","corporation","alliance","system","constellation","region","ship","status","division","details"],t=$.map(n,function(t){return EveSRP.util.getAttributeChoices(t)}),e=$.when.apply($,t),e.done(function(){var t,e=[];$.each(arguments,function(t,n){var i,r;$.isArray(n)&&(n=n[0]),i=n.key,r=n[n.key],null!==r&&e.push(EveSRP.tokenfield.createBloodhound(i,r))}),t=EveSRP.tokenfield.attachTokenfield($(".filter-tokenfield"),e)})},getColumns:function(t){var e;return void 0===t&&(t=$("table#requests tr").not($(".popover tr"))),e=t.first(),e.find("th").map(function(t,e){return $(e).attr("id").substring(4)})},pageSize:15,render:function(t,e){var n,i,r,a=$("table#requests tr").not($(".popover tr")),o=a.parent(),s=(a.first().find("th"),a.not(":first")),u=(this.getColumns(a),!1),l=($("ul.pagination"),t.requests);0!=s.length&&(n=s.find(".copy-btn"),0!=n.length&&(u=!0,EveSRP.ui.clipboardClient.unclip(n),n.each(function(t,e){$(e).tooltip("destroy")})),s.remove()),u?(i=$(Handlebars.templates.payout_rows(l)),n=i.find(".copy-btn"),EveSRP.ui.clipboardClient.clip(n),n.tooltip({trigger:"manual focus"})):i=Handlebars.templates.request_rows(l),o.append(i),r=-1===$.inArray("page",e._keys)?0:e.page-1,this.renderPager(t.request_count,r)},renderPager:function(t,e){var n=$("ul.pagination"),i=Math.ceil(t/this.pageSize-1)+1;if(n.empty(),i>1){n.append(0===e?'<li class="disabled"><span>&laquo;</span></li>':'<li><a id="prev_page" href="#">&laquo;</a></li>'),pageNums=EveSRP.util.pageNumbers(i,e);for(var r=0;r<pageNums.length;++r)n.append(null!==pageNums[r]?pageNums[r]!==e?'<li><a href="#">'+(pageNums[r]+1)+"</a></li>":'<li class="active"><a href="#">'+(pageNums[r]+1)+'<span class="sr-only"> (current)</span></a></li>':'<li class="disabled"><span>&hellip;</span></li>');n.append(e===i-1?'<li class="disabled"><span>&raquo;</span></li>':'<li><a id="next_page" href="#">&raquo;</a></li>')}},getRequests:function(){var t=History.getState();$.ajax({type:"GET",url:t.url,success:function(e){var n,i;"_keys"in t.data?n=t.data:(i=EveSRP.util.splitFilterString(window.location.pathname),n=EveSRP.util.parseFilterString(i[1])),EveSRP.ui.requestList.render(e,n)}})},changeSort:function(){var t,e=$(this),n=e.parent("th"),i=n.parent().children("th"),r=n.attr("id").substring(4),a=History.getState(),o=EveSRP.util.splitFilterString(window.location.pathname);return"None"===r?!1:(t="data"in a&&"_keys"in a.data?a.data:EveSRP.util.parseFilterString(o[1]),-1===$.inArray("sort",t._keys)&&(t._keys.push("sort"),t.sort=""),""===t.sort&&(t.sort="submit_timestamp"),t.sort=t.sort.slice(1)===r||t.sort===r?"-"===t.sort.charAt(0)?r:"-"+r:r,i.find("i.fa").removeClass(),e.find("i").addClass("-"===t.sort.charAt(0)?"fa fa-chevron-up":"fa fa-chevron-down"),o[1]=EveSRP.util.unparseFilters(t),History.pushState(t,null,"/"+o.join("/")),!1)},changePage:function(t){var e,n=EveSRP.util.splitFilterString(window.location.pathname),i=EveSRP.util.parseFilterString(n[1]),r=$(t.target);return-1===$.inArray("page",i._keys)&&(i._keys.push("page"),i.page=1),"prev_page"===r.attr("id")?i.page=i.page-1:"next_page"==r.attr("id")?i.page=i.page+1:(e=parseInt(r.contents()[0].data,10),i.page=e),n[1]=EveSRP.util.unparseFilters(i),History.pushState(i,null,"/"+n.join("/")),!1},setupEvents:function(){ZeroClipboard.config({moviePath:$SCRIPT_ROOT+"/static/ZeroClipboard.swf"}),EveSRP.ui.clipboardClient=new ZeroClipboard($(".copy-btn")),$(".copy-btn").tooltip({trigger:"manual"}),EveSRP.ui.clipboardClient.on("mouseover",function(){$(this).tooltip("show")}).on("mouseout",function(){$(this).tooltip("hide")}),$("#requests").on("submit",EveSRP.ui.requestList.markPaid),$("th a.heading").on("click",this.changeSort),$("ul.pagination").on("click",EveSRP.ui.requestList.changePage),$(window).on("statechange",this.getRequests)}},EveSRP.ui.requestList.setupEvents(),EveSRP.ui.requestList.setupTokenField();
//# sourceMappingURL=evesrp.min.js.map