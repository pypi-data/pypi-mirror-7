Resources:
  undercloudNovaConfig:
    Type: OS::Heat::StructuredConfig
    Properties:
      config:
        nova:
          compute_hostname: undercloud
          compute_driver: ironic.nova.virt.ironic.driver.IronicDriver
          compute_manager: ironic.nova.compute.manager.ClusteredComputeManager
          db: mysql://nova:unset@localhost/nova
          default_ephemeral_format: ext4
          host: 127.0.0.1
          metadata-proxy: false
          tuning:
            ram_allocation_ratio: 1.0
            reserved_host_memory_mb: 0
          service-password: {get_input: nova_service_password}
  undercloudIronicConfig:
    Type: OS::Heat::StructuredConfig
    Properties:
      config:
        ironic:
          db: mysql://ironic:unset@localhost/ironic
          service-password: {get_input: ironic_service_password}
          virtual_power_ssh_key: {get_input: virtual_power_ssh_key}
