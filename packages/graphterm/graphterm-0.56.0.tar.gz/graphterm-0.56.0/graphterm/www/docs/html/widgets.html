<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Widgets, sockets, and interactivity &mdash; GraphTerm 0.56.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.56.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within GraphTerm 0.56.0 documentation"
          href="_static/opensearch.xml"/>
    <link rel="top" title="GraphTerm 0.56.0 documentation" href="index.html" />
    <link rel="up" title="Advanced topics" href="advanced.html" />
    <link rel="next" title="Release Notes" href="release-notes.html" />
    <link rel="prev" title="Using GraphTerm with OTrace" href="tracing.html" />
 
<meta name="apple-mobile-web-app-capable" content="yes" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>
<script type="text/javascript">
// Google Analytics setup
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35342722-1']);
  _gaq.push(['_trackPageview']);

function goApp() {
   if (window.navigator.standalone) {
      // Go home
      location.href = "/";
   } else {
      // Go to top level domain
      var url = location.protocol + "//" + location.hostname.split(".").slice(-2).join(".");
      if (location.port)
        url += ":" + location.port;
      location.href = url;
   }
}

// Prevent internal links in iOS standalone web apps from opening in browser
(function(document,navigator,standalone) {
            // prevents links from apps from oppening in mobile safari
            // this javascript must be the first script in your <head>
            if ((standalone in navigator) && navigator[standalone]) {
                var curnode, location=document.location, stop=/^(a|html)$/i;
                document.addEventListener('click', function(e) {
                    curnode=e.target;
                    while (!(stop).test(curnode.nodeName)) {
                        curnode=curnode.parentNode;
                    }
                    // Conditions to do this only on links to your own app
                    if ('href' in curnode) {
                        e.preventDefault();
                        location.href = curnode.href;
                    }
                },false);
            }
        })(document,window.navigator,'standalone');

</script>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<h1>
<a href="/"> 
code.mindmeldr.com
<!--
<img height="60" src="http://doc.mindmeldr.com/_static/mmrbanner-transp1.png" alt="Mindmeldr banner" />
-->
</a>/<a href="/graphterm">graphterm</a>
</h1>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="release-notes.html" title="Release Notes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tracing.html" title="Using GraphTerm with OTrace"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Docs Home</a>&nbsp;|&nbsp;</li>
        <li><a href="contents.html">Contents</a>
          &raquo;</li>

          <li><a href="advanced.html" accesskey="U">Advanced topics</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="tracing.html"
                        title="previous chapter">Using GraphTerm with OTrace</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="release-notes.html"
                        title="next chapter">Release Notes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/widgets.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="widgets-sockets-and-interactivity">
<h1>Widgets, sockets, and interactivity<a class="headerlink" href="#widgets-sockets-and-interactivity" title="Permalink to this headline">Â¶</a></h1>
<p id="index-0">A widget appears as an overlay on the terminal (like
<em>picture-in-picture</em> for TVs, or dashboard widgets on the Mac). This
is an experimental feature which allows programs running in the background
to display information overlaid on the terminal. (It may be disabled using the
<tt class="docutils literal"><span class="pre">--widget-port=0</span></tt> option.) The widget is accessed by
redirecting <tt class="docutils literal"><span class="pre">stdout</span></tt> to a Bash <tt class="docutils literal"><span class="pre">tcp</span></tt> socket device whose address
is stored in the environment variable <tt class="docutils literal"><span class="pre">GTERM_SOCKET</span></tt>.  For example,
the following command will run a background job to open a new terminal
in an overlay <em>iframe</em>:</p>
<div class="highlight-python"><div class="highlight"><pre>gframe -f --opacity=0.2 http://localhost:8900/local/new &gt; $GTERM_SOCKET &amp;
</pre></div>
</div>
<p>You can use the overlay terminal just like a regular terminal,
including having recursive overlays within the overlay! To delete the
widget, just close the socket connection by killing the background
job. (You can use the <tt class="docutils literal"><span class="pre">fg</span></tt> command to bring the job to the
foreground and then kill it.)</p>
<p>A simple example of a live feed widget is to combine <tt class="docutils literal"><span class="pre">gfeed</span></tt> with
<tt class="docutils literal"><span class="pre">tail</span> <span class="pre">-f</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>tail -f output.log | gfeed &gt; $GTERM_SOCKET &amp;
</pre></div>
</div>
<p>The above feed will display the new lines appended to the file <tt class="docutils literal"><span class="pre">output.log</span></tt>.</p>
<p>Another example of widget use is to display live audience feedback on
the screen during a presentation, sort of like a &#8220;twitter feed&#8221;. The
widget background job should be started before using <tt class="docutils literal"><span class="pre">greveal</span></tt> to make
a presentation:</p>
<div class="highlight-python"><div class="highlight"><pre>gchat 2&gt; $GTERM_SOCKET 0&lt;&amp;2 | gfeed &gt; $GTERM_SOCKET &amp;
greveal $GTERM_DIR/bin/landslide/graphterm-talk1.md | gframe -f
</pre></div>
</div>
<p>The first command uses <tt class="docutils literal"><span class="pre">gchat</span></tt> to capture feedback from others
viewing the terminal session as a stream of lines from
$GTERM_SOCKET. The viewers use the overlaid <em>chat</em> button
to provide feedback. The <tt class="docutils literal"><span class="pre">stdout</span></tt> from <tt class="docutils literal"><span class="pre">gchat</span></tt> is piped to
<tt class="docutils literal"><span class="pre">gfeed</span></tt> which displays its <tt class="docutils literal"><span class="pre">stdin</span></tt> stream as a  &#8220;live feed&#8221;
overlay, also via $GTERM_SOCKET.</p>
<p>To display a live twitter feed as an overlay on a presentation, you can use the
commands:</p>
<div class="highlight-python"><div class="highlight"><pre>gtweet -w -f -s topic &gt; $GTERM_SOCKET &amp;
greveal $GTERM_DIR/bin/landslide/graphterm-talk1.md | gframe -f
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="release-notes.html" title="Release Notes"
             >next</a> |</li>
        <li class="right" >
          <a href="tracing.html" title="Using GraphTerm with OTrace"
             >previous</a> |</li>
        <li><a href="index.html">Docs Home</a>&nbsp;|&nbsp;</li>
        <li><a href="contents.html">Contents</a>
          &raquo;</li>

          <li><a href="advanced.html" >Advanced topics</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2014 R. Saravanan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
<div class="footer">
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>