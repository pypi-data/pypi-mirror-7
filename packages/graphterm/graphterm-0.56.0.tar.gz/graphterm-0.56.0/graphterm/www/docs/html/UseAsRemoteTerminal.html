<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Use GraphTerm as a remote terminal (like screen or tmux) &mdash; GraphTerm 0.56.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.56.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within GraphTerm 0.56.0 documentation"
          href="_static/opensearch.xml"/>
    <link rel="top" title="GraphTerm 0.56.0 documentation" href="index.html" />
    <link rel="up" title="Talks, tutorials, and videos" href="talks.html" />
    <link rel="next" title="Implementation" href="implementation.html" />
    <link rel="prev" title="Using the graphical features of GraphTerm" href="UsingGraphicalFeatures.html" />
 
<meta name="apple-mobile-web-app-capable" content="yes" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>
<script type="text/javascript">
// Google Analytics setup
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35342722-1']);
  _gaq.push(['_trackPageview']);

function goApp() {
   if (window.navigator.standalone) {
      // Go home
      location.href = "/";
   } else {
      // Go to top level domain
      var url = location.protocol + "//" + location.hostname.split(".").slice(-2).join(".");
      if (location.port)
        url += ":" + location.port;
      location.href = url;
   }
}

// Prevent internal links in iOS standalone web apps from opening in browser
(function(document,navigator,standalone) {
            // prevents links from apps from oppening in mobile safari
            // this javascript must be the first script in your <head>
            if ((standalone in navigator) && navigator[standalone]) {
                var curnode, location=document.location, stop=/^(a|html)$/i;
                document.addEventListener('click', function(e) {
                    curnode=e.target;
                    while (!(stop).test(curnode.nodeName)) {
                        curnode=curnode.parentNode;
                    }
                    // Conditions to do this only on links to your own app
                    if ('href' in curnode) {
                        e.preventDefault();
                        location.href = curnode.href;
                    }
                },false);
            }
        })(document,window.navigator,'standalone');

</script>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<h1>
<a href="/"> 
code.mindmeldr.com
<!--
<img height="60" src="http://doc.mindmeldr.com/_static/mmrbanner-transp1.png" alt="Mindmeldr banner" />
-->
</a>/<a href="/graphterm">graphterm</a>
</h1>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="implementation.html" title="Implementation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="UsingGraphicalFeatures.html" title="Using the graphical features of GraphTerm"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Docs Home</a>&nbsp;|&nbsp;</li>
        <li><a href="contents.html">Contents</a>
          &raquo;</li>

          <li><a href="talks.html" accesskey="U">Talks, tutorials, and videos</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Use GraphTerm as a remote terminal (like screen or tmux)</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#accessing-graphterm-features-across-ssh-logins">Accessing GraphTerm features across SSH logins</a></li>
<li><a class="reference internal" href="#accessing-graphterm-server-from-a-remote-computer-using-ssh">Accessing GraphTerm server from a remote computer using SSH</a></li>
<li><a class="reference internal" href="#connecting-multiple-hosts-to-gtermserver">Connecting multiple hosts to gtermserver</a></li>
<li><a class="reference internal" href="#wildcard-sessions">Wildcard sessions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="UsingGraphicalFeatures.html"
                        title="previous chapter">Using the graphical features of GraphTerm</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="implementation.html"
                        title="next chapter">Implementation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/UseAsRemoteTerminal.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="use-graphterm-as-a-remote-terminal-like-screen-or-tmux">
<h1><a class="toc-backref" href="#id4">Use GraphTerm as a remote terminal (like screen or tmux)</a><a class="headerlink" href="#use-graphterm-as-a-remote-terminal-like-screen-or-tmux" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#use-graphterm-as-a-remote-terminal-like-screen-or-tmux" id="id4">Use GraphTerm as a remote terminal (like screen or tmux)</a><ul>
<li><a class="reference internal" href="#introduction" id="id5">Introduction</a></li>
<li><a class="reference internal" href="#accessing-graphterm-features-across-ssh-logins" id="id6">Accessing GraphTerm features across SSH logins</a></li>
<li><a class="reference internal" href="#accessing-graphterm-server-from-a-remote-computer-using-ssh" id="id7">Accessing GraphTerm server from a remote computer using SSH</a></li>
<li><a class="reference internal" href="#connecting-multiple-hosts-to-gtermserver" id="id8">Connecting multiple hosts to gtermserver</a></li>
<li><a class="reference internal" href="#wildcard-sessions" id="id9">Wildcard sessions</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id5">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>GraphTerm provides the basic capabilities of <em>detached terminal</em> programs like
<tt class="docutils literal"><span class="pre">screen</span></tt> and <tt class="docutils literal"><span class="pre">tmux</span></tt>. The GraphTerm terminal window is just a web page,
served by <tt class="docutils literal"><span class="pre">gtermserver</span></tt>. Therefore, it can be accessed from any computer
with access to the server, either locally or remotely. All you need to do
is to load the URL for the terminal session on a new computer, and you can
continue working from the point where you stopped previously.</p>
<p>A typical use of GraphTerm would be to run
<tt class="docutils literal"><span class="pre">gtermserver</span></tt> on your work computer, and access it locally at work
and remotely from home. For security, it would be best to run the server
as <tt class="docutils literal"><span class="pre">localhost</span></tt> on the work computer, and use SSH port forwarding to
connect to it from other computers.</p>
<p>Another use of GraphTerm would be to run the server on managing host of a computer
cluster, or a group of cloud instances. Other hosts can connect to the managing
host using the <tt class="docutils literal"><span class="pre">gtermhost</span></tt> command. <em>In this case, the hosts should
connect via a private network, not the the public internet.</em> The state of the terminal is
stored on the host machine, not on <tt class="docutils literal"><span class="pre">gtermserver</span></tt>. You can restart <tt class="docutils literal"><span class="pre">gtermserver</span></tt>
and the hosts will automatically reconnect.</p>
<p>See the <a class="reference external" href="http://code.mindmeldr.com/graphterm/README.html">README</a>
file for basic instructions on installing and starting up GraphTerm.</p>
</div>
<div class="section" id="accessing-graphterm-features-across-ssh-logins">
<h2><a class="toc-backref" href="#id6">Accessing GraphTerm features across SSH logins</a><a class="headerlink" href="#accessing-graphterm-features-across-ssh-logins" title="Permalink to this headline">¶</a></h2>
<p>If you login to a remote computer using SSH, you can use the
<em>terminal/export environment</em>  menu option to set the Bash shell
environment variables on the remote computer. This will allow
some, but not all, of GraphTerm&#8217;s features to work on the remote
session. If you wish to use more features, set the <tt class="docutils literal"><span class="pre">PATH</span></tt> environment
variable on the remote machine to allow access to <tt class="docutils literal"><span class="pre">gls</span></tt> and other
commands, and also use reverse port forwarding to forward your
local port(s) to the remote computer. For example, if you wish
to connect remote hosts to the GraphTerm server, use:</p>
<div class="highlight-python"><div class="highlight"><pre>ssh -R 8899:localhost:8899 user@remote-computer
</pre></div>
</div>
</div>
<div class="section" id="accessing-graphterm-server-from-a-remote-computer-using-ssh">
<h2><a class="toc-backref" href="#id7">Accessing GraphTerm server from a remote computer using SSH</a><a class="headerlink" href="#accessing-graphterm-server-from-a-remote-computer-using-ssh" title="Permalink to this headline">¶</a></h2>
<p>Assume that you will be running <tt class="docutils literal"><span class="pre">gtermserver</span></tt> on your <tt class="docutils literal"><span class="pre">work-computer</span></tt> as
<tt class="docutils literal"><span class="pre">localhost</span></tt> listening on the default port 8900 using the command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">gtermserver</span> <span class="o">--</span><span class="n">terminal</span>
</pre></div>
</div>
<p>At work, you will use the URL <tt class="docutils literal"><span class="pre">http://localhost:8900/local/tty1</span></tt> to access
your terminal session <tt class="docutils literal"><span class="pre">tty1</span></tt>. Now disable the <em>terminal/private</em> menu
option, to allow others to share your terminal.
You can then access your work terminal from home, by connecting to your work computer using SSH:</p>
<div class="highlight-python"><div class="highlight"><pre>ssh -L 8901:localhost:8900 user@work-computer
</pre></div>
</div>
<p>The above command maps your work computer port 8900 to your home computer port 8901.
(There is also a <tt class="docutils literal"><span class="pre">-R</span></tt> option that provides a reverse port mapping, which can be useful if
you can log into your desktop from your laptop, and wish to access
your laptop files using the desktop browser, by mapping laptop port 8900 to
desktop port 8901.)</p>
<p>After establishing the SSH connection, you can access your work terminal session from
home using the URL:</p>
<div class="highlight-python"><div class="highlight"><pre>http://localhost:8901/local/tty1
</pre></div>
</div>
<p>You will need to enter the authentication code from the file
<a href="#id1"><span class="problematic" id="id2">``</span></a>~/.graphterm/_gterm_auth.txt` on your work computer.
(If you forgot to detach your work terminal before leaving, use the
<em>steal</em> menu button to steal control of the session.)</p>
<p>If you have multiple terminals open, use the URL <tt class="docutils literal"><span class="pre">http://localhost:8901/local</span></tt> to
see a list of all the available terminal sessions.</p>
</div>
<div class="section" id="connecting-multiple-hosts-to-gtermserver">
<h2><a class="toc-backref" href="#id8">Connecting multiple hosts to gtermserver</a><a class="headerlink" href="#connecting-multiple-hosts-to-gtermserver" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">gtermhost</span></tt> command can be used to connect from any computer to
<tt class="docutils literal"><span class="pre">gtermserver</span></tt> running on a management cmputer as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>gtermhost --server_addr=&lt;serveraddr&gt; &lt;hostname&gt;
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">serveraddr</span></tt> is the address or name of the computer where
<tt class="docutils literal"><span class="pre">gtermserver</span></tt> is running (which defaults to localhost).
By default, the server listens for host
connections on port 8899. You can use SSH tunneling to
access <tt class="docutils literal"><span class="pre">gtermserver</span></tt> on the management computer, and thus access the
hosts, which should be on a secure private network.</p>
<p>NOTE: Unlike the <tt class="docutils literal"><span class="pre">sshd</span></tt> server, the <tt class="docutils literal"><span class="pre">gtermhost</span></tt> command is designed to
be run by a normal user, not a privileged user. So different users can
connect to <tt class="docutils literal"><span class="pre">gtermserver</span></tt> pretending to be different &#8220;hosts&#8221;
on the same computer.</p>
</div>
<div class="section" id="wildcard-sessions">
<h2><a class="toc-backref" href="#id9">Wildcard sessions</a><a class="headerlink" href="#wildcard-sessions" title="Permalink to this headline">¶</a></h2>
<p>A session path is of the form <tt class="docutils literal"><span class="pre">session_host/session_name</span></tt>. You can
use the shell wildcard patterns <tt class="docutils literal"><span class="pre">*,</span> <span class="pre">?,</span> <span class="pre">[]</span></tt> in the session path. For
example, you can open a wildcard session for multiple hosts using the URL:</p>
<div class="highlight-python"><div class="highlight"><pre>http://localhost:8900/*/tty1
</pre></div>
</div>
<p>For normal shell terminals, a wildcard session will open a &#8220;blank&#8221; window,
but any input you type in it will be broadcast to all sessions
matching the pattern. To receive visual feedback,
you will need to view one or more of the matching sessions at the
same time. You can use the <tt class="docutils literal"><span class="pre">gframe</span></tt> command to open up a group of
terminals simultaneously, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>gframe --height 300 --lheight 50 -c 4 -b -t -p /local/tty a b c d &#39;[abcd]&#39;
</pre></div>
</div>
<p>For <tt class="docutils literal"><span class="pre">otrace</span></tt> debugging sessions of the form <tt class="docutils literal"><span class="pre">*/osh</span></tt>, GraphTerm
will multiplex the input and output in wildcard terminals. Your input
will be echoed and broadcast, and output from each of the matching
sessions will be displayed, preceded by an identifying header
(with the special string <tt class="docutils literal"><span class="pre">ditto</span></tt> used to indicate repeated output).
See the <em>otrace</em> integration section in the
<a class="reference external" href="http://code.mindmeldr.com/graphterm/README.html">README</a>
file for more information.</p>
<p>NOTE: Multiplexed input/output display cannot be easily implemented for
regular shell terminals.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="implementation.html" title="Implementation"
             >next</a> |</li>
        <li class="right" >
          <a href="UsingGraphicalFeatures.html" title="Using the graphical features of GraphTerm"
             >previous</a> |</li>
        <li><a href="index.html">Docs Home</a>&nbsp;|&nbsp;</li>
        <li><a href="contents.html">Contents</a>
          &raquo;</li>

          <li><a href="talks.html" >Talks, tutorials, and videos</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2014 R. Saravanan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
<div class="footer">
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>