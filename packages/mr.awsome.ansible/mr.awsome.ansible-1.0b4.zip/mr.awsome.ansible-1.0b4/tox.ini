[tox]
envlist = py26,py27,ansible14,ansible15

[testenv]
deps =
    ansible>=1.6
    mock
    pytest
    pytest-capturelog
    pytest-cov
    pytest-pep8
    pytest-flakes
    snot
    unittest2
commands =
    py.test --cov {envsitepackagesdir}/mr/awsome_ansible {posargs} {envsitepackagesdir}/mr/awsome_ansible

[testenv:ansible14]
deps =
    ansible>1.4,<1.5
    mock
    pytest
    pytest-capturelog
    pytest-cov
    pytest-pep8
    pytest-flakes
    snot
    unittest2

[testenv:ansible15]
deps =
    ansible>1.5,<1.6
    mock
    pytest
    pytest-capturelog
    pytest-cov
    pytest-pep8
    pytest-flakes
    snot
    unittest2

[pytest]
addopts = --pep8 --flakes --cov-report=term --cov-report=html --tb=native
pep8ignore = E501
