

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting Started &mdash; excentury 0.2 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="excentury 0.2 documentation" href="index.html"/>
        <link rel="next" title="Excentury Format" href="format.html"/>
        <link rel="prev" title="Installing Excentury" href="installation.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> excentury</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="excentury.html"> What is Excentury?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="excentury.html#motivation">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="excentury.html#newton-s-method">Newton&#8217;s Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="excentury.html#id2">Excentury</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html"> Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#pip-or-manual-installation">Pip or Manual Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#excentury-executable">Excentury executable</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#os-x">OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#matlab">MATLAB</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href=""> Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cpp">CPP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#matlab">MATLAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-next">What&#8217;s Next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="format.html"> Excentury Data Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="format.html#basic-types">Basic Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="format.html#xc-files">XC files</a></li>
<li class="toctree-l2"><a class="reference internal" href="format.html#structures">Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="format.html#tensors-multidimensional-arrays">Tensors: Multidimensional Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="format.html#summary">Summary</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cpp/debug.html"> Debugging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cpp/debug.html#level-1-exitif">Level 1: <tt class="docutils literal"><span class="pre">exitif</span></tt></a></li>
<li class="toctree-l2"><a class="reference internal" href="cpp/debug.html#level-2-debug">Level 2: <tt class="docutils literal"><span class="pre">debug</span></tt></a></li>
<li class="toctree-l2"><a class="reference internal" href="cpp/debug.html#level-3-trace">Level 3: <tt class="docutils literal"><span class="pre">trace</span></tt></a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">excentury</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Getting Started</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/start.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="getting-started">
<span id="start"></span><h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>Excentury aims to provide simple and intuitive tools which we can use
to develop packages with easy. This is done via a file format where
we can write C++ code and give accessibility from MATLAB and Python
at the same time.</p>
<p>The format goes roughly as follows:</p>
<div class="highlight-cpp"><div class="highlight"><pre>&quot;&quot;&quot;Package Name

Package documentation.
&quot;&quot;&quot;
/* Package preamble contents */
----------------------------------------------------------------------
/* Function preamble contents */
@def{function name}
    &quot;&quot;&quot;Function explanation. &quot;&quot;&quot;
    @param{type1, var1, &quot;var1 explanation&quot;}
    @param{type2, var2, &quot;var2 explanation&quot;}
    @param{type3, var3, &quot;var3 explanation&quot;}
@body[[
    /* Function body */
]]
@ret[[
    @ret{ans1, &quot;ans1&quot;}
    @ret{ans2, &quot;ans2&quot;}
]]
/* Function epilog contents */
----------------------------------------------------------------------
/* Package epilog (if no more functions are defined) */
</pre></div>
</div>
<p>Consider the excentury file <tt class="docutils literal"><span class="pre">sample.xcpp</span></tt>.</p>
<div class="highlight-cpp"><div class="highlight"><pre>&quot;&quot;&quot;Sample

This package provides the functions to compute the square root of a
non-negative real number.

&quot;&quot;&quot;
#include &lt;excentury/excentury.h&gt;

----------------------------------------------------------------------
@def{square_root}
    &quot;&quot;&quot;Compute the square root of a number using Newton&#39;s method.&quot;&quot;&quot;
    @param{double, a(2), &quot;the input to the square root function&quot;}
    @param{double, x0(1), &quot;initial guess&quot;}
    @param{int, iter(10), &quot;number of iterations&quot;}
@body[[
    if (a &lt; 0) {
        excentury::error(&quot;input `a` must be non-negative&quot;);
    }
    double x = x0;
    for (int i=0; i &lt; iter; ++i) {
        x = x - (x*x - a)/(2.0*x);
    }
]]
@ret[[
    @ret{x, &quot;x&quot;}
]]
----------------------------------------------------------------------
@def{cpp_sqrt}
    &quot;&quot;&quot;Call the sqrt function provided by c++&quot;&quot;&quot;
    @param{double, a(2), &quot;the input sqrt&quot;}
@body[[
    double x = sqrt(a);
]]
@ret[[
    @ret{x, &quot;x&quot;}
]]
----------------------------------------------------------------------
</pre></div>
</div>
<p>A key difference as opposed to a regular C++ file is how we are now
defining the section for the inputs and the outputs while leaving the
body of the function almost intact (except for line 17 where we check
for errors).</p>
<div class="section" id="cpp">
<h2>CPP<a class="headerlink" href="#cpp" title="Permalink to this headline">¶</a></h2>
<p>To try to run this example in cpp we can try the following:</p>
<div class="highlight-python"><div class="highlight"><pre>excentury sample.xcpp to cpp
</pre></div>
</div>
<p>This will create two valid cpp files which will then be compiled into
binaries which we can call.:</p>
<div class="highlight-python"><div class="highlight"><pre>$ sample-square_root.run -h
usage: sample-square_root.run [-h] [-i] XC_CONTENT

program: sample-square_root

description:
    Compute the square root of a number using Newton&#39;s method.

parameters:
    `a`: the input to the square root function
    `x0`: initial guess
    `iter`: number of iterations

examples:

    generate an input file: sample-square_root.run -i &gt; input_file.xc
    use the file: sample-square_root.run &quot;`&lt; input_file.xc`&quot;
</pre></div>
</div>
<p>The help menu is important because it tells us how we can provide the
inputs to the program. In this case we can generate an input file:</p>
<div class="highlight-python"><div class="highlight"><pre>$ sample-square_root.run -i &gt; input_file.xc
</pre></div>
</div>
<p>Since the xcpp file declared default values we can leave the file as
is and run it as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>$ sample-square_root.run &quot;`&lt; input_file.xc`&quot;
0 1
x R 8 1.414214
</pre></div>
</div>
<p>From here on we can simply modify the contents declared in
&#8220;input_file.xc&#8221; to change the parameters to the function. At this
moment we do not expect you to know what the xc file extension is
formatted. In future sections we will go into detail on this topic
since most of the development of C++ code should be done in a simple
C++ file instead of MATLAB or Python. Only once the C++ code runs as
expected then we can move on to using it in the interpreters.</p>
</div>
<div class="section" id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<p>To be able to use our functions in the sample package we can tell
excentury to give us a python package:</p>
<div class="highlight-python"><div class="highlight"><pre>$ excentury sample.xcpp to python
</pre></div>
</div>
<p>Once excentury is done creating the necessary files we can work
within python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sample</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span><span class="o">.</span><span class="n">square_root</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">1.41421</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span><span class="o">.</span><span class="n">square_root</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">2.23607</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span><span class="o">.</span><span class="n">square_root</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;/Users/jmlopez/Library/Python/2.7/lib/excentury/python/sample.py&quot;</span>, line <span class="m">45</span>, in <span class="n">square_root</span>
    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">xc_error_msg</span><span class="p">)</span>
<span class="gr">RuntimeError</span>: <span class="n">input `a` must be non-negative</span>
</pre></div>
</div>
<p>If you use the <tt class="docutils literal"><span class="pre">help</span></tt> function on the <tt class="docutils literal"><span class="pre">sample</span></tt> module you can see
that there exists two functions: the one called above and
<tt class="docutils literal"><span class="pre">cpp_sqrt</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span><span class="o">.</span><span class="n">cpp_sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1.41421</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span><span class="o">.</span><span class="n">cpp_sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">2.23607</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span><span class="o">.</span><span class="n">cpp_sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">nan</span>
</pre></div>
</div>
</div>
<div class="section" id="matlab">
<h2>MATLAB<a class="headerlink" href="#matlab" title="Permalink to this headline">¶</a></h2>
<p>Two obtain our mex function we can execute the following:</p>
<blockquote>
<div>$ excentury sample.xcpp to matlab</div></blockquote>
<p>Then in the MATLAB prompt we can do</p>
<div class="highlight-matlab"><div class="highlight"><pre><span class="o">&gt;&gt;</span> <span class="n">help</span> <span class="n">sample</span><span class="p">.</span><span class="n">square_root</span>
  <span class="n">sample</span><span class="p">.</span><span class="n">SQUARE_ROOT</span> <span class="n">generated</span> <span class="n">on</span> <span class="n">Wed</span> <span class="n">Aug</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2014</span> <span class="mi">09</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">18</span> <span class="n">PM</span> <span class="n">by</span> <span class="n">xcpp</span>

      <span class="n">Compute</span> <span class="n">the</span> <span class="n">square</span> <span class="n">root</span> <span class="n">of</span> <span class="n">a</span> <span class="n">number</span> <span class="n">using</span> <span class="n">Newton</span><span class="o">&#39;</span><span class="n">s</span> <span class="n">method</span><span class="p">.</span>

      <span class="n">parameters</span><span class="p">:</span>

        `<span class="n">a</span>`<span class="p">:</span> <span class="n">the</span> <span class="n">input</span> <span class="n">to</span> <span class="n">the</span> <span class="n">square</span> <span class="n">root</span> <span class="k">function</span>
        `<span class="n">x0</span>`<span class="p">:</span> <span class="n">initial</span> <span class="n">guess</span>
        `<span class="n">iter</span>`<span class="p">:</span> <span class="n">number</span> <span class="n">of</span> <span class="n">iterations</span>


<span class="o">&gt;&gt;</span> <span class="n">sample</span><span class="p">.</span><span class="n">square_root</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="nb">ans</span> <span class="p">=</span>

    <span class="mf">1.4142</span>

<span class="o">&gt;&gt;</span> <span class="n">sample</span><span class="p">.</span><span class="n">square_root</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="nb">ans</span> <span class="p">=</span>

    <span class="mf">2.2361</span>

<span class="o">&gt;&gt;</span> <span class="n">sample</span><span class="p">.</span><span class="n">square_root</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">Error</span> <span class="n">using</span> <span class="n">square_root_mex</span>
<span class="n">input</span> `<span class="n">a</span>` <span class="n">must</span> <span class="n">be</span> <span class="n">non</span><span class="o">-</span><span class="n">negative</span>

<span class="n">Error</span> <span class="n">in</span> <span class="n">sample</span><span class="p">.</span><span class="n">square_root</span> <span class="p">(</span><span class="n">line</span> <span class="mi">18</span><span class="p">)</span>
    <span class="p">[</span><span class="o">~</span><span class="p">,</span> <span class="n">out_str</span><span class="p">]</span> <span class="p">=</span> <span class="n">sample</span><span class="p">.</span><span class="n">square_root_mex</span><span class="p">(</span><span class="n">len_in</span><span class="p">,</span> <span class="n">in_str</span><span class="p">);</span>
</pre></div>
</div>
<p>Similarly, we can use the C++ function square root</p>
<div class="highlight-matlab"><div class="highlight"><pre><span class="o">&gt;&gt;</span> <span class="n">help</span> <span class="n">sample</span><span class="p">.</span><span class="n">cpp_sqrt</span>
  <span class="n">sample</span><span class="p">.</span><span class="n">CPP_SQRT</span> <span class="n">generated</span> <span class="n">on</span> <span class="n">Wed</span> <span class="n">Aug</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2014</span> <span class="mi">09</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">20</span> <span class="n">PM</span> <span class="n">by</span> <span class="n">xcpp</span>

      <span class="n">Call</span> <span class="n">the</span> <span class="nb">sqrt</span> <span class="k">function</span> <span class="n">provided</span> <span class="n">by</span> <span class="n">c</span><span class="o">++</span>

      <span class="n">parameters</span><span class="p">:</span>

        `<span class="n">a</span>`<span class="p">:</span> <span class="n">the</span> <span class="n">input</span> <span class="nb">sqrt</span>


<span class="o">&gt;&gt;</span> <span class="n">sample</span><span class="p">.</span><span class="n">cpp_sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">ans</span> <span class="p">=</span>

    <span class="mf">1.4142</span>

<span class="o">&gt;&gt;</span> <span class="n">sample</span><span class="p">.</span><span class="n">cpp_sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="nb">ans</span> <span class="p">=</span>

    <span class="mf">2.2361</span>

<span class="o">&gt;&gt;</span> <span class="n">sample</span><span class="p">.</span><span class="n">cpp_sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">ans</span> <span class="p">=</span>

   <span class="n">NaN</span>
</pre></div>
</div>
</div>
<div class="section" id="what-s-next">
<h2>What&#8217;s Next?<a class="headerlink" href="#what-s-next" title="Permalink to this headline">¶</a></h2>
<p>You may use this example to try to experiment creating function which
can be called from CPP, MATLAB or Python. The Excentury documentation
is still far from complete, for the moment you can look over the
source code to see if there are any functions that may be of interest
and give them a try.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="format.html" class="btn btn-neutral float-right" title="Excentury Format"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installing Excentury"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Manuel Lopez.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>