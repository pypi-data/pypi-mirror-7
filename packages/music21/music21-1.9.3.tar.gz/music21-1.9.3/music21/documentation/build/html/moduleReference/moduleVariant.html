
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.variant &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.9.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.vexflow" href="moduleVexflow.html" />
    <link rel="prev" title="music21.trecento.trecentoCadence" href="moduleTrecentoTrecentoCadence.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleVexflow.html" title="music21.vexflow"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleTrecentoTrecentoCadence.html" title="music21.trecento.trecentoCadence"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">music21</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleTrecentoTrecentoCadence.html"
                        title="previous chapter">music21.trecento.trecentoCadence</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleVexflow.html"
                        title="next chapter">music21.vexflow</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.variant</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#variant">Variant</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Music21 Concepts Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">Users Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../systemReference/index.html">System Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/moduleReference/moduleVariant.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="music21-variant">
<span id="modulevariant"></span><h1>music21.variant<a class="headerlink" href="#music21-variant" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.variant"></span><p>Contains <a class="reference internal" href="#music21.variant.Variant" title="music21.variant.Variant"><tt class="xref py py-class docutils literal"><span class="pre">Variant</span></tt></a> and its subclasses, as well as functions for merging
and showing different variant streams. These functions and the variant class should only be
used when variants of a score are the same length and contain the same measure structure at
this time.</p>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="music21.variant.addVariant">
<tt class="descclassname">music21.variant.</tt><tt class="descname">addVariant</tt><big>(</big><em>s</em>, <em>startOffset</em>, <em>sVariant</em>, <em>variantName=None</em>, <em>variantGroups=None</em>, <em>replacementDuration=None</em><big>)</big><a class="headerlink" href="#music21.variant.addVariant" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a stream, the location of the variant to be added to that stream (startOffset), the content of the
variant to be added (sVariant), and the duration of the section of the stream which the variant
replaces (replacementDuration). If replacementDuration is 0, this is an insertion. If sVariant is 
None, this is a deletion.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data1M1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1M3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1M2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="p">[</span><span class="n">data1M1</span><span class="p">,</span> <span class="n">data1M2</span><span class="p">,</span> <span class="n">data1M3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tempPart</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data1</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">stream1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data2M2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">data2M2</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>   <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variant</span><span class="o">.</span><span class="n">addVariant</span><span class="p">(</span><span class="n">stream1</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="n">stream2</span><span class="p">,</span> <span class="n">variantName</span> <span class="o">=</span> <span class="s">&#39;rhythmic switch&#39;</span><span class="p">,</span> <span class="n">replacementDuration</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 0 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note C&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{4.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="go">{4.0} &lt;music21.stream.Measure 0 offset=4.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {0.5} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{8.0} &lt;music21.stream.Measure 0 offset=8.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note E&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variant1</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variant1</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">startOffset</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variant</span><span class="o">.</span><span class="n">addVariant</span><span class="p">(</span><span class="n">stream1</span><span class="p">,</span> <span class="n">startOffset</span><span class="p">,</span> <span class="n">variant1</span><span class="p">,</span> <span class="n">variantName</span> <span class="o">=</span> <span class="s">&#39;paris&#39;</span><span class="p">,</span> <span class="n">replacementDuration</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{3.0} &lt;music21.variant.Variant object of length 0.0&gt;</span>
<span class="go">{3.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{4.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{5.0} &lt;music21.note.Note E&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.variant.getMeasureHashes">
<tt class="descclassname">music21.variant.</tt><tt class="descname">getMeasureHashes</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#music21.variant.getMeasureHashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in a stream containing measures and returns a list of hashes, one for each measure. Currently
implemented with search.translateStreamToString()</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 2/4 c4 d8. e16 FF4 a&#39;4 b-2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashes</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">getMeasureHashes</span><span class="p">(</span><span class="n">sm</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashes</span>
<span class="go">[&#39;&lt;P&gt;K@&lt;&#39;, &#39;)PQP&#39;, &#39;FZ&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.variant.makeAllVariantsReplacements">
<tt class="descclassname">music21.variant.</tt><tt class="descname">makeAllVariantsReplacements</tt><big>(</big><em>streamWithVariants</em>, <em>variantNames=None</em>, <em>inPlace=False</em>, <em>recurse=False</em><big>)</big><a class="headerlink" href="#music21.variant.makeAllVariantsReplacements" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes a stream and a list of variantNames (default works on all variants), and changes all insertion (elongations with replacementDuration 0)
and deletion variants (with containedHighestTime 0) into variants with non-zero replacementDuration and non-null elements
by adding measures on the front of insertions and measures on the end
of deletions. This is designed to make it possible to format all variants in a readable way as a graphical ossia (via lilypond). If inPlace is True
it will perform this action on the stream itself; otherwise it will return a modified copy. If recurse is True, this
method will work on variants within container objects within the stream (like parts).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#                                                          *                                            *                                *</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4       d4 e4 f4 g4   a2 b-4 a4    g4 a8 g8 f4 e4    d2 a2                        d4 e4 f4 g4    a2 b-4 a4    g4 a8 b-8 c&#39;4 c4    f1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4      d4 e4 f4 g4   a2. b-8 a8   g4 a8 g8 f4 e4    d2 a2   d4 f4 a2  d4 f4 AA2  d4 e4 f4 g4                 g4 a8 b-8 c&#39;4 c4    f1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#                                                          replacement                            insertion                            deletion</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">(</span><span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">(</span><span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variant</span><span class="o">.</span><span class="n">mergeVariants</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">variantName</span> <span class="o">=</span> <span class="s">&#39;london&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">newPart</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newStream</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newStream</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newPart</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">returnStream</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">makeAllVariantsReplacements</span><span class="p">(</span><span class="n">newStream</span><span class="p">,</span> <span class="n">recurse</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">returnStream</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">variants</span><span class="p">:</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">lengthType</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">replacementDuration</span><span class="p">)</span>
<span class="go">(4.0, &#39;replacement&#39;, 4.0)</span>
<span class="go">(16.0, &#39;elongation&#39;, 0.0)</span>
<span class="go">(20.0, &#39;deletion&#39;, 4.0)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">returnStream</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">makeAllVariantsReplacements</span><span class="p">(</span><span class="n">newStream</span><span class="p">,</span> <span class="n">variantNames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;france&#39;</span><span class="p">],</span> <span class="n">recurse</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">returnStream</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">variants</span><span class="p">:</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">lengthType</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">replacementDuration</span><span class="p">)</span>
<span class="go">(4.0, &#39;replacement&#39;, 4.0)</span>
<span class="go">(16.0, &#39;elongation&#39;, 0.0)</span>
<span class="go">(20.0, &#39;deletion&#39;, 4.0)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">variant</span><span class="o">.</span><span class="n">makeAllVariantsReplacements</span><span class="p">(</span><span class="n">newStream</span><span class="p">,</span> <span class="n">recurse</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">newStream</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">variants</span><span class="p">:</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">lengthType</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">replacementDuration</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">containedHighestTime</span><span class="p">)</span>
<span class="go">(4.0, &#39;replacement&#39;, 4.0, 4.0)</span>
<span class="go">(12.0, &#39;elongation&#39;, 4.0, 12.0)</span>
<span class="go">(20.0, &#39;deletion&#39;, 8.0, 4.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.variant.mergePartAsOssia">
<tt class="descclassname">music21.variant.</tt><tt class="descname">mergePartAsOssia</tt><big>(</big><em>mainpart</em>, <em>ossiapart</em>, <em>ossiaName</em>, <em>inPlace=False</em>, <em>compareByMeasureNumber=False</em>, <em>recurseInMeasures=False</em><big>)</big><a class="headerlink" href="#music21.variant.mergePartAsOssia" title="Permalink to this definition">¶</a></dt>
<dd><p>Some MusicXML files are generated with full parts that have only a few non-rest measures instead of ossia parts, such as those
created by Sibelius 7. This function
takes two streams (mainpart and ossiapart), the second interpreted as an ossia. It outputs a stream with the ossia part merged into the stream as a 
group of variants.</p>
<p>If compareByMeasureNumber is True, then the ossia measures will be paired with the measures in the mainpart that have the
same measure.number. Otherwise, they will be paired by offset. In most cases these should have the same result.</p>
<p>Note that this method has no way of knowing if a variant is supposed to be a different duration than the segment of stream which it replaces
because that information is not contained in the format of score this method is designed to deal with.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mainstream</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   A4 B4 C4 D4   E1    F2 E2     E8 F8 F4 G2   G2 G4 F4   F4 F4 F4 F4   G1      &quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ossiastream</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4  r1            r1    r1        E4 E4 F4 G4   r1         F2    F2      r1      &quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainstream</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">(</span><span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ossiastream</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">(</span><span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># mainstream.__class__ = stream.Part</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainpart</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">mainstream</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">mainpart</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ossiapart</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">ossiastream</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">ossiapart</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">ossiapart</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">mainpart</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mainpartWithOssiaVariantsFT</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergePartAsOssia</span><span class="p">(</span><span class="n">mainpart</span><span class="p">,</span> <span class="n">ossiapart</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">ossiaName</span> <span class="o">=</span> <span class="s">&#39;Parisian Variant&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">compareByMeasureNumber</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">recurseInMeasures</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainpartWithOssiaVariantsTT</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergePartAsOssia</span><span class="p">(</span><span class="n">mainpart</span><span class="p">,</span> <span class="n">ossiapart</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">ossiaName</span> <span class="o">=</span> <span class="s">&#39;Parisian Variant&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">compareByMeasureNumber</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">recurseInMeasures</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainpartWithOssiaVariantsFF</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergePartAsOssia</span><span class="p">(</span><span class="n">mainpart</span><span class="p">,</span> <span class="n">ossiapart</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">ossiaName</span> <span class="o">=</span> <span class="s">&#39;Parisian Variant&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">compareByMeasureNumber</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">recurseInMeasures</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainpartWithOssiaVariantsTF</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergePartAsOssia</span><span class="p">(</span><span class="n">mainpart</span><span class="p">,</span> <span class="n">ossiapart</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">ossiaName</span> <span class="o">=</span> <span class="s">&#39;Parisian Variant&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">compareByMeasureNumber</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
<span class="gp">... </span>                                                           <span class="n">recurseInMeasures</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mainpartWithOssiaVariantsFT</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">mainpartWithOssiaVariantsTT</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure ...</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mainpartWithOssiaVariantsFF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">mainpartWithOssiaVariantsFT</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure ...</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mainpartWithOssiaVariantsFT</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="gp">...</span>
<span class="go">{12.0} &lt;music21.stream.Measure 4 offset=12.0&gt;</span>
<span class="go">    {0.0} &lt;music21.variant.Variant object of length 3.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {0.5} &lt;music21.note.Note F&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note G&gt;</span>
<span class="go">{16.0} &lt;music21.stream.Measure 5 offset=16.0&gt;</span>
<span class="gp">...</span>
<span class="go">{20.0} &lt;music21.stream.Measure 6 offset=20.0&gt;</span>
<span class="go">    {0.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note F&gt;</span>
<span class="gp">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mainpartWithOssiaVariantsFF</span><span class="o">.</span><span class="n">activateVariants</span><span class="p">(</span><span class="s">&#39;Parisian Variant&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="gp">...</span>
<span class="go">{12.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="go">{12.0} &lt;music21.stream.Measure 4 offset=12.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note G&gt;</span>
<span class="go">{16.0} &lt;music21.stream.Measure 5 offset=16.0&gt;</span>
<span class="gp">...</span>
<span class="go">{20.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="go">{20.0} &lt;music21.stream.Measure 6 offset=20.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note F&gt;</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.variant.mergeVariantMeasureStreams">
<tt class="descclassname">music21.variant.</tt><tt class="descname">mergeVariantMeasureStreams</tt><big>(</big><em>streamX</em>, <em>streamY</em>, <em>variantName='variant'</em>, <em>inPlace=False</em><big>)</big><a class="headerlink" href="#music21.variant.mergeVariantMeasureStreams" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes two streams of measures and returns a stream (new if inPlace is False) with the second
merged with the first as variants. This function differs from mergeVariantsEqualDuration by
dealing with streams that are of different length. This function matches measures that are
exactly equal and creates variant objects for regions of measures that differ at all. If more
refined variants are sought (with variation within the bar considered and related but different
bars associated with each other), use variant.refineVariant().</p>
<p>In this example, the second bar has been deleted in the second version, a new bar has been inserted between the
original third and fourth bars, and two bars have been added at the end.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data1M1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1M2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1M3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1M4</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data2M1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2M2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2M3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2M4</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2M5</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2M6</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="p">[</span><span class="n">data1M1</span><span class="p">,</span> <span class="n">data1M2</span><span class="p">,</span> <span class="n">data1M3</span><span class="p">,</span> <span class="n">data1M4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="p">[</span><span class="n">data2M1</span><span class="p">,</span> <span class="n">data2M2</span><span class="p">,</span> <span class="n">data2M3</span><span class="p">,</span> <span class="n">data2M4</span><span class="p">,</span> <span class="n">data2M5</span><span class="p">,</span> <span class="n">data2M6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mNumber</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data1</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="n">m</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">mNumber</span>
<span class="gp">... </span>   <span class="n">mNumber</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">stream1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mNumber</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data2</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="n">m</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">mNumber</span>
<span class="gp">... </span>   <span class="n">mNumber</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">stream2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/variant_measuresStreamMergeStream1.png" src="../_images/variant_measuresStreamMergeStream1.png" style="width: 600px;" />
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">stream2</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/variant_measuresStreamMergeStream2.png" src="../_images/variant_measuresStreamMergeStream2.png" style="width: 600px;" />
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStream</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergeVariantMeasureStreams</span><span class="p">(</span><span class="n">stream1</span><span class="p">,</span> <span class="n">stream2</span><span class="p">,</span> <span class="s">&#39;paris&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStream</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note C&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{4.0} &lt;music21.variant.Variant object of length 0.0&gt;</span>
<span class="go">{4.0} &lt;music21.stream.Measure 2 offset=4.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {0.5} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{8.0} &lt;music21.stream.Measure 3 offset=8.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{12.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="go">{12.0} &lt;music21.stream.Measure 4 offset=12.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note G&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note G&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{16.0} &lt;music21.variant.Variant object of length 8.0&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStream</span><span class="o">.</span><span class="n">variants</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replacementDuration</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStream</span><span class="o">.</span><span class="n">variants</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replacementDuration</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parisStream</span> <span class="o">=</span> <span class="n">mergedStream</span><span class="o">.</span><span class="n">activateVariants</span><span class="p">(</span><span class="s">&#39;paris&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parisStream</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note C&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{4.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="go">{4.0} &lt;music21.stream.Measure 2 offset=4.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{8.0} &lt;music21.variant.Variant object of length 0.0&gt;</span>
<span class="go">{8.0} &lt;music21.stream.Measure 3 offset=8.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note G&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note G&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{12.0} &lt;music21.stream.Measure 4 offset=12.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note G&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note G&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{16.0} &lt;music21.variant.Variant object of length 0.0&gt;</span>
<span class="go">{16.0} &lt;music21.stream.Measure 5 offset=16.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {0.5} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note A&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{20.0} &lt;music21.stream.Measure 6 offset=20.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note G&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note E&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parisStream</span><span class="o">.</span><span class="n">variants</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replacementDuration</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parisStream</span><span class="o">.</span><span class="n">variants</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replacementDuration</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parisStream</span><span class="o">.</span><span class="n">variants</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">replacementDuration</span>
<span class="go">8.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.variant.mergeVariantScores">
<tt class="descclassname">music21.variant.</tt><tt class="descname">mergeVariantScores</tt><big>(</big><em>aScore</em>, <em>vScore</em>, <em>variantName='variant'</em>, <em>inPlace=False</em><big>)</big><a class="headerlink" href="#music21.variant.mergeVariantScores" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes two scores and merges them with mergeVariantMeasureStreams, part-by-part.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aScore</span><span class="p">,</span> <span class="n">vScore</span><span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">(),</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ap1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   a4 b c d    e2 f2   g2 f4 g4 &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   a4 b c e    e2 f2   g2 f4 a4 &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ap2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   a4 g f e    f2 e2   d2 g4 f4 &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   a4 g f e    f2 g2   f2 g4 d4 &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aScore</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">ap1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aScore</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">ap2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vScore</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">vp1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vScore</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">vp2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mergedScores</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergeVariantScores</span><span class="p">(</span><span class="n">aScore</span><span class="p">,</span> <span class="n">vScore</span><span class="p">,</span> <span class="n">variantName</span> <span class="o">=</span> <span class="s">&#39;docvariant&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedScores</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Part ...&gt;</span>
<span class="go">    {0.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="go">    {0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">        {0.0} &lt;music21.clef.TrebleClef&gt;</span>
<span class="go">        {0.0} &lt;music21.meter.TimeSignature 4/4&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note C&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {4.0} &lt;music21.stream.Measure 2 offset=4.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note E&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {8.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="go">    {8.0} &lt;music21.stream.Measure 3 offset=8.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note G&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note F&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note G&gt;</span>
<span class="go">        {4.0} &lt;music21.bar.Barline style=final&gt;</span>
<span class="go">{0.0} &lt;music21.stream.Part ...&gt;</span>
<span class="go">    {0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">        {0.0} &lt;music21.clef.TrebleClef&gt;</span>
<span class="go">        {0.0} &lt;music21.meter.TimeSignature 4/4&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {1.0} &lt;music21.note.Note G&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note F&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {4.0} &lt;music21.variant.Variant object of length 8.0&gt;</span>
<span class="go">    {4.0} &lt;music21.stream.Measure 2 offset=4.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note F&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">    {8.0} &lt;music21.stream.Measure 3 offset=8.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note D&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note G&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note F&gt;</span>
<span class="go">        {4.0} &lt;music21.bar.Barline style=final&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.variant.mergeVariants">
<tt class="descclassname">music21.variant.</tt><tt class="descname">mergeVariants</tt><big>(</big><em>streamX</em>, <em>streamY</em>, <em>variantName='variant'</em>, <em>inPlace=False</em><big>)</big><a class="headerlink" href="#music21.variant.mergeVariants" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes two streams objects or their derivatives (score, part, measure, etc.) which should be variant versions of the same stream,
and merges them (determines differences and stores those differences as variant objects in streamX) via the appropriate merge
function for their type. This will not know how to deal with scores meant for mergePartAsOssia(). If this is the intention, use
that function instead.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aScore</span><span class="p">,</span> <span class="n">vScore</span><span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">(),</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ap1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   a4 b c d    e2 f2   g2 f4 g4 &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   a4 b c e    e2 f2   g2 f4 a4 &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ap2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   a4 g f e    f2 e2   d2 g4 f4 &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4   a4 g f e    f2 g2   f2 g4 d4 &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aScore</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">ap1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aScore</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">ap2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vScore</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">vp1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vScore</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">vp2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mergedScore</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergeVariants</span><span class="p">(</span><span class="n">aScore</span><span class="p">,</span> <span class="n">vScore</span><span class="p">,</span> <span class="n">variantName</span> <span class="o">=</span> <span class="s">&#39;docvariant&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedScore</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Part ...&gt;</span>
<span class="go">    {0.0} &lt;music21.variant.Variant object of length 4.0&gt;</span>
<span class="gp">...</span>
<span class="go">{0.0} &lt;music21.stream.Part ...&gt;</span>
<span class="go">    {0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="gp">...</span>
<span class="go">    {4.0} &lt;music21.variant.Variant object of length 8.0&gt;</span>
<span class="go">    {4.0} &lt;music21.stream.Measure 2 offset=4.0&gt;</span>
<span class="gp">...</span>
<span class="go">        {4.0} &lt;music21.bar.Barline style=final&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mergedPart</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergeVariants</span><span class="p">(</span><span class="n">ap2</span><span class="p">,</span> <span class="n">vp2</span><span class="p">,</span> <span class="n">variantName</span> <span class="o">=</span> <span class="s">&#39;docvariant&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedPart</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="gp">...</span>
<span class="go">{4.0} &lt;music21.variant.Variant object of length 8.0&gt;</span>
<span class="go">{4.0} &lt;music21.stream.Measure 2 offset=4.0&gt;</span>
<span class="gp">...</span>
<span class="go">    {4.0} &lt;music21.bar.Barline style=final&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">streamX</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4 a4 b c d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamY</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4 a4 d c b&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStream</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergeVariants</span><span class="p">(</span><span class="n">streamX</span><span class="p">,</span> <span class="n">streamY</span><span class="p">,</span> <span class="n">variantName</span> <span class="o">=</span> <span class="s">&#39;docvariant&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStream</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.meter.TimeSignature 4/4&gt;</span>
<span class="go">{0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{1.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{2.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{3.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">{3.0} &lt;music21.note.Note D&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">streamY</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4 a4 b c d e f g a&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variant</span><span class="o">.</span><span class="n">mergeVariants</span><span class="p">(</span><span class="n">streamX</span><span class="p">,</span> <span class="n">streamY</span><span class="p">,</span> <span class="n">variantName</span> <span class="o">=</span> <span class="s">&#39;docvariant&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">VariantException</span>: <span class="n">Could not determine what merging method to use. Try using a more specific merging function.</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.variant.mergeVariantsEqualDuration">
<tt class="descclassname">music21.variant.</tt><tt class="descname">mergeVariantsEqualDuration</tt><big>(</big><em>streams</em>, <em>variantNames</em>, <em>inPlace=False</em><big>)</big><a class="headerlink" href="#music21.variant.mergeVariantsEqualDuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass this function a list of streams (they must be of the same length or a VariantException will be raised).
It will return a stream which merges the differences between the streams into variant objects keeping the
first stream in the list as the default. If inPlace is True, the first stream in the list will be modified,
otherwise a new stream will be returned. Pass a list of names to associate variants with their sources, if this list
does not contain an entry for each non-default variant, naming may not behave properly. Variants that have the
same differences from the default will be saved as separate variant objects (i.e. more than once under different names).
Also, note that a streams with bars of differing lengths will not behave properly.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream2paris</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream3london</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">data1</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>   <span class="n">stream1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">data2</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>   <span class="n">stream2paris</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">data3</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>   <span class="n">stream3london</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergeVariantsEqualDuration</span><span class="p">([</span><span class="n">stream1</span><span class="p">,</span> <span class="n">stream2paris</span><span class="p">,</span> <span class="n">stream3london</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;paris&#39;</span><span class="p">,</span> <span class="s">&#39;london&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{1.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{1.5} &lt;music21.note.Note C&gt;</span>
<span class="go">{2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{3.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">{3.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{4.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{4.5} &lt;music21.variant.Variant object of length 1.5&gt;</span>
<span class="go">{4.5} &lt;music21.note.Note C&gt;</span>
<span class="go">{5.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{6.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{7.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">{7.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{8.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{9.0} &lt;music21.variant.Variant object of length 2.0&gt;</span>
<span class="go">{9.0} &lt;music21.note.Note D&gt;</span>
<span class="go">{10.0} &lt;music21.note.Note E&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span><span class="o">.</span><span class="n">activateVariants</span><span class="p">(</span><span class="s">&#39;london&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{1.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{1.5} &lt;music21.note.Note C&gt;</span>
<span class="go">{2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{3.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">{3.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{4.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{4.5} &lt;music21.variant.Variant object of length 1.5&gt;</span>
<span class="go">{4.5} &lt;music21.note.Note C&gt;</span>
<span class="go">{5.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{6.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{7.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">{7.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{8.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{9.0} &lt;music21.variant.Variant object of length 2.0&gt;</span>
<span class="go">{9.0} &lt;music21.note.Note D&gt;</span>
<span class="go">{10.0} &lt;music21.note.Note E&gt;</span>
</pre></div>
</div>
<p>If the streams contain parts and measures, the merge function will iterate through them and determine
and store variant differences within each measure/part.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1M1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1M2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1M3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2M1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2M2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2M3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="p">[</span><span class="n">data1M1</span><span class="p">,</span> <span class="n">data1M2</span><span class="p">,</span> <span class="n">data1M3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="p">[</span><span class="n">data2M1</span><span class="p">,</span> <span class="n">data2M2</span><span class="p">,</span> <span class="n">data2M3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tempPart</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data1</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">tempPart</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tempPart</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tempPart</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data2</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">tempPart</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tempPart</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergeVariantsEqualDuration</span><span class="p">([</span><span class="n">stream1</span><span class="p">,</span> <span class="n">stream2</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;paris&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Part ...&gt;</span>
<span class="go">    {0.0} &lt;music21.stream.Measure 0 offset=0.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {1.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">        {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">        {1.5} &lt;music21.note.Note C&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {3.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {4.0} &lt;music21.stream.Measure 0 offset=4.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note B&gt;</span>
<span class="go">        {0.5} &lt;music21.variant.Variant object of length 1.5&gt;</span>
<span class="go">        {0.5} &lt;music21.note.Note C&gt;</span>
<span class="go">        {1.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {8.0} &lt;music21.stream.Measure 0 offset=8.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">        {1.0} &lt;music21.variant.Variant object of length 3.0&gt;</span>
<span class="go">        {1.0} &lt;music21.note.Note D&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note E&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/variant_measuresAndParts.png" src="../_images/variant_measuresAndParts.png" style="width: 600px;" />
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">mergedStreams</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s">&#39;Part&#39;</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s">&#39;Measure&#39;</span><span class="p">):</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">activateVariants</span><span class="p">(</span><span class="s">&#39;paris&#39;</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Part ...&gt;</span>
<span class="go">    {0.0} &lt;music21.stream.Measure 0 offset=0.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {1.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">        {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {3.0} &lt;music21.variant.Variant object of length 1.0&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note G&gt;</span>
<span class="go">    {4.0} &lt;music21.stream.Measure 0 offset=4.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note B&gt;</span>
<span class="go">        {0.5} &lt;music21.variant.Variant object of length 1.5&gt;</span>
<span class="go">        {0.5} &lt;music21.note.Note C&gt;</span>
<span class="go">        {1.5} &lt;music21.note.Note A&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {8.0} &lt;music21.stream.Measure 0 offset=8.0&gt;</span>
<span class="go">        {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">        {1.0} &lt;music21.variant.Variant object of length 3.0&gt;</span>
<span class="go">        {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">        {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">        {3.0} &lt;music21.note.Note A&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/variant_measuresAndParts2.png" src="../_images/variant_measuresAndParts2.png" style="width: 600px;" />
<p>If barlines do not match up, an exception will be thrown. Here two streams that are identical
are merged, except one is in 3/4, the other in 4/4. This throws an exception.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">streamDifferentMeasures</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataDiffM1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataDiffM2</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataDiffM3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataDiffM4</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataDiff</span> <span class="o">=</span> <span class="p">[</span><span class="n">dataDiffM1</span><span class="p">,</span> <span class="n">dataDiffM2</span><span class="p">,</span> <span class="n">dataDiffM3</span><span class="p">,</span> <span class="n">dataDiffM4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDifferentMeasures</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;3/4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tempPart</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dataDiff</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">tempPart</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDifferentMeasures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tempPart</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedStreams</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">mergeVariantsEqualDuration</span><span class="p">([</span><span class="n">stream1</span><span class="p">,</span> <span class="n">streamDifferentMeasures</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;paris&#39;</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">VariantException</span>: <span class="n">_mergeVariants cannot merge streams which are of different lengths</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.variant.refineVariant">
<tt class="descclassname">music21.variant.</tt><tt class="descname">refineVariant</tt><big>(</big><em>s</em>, <em>sVariant</em>, <em>inPlace=False</em><big>)</big><a class="headerlink" href="#music21.variant.refineVariant" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a stream and variant contained in that stream, returns a stream with that variant &#8216;refined.&#8217;
It is refined in the sense that, (with the best estimates) measures which have been determined
to be related are merged within the measure. Suppose a four-bar phrase in a piece is a slightly
different five-bar phrase in a variant. In the variant, every F# has been replaced by an F,
and the last bar is repeated. Given this streams, mergeVariantMeasureStreams would return
the first stream with a single variant object containing the entire 5 bars of the variant.
Calling refineVariant on this stream and that variant object would result in a variant object
in the measures for each F#/F pair, and a variant object containing the added bar at the end.
For a more detailed explanation of how similar measures are properly associated with each other
look at the documentation for _getBestListandScore</p>
<p>Note that this code does not work properly yet.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantDataM1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantDataM2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantData</span> <span class="o">=</span> <span class="p">[</span><span class="n">variantDataM1</span><span class="p">,</span> <span class="n">variantDataM2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">variantData</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;paris&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">replacementDuration</span> <span class="o">=</span> <span class="mf">8.0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM4</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamData</span> <span class="o">=</span> <span class="p">[</span><span class="n">streamDataM1</span><span class="p">,</span> <span class="n">streamDataM2</span><span class="p">,</span> <span class="n">streamDataM3</span><span class="p">,</span> <span class="n">streamDataM4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">streamData</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">variant</span><span class="o">.</span><span class="n">refineVariant</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 0 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note G&gt;</span>
<span class="go">{4.0} &lt;music21.stream.Measure 0 offset=4.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {0.5} &lt;music21.variant.Variant object of length 1.5&gt;</span>
<span class="go">    {0.5} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note A&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{8.0} &lt;music21.stream.Measure 0 offset=8.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.variant.Variant object of length 3.0&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{12.0} &lt;music21.stream.Measure 0 offset=12.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="variant">
<h2>Variant<a class="headerlink" href="#variant" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.variant.Variant">
<em class="property">class </em><tt class="descclassname">music21.variant.</tt><tt class="descname">Variant</tt><big>(</big><em>givenElements=None</em>, <em>*args</em>, <em>**keywords</em><big>)</big><a class="headerlink" href="#music21.variant.Variant" title="Permalink to this definition">¶</a></dt>
<dd><p>A Music21Object that stores elements like a Stream, but does not represent itself externally to a Stream; i.e., the contents of a Variant are not flattened.</p>
<p>This is accomplished not by subclassing, but by object composition: similar to the Spanner, 
the Variant contains a Stream as a private attribute. Calls to this Stream, for the Variant, 
are automatically delegated by use of the __getattr__ method. Special casses are overridden 
or managed as necessary: e.g., the Duration of a Variant is generally always zero.</p>
<p>To use Variants from a Stream, see the <a class="reference internal" href="moduleStream.html#music21.stream.Stream.activateVariants" title="music21.stream.Stream.activateVariants"><tt class="xref py py-func docutils literal"><span class="pre">activateVariants()</span></tt></a> method.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(),</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">notes</span><span class="p">)</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">highestTime</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">containedHighestTime</span>
<span class="go">8.0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">duration</span> <span class="c"># handled by Music21Object</span>
<span class="go">&lt;music21.duration.Duration 0.0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">isStream</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">highestTime</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span> 
<span class="go">{0.0} &lt;music21.variant.Variant object of length 8.0&gt;</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">flat</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span> 
<span class="go">{0.0} &lt;music21.variant.Variant object of length 8.0&gt;</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.variant.Variant" title="music21.variant.Variant"><tt class="xref py py-class docutils literal"><span class="pre">Variant</span></tt></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.variant.Variant" title="music21.variant.Variant"><tt class="xref py py-class docutils literal"><span class="pre">Variant</span></tt></a> read-only properties</p>
<dl class="attribute">
<dt id="music21.variant.Variant.containedHighestOffset">
<tt class="descclassname">Variant.</tt><tt class="descname">containedHighestOffset</tt><a class="headerlink" href="#music21.variant.Variant.containedHighestOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>This property calls the contained Stream.highestOffset.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">quarterLength</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">containedHighestOffset</span>
<span class="go">4.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.variant.Variant.containedHighestTime">
<tt class="descclassname">Variant.</tt><tt class="descname">containedHighestTime</tt><a class="headerlink" href="#music21.variant.Variant.containedHighestTime" title="Permalink to this definition">¶</a></dt>
<dd><p>This property calls the contained Stream.highestTime.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">quarterLength</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">containedHighestTime</span>
<span class="go">4.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.variant.Variant.containedSite">
<tt class="descclassname">Variant.</tt><tt class="descname">containedSite</tt><a class="headerlink" href="#music21.variant.Variant.containedSite" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the Stream contained in this Variant.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.variant.Variant.highestOffset">
<tt class="descclassname">Variant.</tt><tt class="descname">highestOffset</tt><a class="headerlink" href="#music21.variant.Variant.highestOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>This property masks calls to Stream.highestOffset. Assuming <cite>exposeTime</cite> is False, this always returns zero, making the Variant always take zero time.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">quarterLength</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">highestOffset</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.variant.Variant.highestTime">
<tt class="descclassname">Variant.</tt><tt class="descname">highestTime</tt><a class="headerlink" href="#music21.variant.Variant.highestTime" title="Permalink to this definition">¶</a></dt>
<dd><p>This property masks calls to Stream.highestTime. Assuming <cite>exposeTime</cite> is False, this always returns zero, making the Variant always take zero time.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">quarterLength</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">highestTime</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.variant.Variant.lengthType">
<tt class="descclassname">Variant.</tt><tt class="descname">lengthType</tt><a class="headerlink" href="#music21.variant.Variant.lengthType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns &#8216;deletion&#8217; if variant is shorter than the region it replaces, &#8216;elongation&#8217;
if the variant is longer than the region it replaces, and &#8216;replacement&#8217; if it is
the same length.</p>
</dd></dl>

<p>Read-only properties inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beat" title="music21.base.Music21Object.beat"><tt class="xref py py-attr docutils literal"><span class="pre">beat</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatDuration" title="music21.base.Music21Object.beatDuration"><tt class="xref py py-attr docutils literal"><span class="pre">beatDuration</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatStr" title="music21.base.Music21Object.beatStr"><tt class="xref py py-attr docutils literal"><span class="pre">beatStr</span></tt></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatStrength" title="music21.base.Music21Object.beatStrength"><tt class="xref py py-attr docutils literal"><span class="pre">beatStrength</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.classes" title="music21.base.Music21Object.classes"><tt class="xref py py-attr docutils literal"><span class="pre">classes</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.derivationHierarchy" title="music21.base.Music21Object.derivationHierarchy"><tt class="xref py py-attr docutils literal"><span class="pre">derivationHierarchy</span></tt></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.fullyQualifiedClasses" title="music21.base.Music21Object.fullyQualifiedClasses"><tt class="xref py py-attr docutils literal"><span class="pre">fullyQualifiedClasses</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isGrace" title="music21.base.Music21Object.isGrace"><tt class="xref py py-attr docutils literal"><span class="pre">isGrace</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.measureNumber" title="music21.base.Music21Object.measureNumber"><tt class="xref py py-attr docutils literal"><span class="pre">measureNumber</span></tt></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.variant.Variant" title="music21.variant.Variant"><tt class="xref py py-class docutils literal"><span class="pre">Variant</span></tt></a> read/write properties</p>
<dl class="attribute">
<dt id="music21.variant.Variant.replacementDuration">
<tt class="descclassname">Variant.</tt><tt class="descname">replacementDuration</tt><a class="headerlink" href="#music21.variant.Variant.replacementDuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Set or Return the quarterLength duration in the main stream which this variant
object replaces in the variant version of the stream. If replacementDuration is
not set, it is assumed to be the same length as the variant. If, it is set to 0,
the variant should be interpreted as an insertion. Setting replacementDuration
to None will return the value to the default which is the duration of the variant
itself.</p>
</dd></dl>

<p>Read/write properties inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.activeSite" title="music21.base.Music21Object.activeSite"><tt class="xref py py-attr docutils literal"><span class="pre">activeSite</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.duration" title="music21.base.Music21Object.duration"><tt class="xref py py-attr docutils literal"><span class="pre">duration</span></tt></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.offset" title="music21.base.Music21Object.offset"><tt class="xref py py-attr docutils literal"><span class="pre">offset</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.priority" title="music21.base.Music21Object.priority"><tt class="xref py py-attr docutils literal"><span class="pre">priority</span></tt></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.seconds" title="music21.base.Music21Object.seconds"><tt class="xref py py-attr docutils literal"><span class="pre">seconds</span></tt></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.variant.Variant" title="music21.variant.Variant"><tt class="xref py py-class docutils literal"><span class="pre">Variant</span></tt></a> methods</p>
<dl class="method">
<dt id="music21.variant.Variant.getElementIds">
<tt class="descclassname">Variant.</tt><tt class="descname">getElementIds</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.variant.Variant.getElementIds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.variant.Variant.purgeLocations">
<tt class="descclassname">Variant.</tt><tt class="descname">purgeLocations</tt><big>(</big><em>rescanIsDead=False</em><big>)</big><a class="headerlink" href="#music21.variant.Variant.purgeLocations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.variant.Variant.purgeOrphans">
<tt class="descclassname">Variant.</tt><tt class="descname">purgeOrphans</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.variant.Variant.purgeOrphans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.variant.Variant.removeReplacedElementsFromStream">
<tt class="descclassname">Variant.</tt><tt class="descname">removeReplacedElementsFromStream</tt><big>(</big><em>referenceStream=None</em>, <em>classList=None</em><big>)</big><a class="headerlink" href="#music21.variant.Variant.removeReplacedElementsFromStream" title="Permalink to this definition">¶</a></dt>
<dd><p>remove replaced elements from a referenceStream or activeSite</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantDataM1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantDataM2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantData</span> <span class="o">=</span> <span class="p">[</span><span class="n">variantDataM1</span><span class="p">,</span> <span class="n">variantDataM2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">variantData</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;paris&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">replacementDuration</span> <span class="o">=</span> <span class="mf">4.0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM4</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamData</span> <span class="o">=</span> <span class="p">[</span><span class="n">streamDataM1</span><span class="p">,</span> <span class="n">streamDataM2</span><span class="p">,</span> <span class="n">streamDataM3</span><span class="p">,</span> <span class="n">streamDataM4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">streamData</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">removeReplacedElementsFromStream</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 0 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note G&gt;</span>
<span class="go">{4.0} &lt;music21.variant.Variant object of length 8.0&gt;</span>
<span class="go">{8.0} &lt;music21.stream.Measure 0 offset=8.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{12.0} &lt;music21.stream.Measure 0 offset=12.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.variant.Variant.replaceElement">
<tt class="descclassname">Variant.</tt><tt class="descname">replaceElement</tt><big>(</big><em>old</em>, <em>new</em><big>)</big><a class="headerlink" href="#music21.variant.Variant.replaceElement" title="Permalink to this definition">¶</a></dt>
<dd><p>When copying a Variant, we need to update the Variant with new 
references for copied elements. Given the old element, 
this method will replace the old with the new.</p>
<p>The <cite>old</cite> parameter can be either an object or object id.</p>
<p>This method is very similar to the replaceSpannedElement method on Spanner.</p>
</dd></dl>

<dl class="method">
<dt id="music21.variant.Variant.replacedElements">
<tt class="descclassname">Variant.</tt><tt class="descname">replacedElements</tt><big>(</big><em>contextStream=None</em>, <em>classList=None</em>, <em>keepOriginalOffsets=False</em>, <em>includeSpacers=False</em><big>)</big><a class="headerlink" href="#music21.variant.Variant.replacedElements" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Stream containing the elements which this variant replaces in a given context stream. 
This Stream will have length self.replacementDuration.</p>
<p>In regions that are strictly replaced, only elements that share a class with an element in the variant
are captured. Elsewhere, all elements are captured.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4 d4 e4 f4 g4   a2 b-4 a4    g4 a8 g8 f4 e4    d2 a2                  d4 e4 f4 g4    a2 b-4 a4    g4 a8 b-8 c&#39;4 c4    f1&quot;</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">(</span><span class="n">inPlace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1stream</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4        a2. b-8 a8&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2stream1</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4                                       d4 f4 a2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2stream2</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;tinynotation: 4/4                                                  d4 f4 AA2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1measure</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">v1measure</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">v1stream</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">v1measure</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2measure1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2measure2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">v2measure1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">v2measure2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">v2stream1</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">v2measure1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">v2stream2</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">v2measure2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span><span class="o">.</span><span class="n">replacementDuration</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span><span class="o">.</span><span class="n">replacementDuration</span> <span class="o">=</span> <span class="mf">4.0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">v1</span><span class="p">)</span>    <span class="c"># replacement variant</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">12.0</span><span class="p">,</span> <span class="n">v2</span><span class="p">)</span>  <span class="c"># insertion variant (2 bars replace 1 bar)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">20.0</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>  <span class="c"># deletion variant (0 bars replace 1 bar)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="o">.</span><span class="n">replacedElements</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 2 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note B-&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span><span class="o">.</span><span class="n">replacedElements</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 4 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span><span class="o">.</span><span class="n">replacedElements</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 6 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note B-&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span><span class="o">.</span><span class="n">replacedElements</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">keepOriginalOffsets</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{20.0} &lt;music21.stream.Measure 6 offset=20.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note B-&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note A&gt;</span>
</pre></div>
</div>
<p>A second example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantDataM1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantDataM2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variantData</span> <span class="o">=</span> <span class="p">[</span><span class="n">variantDataM1</span><span class="p">,</span> <span class="n">variantDataM2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">variantData</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;paris&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">replacementDuration</span> <span class="o">=</span> <span class="mf">4.0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM1</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM2</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;eighth&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM3</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamDataM4</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;quarter&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamData</span> <span class="o">=</span> <span class="p">[</span><span class="n">streamDataM1</span><span class="p">,</span> <span class="n">streamDataM2</span><span class="p">,</span> <span class="n">streamDataM3</span><span class="p">,</span> <span class="n">streamDataM4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">streamData</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">pitchName</span><span class="p">,</span><span class="n">durType</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">pitchName</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">durType</span>
<span class="gp">... </span>       <span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">replacedElements</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 0 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note B&gt;</span>
<span class="go">    {0.5} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.5} &lt;music21.note.Note A&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {3.0} &lt;music21.note.Note B&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#print(lily.translate.LilypondConverter().textFromMusic21Object(s))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#s.show(&#39;lily.png&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.variant.Variant.show">
<tt class="descclassname">Variant.</tt><tt class="descname">show</tt><big>(</big><em>fmt=None</em>, <em>app=None</em><big>)</big><a class="headerlink" href="#music21.variant.Variant.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Call show() on the Stream contained by this Variant.</p>
<p>This method must be overridden, otherwise Music21Object.show() is called.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">Variant</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">quarterLength</span><span class="o">=.</span><span class="mi">25</span><span class="p">),</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{0.25} &lt;music21.note.Note C&gt;</span>
<span class="go">{0.5} &lt;music21.note.Note C&gt;</span>
<span class="go">{0.75} &lt;music21.note.Note C&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{1.25} &lt;music21.note.Note C&gt;</span>
<span class="go">{1.5} &lt;music21.note.Note C&gt;</span>
<span class="go">{1.75} &lt;music21.note.Note C&gt;</span>
</pre></div>
</div>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.findAttributeInHierarchy" title="music21.base.Music21Object.findAttributeInHierarchy"><tt class="xref py py-meth docutils literal"><span class="pre">findAttributeInHierarchy()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getAllContextsByClass" title="music21.base.Music21Object.getAllContextsByClass"><tt class="xref py py-meth docutils literal"><span class="pre">getAllContextsByClass()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getContextAttr" title="music21.base.Music21Object.getContextAttr"><tt class="xref py py-meth docutils literal"><span class="pre">getContextAttr()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getContextByClass" title="music21.base.Music21Object.getContextByClass"><tt class="xref py py-meth docutils literal"><span class="pre">getContextByClass()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getOffsetBySite" title="music21.base.Music21Object.getOffsetBySite"><tt class="xref py py-meth docutils literal"><span class="pre">getOffsetBySite()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getSpannerSites" title="music21.base.Music21Object.getSpannerSites"><tt class="xref py py-meth docutils literal"><span class="pre">getSpannerSites()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hasContext" title="music21.base.Music21Object.hasContext"><tt class="xref py py-meth docutils literal"><span class="pre">hasContext()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hasSite" title="music21.base.Music21Object.hasSite"><tt class="xref py py-meth docutils literal"><span class="pre">hasSite()</span></tt></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hasVariantSite" title="music21.base.Music21Object.hasVariantSite"><tt class="xref py py-meth docutils literal"><span class="pre">hasVariantSite()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isClassOrSubclass" title="music21.base.Music21Object.isClassOrSubclass"><tt class="xref py py-meth docutils literal"><span class="pre">isClassOrSubclass()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.mergeAttributes" title="music21.base.Music21Object.mergeAttributes"><tt class="xref py py-meth docutils literal"><span class="pre">mergeAttributes()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.next" title="music21.base.Music21Object.next"><tt class="xref py py-meth docutils literal"><span class="pre">next()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.previous" title="music21.base.Music21Object.previous"><tt class="xref py py-meth docutils literal"><span class="pre">previous()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.removeLocationBySite" title="music21.base.Music21Object.removeLocationBySite"><tt class="xref py py-meth docutils literal"><span class="pre">removeLocationBySite()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.removeLocationBySiteId" title="music21.base.Music21Object.removeLocationBySiteId"><tt class="xref py py-meth docutils literal"><span class="pre">removeLocationBySiteId()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.setContextAttr" title="music21.base.Music21Object.setContextAttr"><tt class="xref py py-meth docutils literal"><span class="pre">setContextAttr()</span></tt></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.setOffsetBySite" title="music21.base.Music21Object.setOffsetBySite"><tt class="xref py py-meth docutils literal"><span class="pre">setOffsetBySite()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.sortTuple" title="music21.base.Music21Object.sortTuple"><tt class="xref py py-meth docutils literal"><span class="pre">sortTuple()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitAtDurations" title="music21.base.Music21Object.splitAtDurations"><tt class="xref py py-meth docutils literal"><span class="pre">splitAtDurations()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitAtQuarterLength" title="music21.base.Music21Object.splitAtQuarterLength"><tt class="xref py py-meth docutils literal"><span class="pre">splitAtQuarterLength()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitByQuarterLengths" title="music21.base.Music21Object.splitByQuarterLengths"><tt class="xref py py-meth docutils literal"><span class="pre">splitByQuarterLengths()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.write" title="music21.base.Music21Object.write"><tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.yieldSiteSearchOrder" title="music21.base.Music21Object.yieldSiteSearchOrder"><tt class="xref py py-meth docutils literal"><span class="pre">yieldSiteSearchOrder()</span></tt></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.variant.Variant" title="music21.variant.Variant"><tt class="xref py py-class docutils literal"><span class="pre">Variant</span></tt></a> instance variables</p>
<p>Instance variables inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isStream" title="music21.base.Music21Object.isStream"><tt class="xref py py-attr docutils literal"><span class="pre">isStream</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hideObjectOnPrint" title="music21.base.Music21Object.hideObjectOnPrint"><tt class="xref py py-attr docutils literal"><span class="pre">hideObjectOnPrint</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.classSortOrder" title="music21.base.Music21Object.classSortOrder"><tt class="xref py py-attr docutils literal"><span class="pre">classSortOrder</span></tt></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.groups" title="music21.base.Music21Object.groups"><tt class="xref py py-attr docutils literal"><span class="pre">groups</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isVariant" title="music21.base.Music21Object.isVariant"><tt class="xref py py-attr docutils literal"><span class="pre">isVariant</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.id" title="music21.base.Music21Object.id"><tt class="xref py py-attr docutils literal"><span class="pre">id</span></tt></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isSpanner" title="music21.base.Music21Object.isSpanner"><tt class="xref py py-attr docutils literal"><span class="pre">isSpanner</span></tt></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.xPosition" title="music21.base.Music21Object.xPosition"><tt class="xref py py-attr docutils literal"><span class="pre">xPosition</span></tt></a></li>
</ul>
</td></tr></table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleVexflow.html" title="music21.vexflow"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleTrecentoTrecentoCadence.html" title="music21.trecento.trecentoCadence"
             >previous</a> |</li>
        <li><a href="../index.html">music21</a> &raquo;</li>
          <li><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2013, Michael Scott Cuthbert and the music21 Project.
      Last updated on Jun 25, 2014.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>