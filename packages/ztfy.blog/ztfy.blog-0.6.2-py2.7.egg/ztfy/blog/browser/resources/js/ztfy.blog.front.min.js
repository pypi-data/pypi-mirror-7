(function(a){if(typeof(a.ZBlog)=="undefined"){a.ZBlog={}}a.ZBlog.actions={showLoginForm:function(c){var b=a("SPAN.inputs",c);b.parents("LI:first").addClass("selected");b.show();a("INPUT",b).get(0).focus()},login:function(b){if(typeof(b)=="undefined"){b=a('FORM[name="login_form"]')}a.ZTFY.form.check(function(){a.ZBlog.actions._login(b)});return false},_login:function(b){a.ZTFY.ajax.submit(b,a(b).attr("action")+"/@@ajax/login",{},a.ZBlog.actions._loginCallback,a.ZBlog.actions._loginError,"json")},_loginCallback:function(b,c){if(c=="success"){if(b=="OK"){window.location.reload()}else{jAlert(a.ZTFY.I18n.BAD_LOGIN_MESSAGE,a.ZTFY.I18n.BAD_LOGIN_TITLE,null)}}},_loginError:function(c,b){jAlert(b,a.ZTFY.I18n.ERROR_OCCURED,null)},logout:function(){a.get(window.location.href+"/@@login.html/@@ajax/logout",a.ZBlog.actions._logoutCallback)},_logoutCallback:function(b,c){window.location.reload()}};a.ZBlog.code={resizeFrame:function(b){a(b).css("height",a("BODY",b.contentDocument).height()+20)}}})(jQuery);