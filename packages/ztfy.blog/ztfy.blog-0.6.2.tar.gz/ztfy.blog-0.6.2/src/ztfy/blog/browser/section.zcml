<configure
	xmlns="http://namespaces.zope.org/browser"
	xmlns:z3c="http://namespaces.zope.org/z3c"
	xmlns:zope="http://namespaces.zope.org/zope"
	i18n_domain="ztfy.blog">

	<!-- Sections management -->
	<addMenuItem
		title="ZTFY site section"
		description="A site section is used to store organized topics"
		class="..section.Section"
		permission="ztfy.ManageBlog" />

	<containerViews
		for="..interfaces.section.ISection"
		add="ztfy.ManageContent"
		contents="zope.View" />

	<zope:adapter
		factory=".section.SectionTreeViewDefaultViewAdapter" />

	<zope:adapter
		factory=".section.SectionContainerContentsViewCellActions" />

	<z3c:pagelet
		name="addSection.html"
		for="..interfaces.section.ISectionContainer"
		class=".section.SectionAddForm"
		layer="ztfy.skin.layer.IZTFYBrowserLayer"
		permission="ztfy.ManageBlog" />

	<viewlet
		name=" :: Add section..."
		viewURL="@@addSection.html"
		for="..interfaces.section.ISectionContainer"
		view="ztfy.skin.interfaces.container.IMainContentAddFormMenuTarget"
		manager="ztfy.skin.viewlets.contents.interfaces.IContentsViewletManager"
		class=".section.SectionAddFormMenu"
		permission="ztfy.ManageBlog"
		layer="ztfy.skin.layer.IZTFYBackLayer"
		weight="22" />

	<z3c:pagelet
		name="properties.html"
		for="..interfaces.section.ISection"
		class=".section.SectionEditForm"
		layer="ztfy.skin.layer.IZTFYBrowserLayer"
		permission="ztfy.ViewManagementScreens" />

	<viewlet
		name="Properties"
		viewURL="@@properties.html"
		for="..interfaces.section.ISection"
		manager="ztfy.skin.viewlets.actions.interfaces.IActionsViewletManager"
		class="ztfy.skin.menu.PropertiesMenuItem"
		permission="ztfy.ViewManagementScreens"
		layer="ztfy.skin.layer.IZTFYBackLayer"
		weight="10" />

	<z3c:pagelet
		name="roles.html"
		for="..interfaces.section.ISection"
		class=".section.SectionRolesEditForm"
		layer="ztfy.skin.layer.IZTFYBrowserLayer"
		permission="ztfy.ManageContent" />

	<viewlet
		name=":: Roles..."
		viewURL="javascript:$.ZTFY.dialog.open('@@roles.html');"
		for="..interfaces.section.ISection"
		view=".section.SectionEditForm"
		manager="ztfy.skin.viewlets.actions.interfaces.IActionsViewletManager"
		class=".section.SectionRolesMenuItem"
		permission="ztfy.ManageContent"
		layer="ztfy.skin.layer.IZTFYBackLayer"
		weight="12" />

	<z3c:pagelet
		name="presentation.html"
		for="..interfaces.section.ISection"
		class=".section.SectionPresentationEditForm"
		layer="ztfy.skin.layer.IZTFYBrowserLayer"
		permission="ztfy.ManageBlog" />

	<z3c:pagelet
		name="contents.html"
		for="..interfaces.section.ISection"
		class=".section.SectionContainerContentsView"
		layer="ztfy.skin.layer.IZTFYBrowserLayer"
		permission="ztfy.ViewManagementScreens" />

	<viewlet
		name="Contents"
		viewURL="@@contents.html"
		for="..interfaces.section.ISection"
		manager="ztfy.skin.viewlets.contents.interfaces.IContentsViewletManager"
		class=".section.SectionContainerContentsViewMenu"
		permission="ztfy.ViewManagementScreens"
		layer="ztfy.skin.layer.IZTFYBackLayer"
		weight="10" />

</configure>