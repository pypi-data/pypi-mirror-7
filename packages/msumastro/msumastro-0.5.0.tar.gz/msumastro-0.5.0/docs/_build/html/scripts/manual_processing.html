

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Manual header processing &mdash; MSUMastro toolbox 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'0.1',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="MSUMastro toolbox 0.1 documentation" href="../index.html"/>
        <link rel="next" title="Image Management" href="../image_management.html"/>
        <link rel="prev" title="Command-line scripts" href="scripts.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> MSUMastro toolbox</a>
        <form class="wy-form" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#automated-header-processing">Automated header processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#manual-header-or-image-manipulation">Manual header or image manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#building-your-own-tools">Building your own tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#this-software">This software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="automated_scripts.html">Automated header processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="automated_scripts.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="automated_scripts.html#intended-workflow">Intended workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="automated_scripts.html#the-intended-workflow-will-not-work-when">The intended workflow will not work when...</a></li>
<li class="toctree-l2"><a class="reference internal" href="automated_scripts.html#fixes-for-cases-that-require-intervention">Fixes for cases that require intervention</a></li>
<li class="toctree-l2"><a class="reference internal" href="automated_scripts.html#detailed-list-of-keywords-changed">Detailed list of keywords changed</a></li>
<li class="toctree-l2"><a class="reference internal" href="automated_scripts.html#reference-api">Reference/API</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Manual header processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../image_management.html">Image Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../image_management.html#working-with-a-directory-of-images">Working with a directory of images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image_management.html#module-msumastro.table_tree">Turning an image collection into a tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image_management.html#module-msumastro.image">Image class that includes WCS information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../header_processing/index.html">Header processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../header_processing/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../header_processing/index.html#reference-api">Reference/API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reduction/index.html">Image Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xref.html">Index</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">MSUMastro toolbox</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="../index.html">Docs</a> &raquo;</li>
  <li><a href="">Manual header processing</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="manual-header-processing">
<span id="manual-processing"></span><h1>Manual header processing<a class="headerlink" href="#manual-header-processing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Sometimes the standard data preparation will fail at one stage or another,
most often because pointing information is missing for an image or because no
object was found matching the RA/Dec of the image. Your tool of choice in such
cases, either to add pointing information or to add object names is
<a class="reference internal" href="scripts.html#module-msumastro.scripts.quick_add_keys_to_file" title="msumastro.scripts.quick_add_keys_to_file"><tt class="xref py py-mod docutils literal"><span class="pre">quick_add_keys_to_file</span></tt></a>. A broad discussion of using
it is at <a class="reference internal" href="automated_scripts.html#how-to-fix"><em>Fixes for cases that require intervention</em></a>.</p>
<p>This document provides some examples of using
<a class="reference internal" href="scripts.html#module-msumastro.scripts.quick_add_keys_to_file" title="msumastro.scripts.quick_add_keys_to_file"><tt class="xref py py-mod docutils literal"><span class="pre">quick_add_keys_to_file</span></tt></a> from the command line. See the
documentation for <tt class="xref py py-func docutils literal"><span class="pre">add_keys()</span></tt> for use from python scripts.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="command-line-only">
<h3>Command line only<a class="headerlink" href="#command-line-only" title="Permalink to this headline">¶</a></h3>
<p>Add the keyword &#8220;OBJECT&#8221;, with value &#8220;EY UMa&#8221;, to the file <tt class="docutils literal"><span class="pre">image.fit</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>quick_add_keys_to_file.py --key-value object &quot;EY UMa&quot; image.fits
</pre></div>
</div>
<p>The same, but for all of the files that match the pattern <tt class="docutils literal"><span class="pre">ey-uma*.fit</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>quick_add_keys_to_file.py --key-value object &quot;EY UMa&quot; ey-uma*.fits
</pre></div>
</div>
<p>The rest of the command line examples you have created a file called
<tt class="docutils literal"><span class="pre">keys.txt</span></tt> with a list of keyword/value pairs and a list of files called
<tt class="docutils literal"><span class="pre">files.txt</span></tt> (you can call the files whatever you want, of course)</p>
</div>
<div class="section" id="command-line-and-supporting-files">
<h3>Command line and supporting files<a class="headerlink" href="#command-line-and-supporting-files" title="Permalink to this headline">¶</a></h3>
<div class="section" id="format-of-the-keyword-file">
<h4>Format of the keyword file<a class="headerlink" href="#format-of-the-keyword-file" title="Permalink to this headline">¶</a></h4>
<p>A keyword file looks like this (you need the header line):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Keyword</span><span class="p">,</span><span class="n">Value</span>
<span class="n">OBJECT</span><span class="p">,</span><span class="s">&quot;EY UMa&quot;</span>
<span class="n">RA</span><span class="p">,</span><span class="s">&quot;09:02:20.79&quot;</span>
<span class="n">DEC</span><span class="p">,</span><span class="s">&quot;+49:49:09.7&quot;</span>
</pre></div>
</div>
<p>You can include as many keywords as you want, and they can have numerical values
instead of string values in appropriate. If the value has two words, like the
value for the keyword &#8220;OBJECT&#8221; above, it must be in quotes, like &#8220;EY UMa&#8221;.</p>
<p>Keyword names are case insensitive because keywords in the FITS standard are
case insensitive.</p>
</div>
<div class="section" id="format-of-the-file-list">
<h4>Format of the file list<a class="headerlink" href="#format-of-the-file-list" title="Permalink to this headline">¶</a></h4>
<p>A file list looks like this (yes, you need the header line):</p>
<div class="highlight-python"><div class="highlight"><pre>File
MyFirstFile.fit
another_fits_file.fits
/or/even/the/full/path/to/a/fits/file.fit
</pre></div>
</div>
</div>
<div class="section" id="examples-using-keyword-file-file-list">
<h4>Examples using keyword file/file list<a class="headerlink" href="#examples-using-keyword-file-file-list" title="Permalink to this headline">¶</a></h4>
<p>Add all of the keywords in <tt class="docutils literal"><span class="pre">keys.txt</span></tt> to all of the files in <tt class="docutils literal"><span class="pre">files.txt</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>quick_add_keys_to_file.py --key-file keys.txt --file-list files.txt
</pre></div>
</div>
<p>Add all of the keywords in <tt class="docutils literal"><span class="pre">keys.txt</span></tt> to the files <tt class="docutils literal"><span class="pre">image1.fit</span></tt> and
<tt class="docutils literal"><span class="pre">image2.fit</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>quick_add_keys_to_file.py --key-file keys.txt image1.fit image2.fit
</pre></div>
</div>
<p>Add keywords from the command line to all of the files in <tt class="docutils literal"><span class="pre">files.txt</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>quick_add_keys_to_file.py --key-value my_key &quot;some value&quot; --file-list files.txt
</pre></div>
</div>
</div>
</div>
</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="../image_management.html" class="btn btn-neutral float-right" title="Image Management"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="scripts.html" class="btn btn-neutral" title="Command-line scripts"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright 2011-2013, Matt Craig.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>