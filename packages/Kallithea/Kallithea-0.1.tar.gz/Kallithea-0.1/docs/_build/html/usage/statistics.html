<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>Statistics &mdash; Kallithea 0 documentation</title>

    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Kallithea 0 documentation" href="../index.html" />
    <link rel="next" title="Backing up Kallithea" href="backup.html" />
    <link rel="prev" title="Kallithea repository locking system" href="locking.html" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="backup.html" title="Backing up Kallithea"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="locking.html" title="Kallithea repository locking system"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Kallithea 0 documentation</a> &raquo;</li>
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">

  <div class="section" id="statistics">
<span id="id1"></span><h1>Statistics<a class="headerlink" href="#statistics" title="Permalink to this headline">¶</a></h1>
<p>The Kallithea statistics system makes heavy demands of the server resources, so
in order to keep a balance between usability and performance, the statistics are
cached inside db and are gathered incrementally, this is how Kallithea does
this:</p>
<div class="section" id="with-celery-disabled">
<h2>With Celery disabled<a class="headerlink" href="#with-celery-disabled" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>On each first visit to the summary page a set of 250 commits are parsed and
updates statistics cache.</li>
<li>This happens on each single visit to the statistics page until all commits are
fetched. Statistics are kept cached until additional commits are added to the
repository. In such a case Kallithea will only fetch the new commits when
updating it&#8217;s cache.</li>
</ul>
</div>
<div class="section" id="with-celery-enabled">
<h2>With Celery enabled<a class="headerlink" href="#with-celery-enabled" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>On the first visit to the summary page Kallithea will create tasks that will
execute on celery workers. This task will gather all of the stats until all
commits are parsed, each task will parse 250 commits, and run the next task to
parse next 250 commits, until all of the commits are parsed.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At any time you can disable statistics on each repository via the repository
edit form in the admin panel. To do this just uncheck the statistics checkbox.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3>Support Kallithea development</h3>
<div style="text-align:center">
<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="EYXFS3SQPHYUL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
    <div style="padding:5px">
     <a href="https://flattr.com/thing/922714/Donate-to-Software-Freedom-Conservancy" target="_blank">
     <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" /></a>
    </div>
</div>

  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Statistics</a><ul>
<li><a class="reference internal" href="#with-celery-disabled">With Celery disabled</a></li>
<li><a class="reference internal" href="#with-celery-enabled">With Celery enabled</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="locking.html"
                        title="previous chapter">Kallithea repository locking system</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="backup.html"
                        title="next chapter">Backing up Kallithea</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/usage/statistics.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="backup.html" title="Backing up Kallithea"
             >next</a> |</li>
        <li class="right" >
          <a href="locking.html" title="Kallithea repository locking system"
             >previous</a> |</li>
        <li><a href="../index.html">Kallithea 0 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014 by various authors, licensed as GPLv3..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>