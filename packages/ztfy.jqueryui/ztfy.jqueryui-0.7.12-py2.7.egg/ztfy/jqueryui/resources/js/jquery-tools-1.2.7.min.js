(function(e,c){e.tools=e.tools||{version:"@VERSION"};var a=[],d={},j,m=[75,76,38,39,74,72,40,37],i={};j=e.tools.dateinput={conf:{format:"mm/dd/yy",formatter:"default",selectors:false,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:c,max:c,trigger:0,toggle:0,editable:0,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},addFormatter:function(p,q){d[p]=q},localize:function(q,p){e.each(p,function(r,s){p[r]=s.split(",")});i[q]=p}};j.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});function o(p,q){return new Date(p,q+1,0).getDate()}function h(q,p){q=""+q;p=p||2;while(q.length<p){q="0"+q}return q}var n=e("<a/>");function l(x,s,z,q){var v=s.getDate(),p=s.getDay(),t=s.getMonth(),w=s.getFullYear(),r={d:v,dd:h(v),ddd:i[q].shortDays[p],dddd:i[q].days[p],m:t+1,mm:h(t+1),mmm:i[q].shortMonths[t],mmmm:i[q].months[t],yy:String(w).slice(2),yyyy:w};var u=d[x](z,s,r,q);return n.html(u).html()}j.addFormatter("default",function(s,q,p,r){return s.replace(/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,function(t){return t in p?p[t]:t})});j.addFormatter("prefixed",function(s,q,p,r){return s.replace(/%(d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*')/g,function(u,t){return t in p?p[t]:u})});function g(p){return parseInt(p,10)}function f(q,p){return q.getFullYear()===p.getFullYear()&&q.getMonth()==p.getMonth()&&q.getDate()==p.getDate()}function b(r){if(r===c){return}if(r.constructor==Date){return r}if(typeof r=="string"){var q=r.split("-");if(q.length==3){return new Date(g(q[0]),g(q[1])-1,g(q[2]))}if(!(/^-?\d+$/).test(r)){return}r=g(r)}var p=new Date;p.setDate(p.getDate()+r);return p}function k(y,v){var B=this,p=new Date,J=p.getFullYear(),x=v.css,P=i[v.lang],G=e("#"+x.root),S=G.find("#"+x.title),A,K,q,R,u,O,E=y.attr("data-value")||v.value||y.val(),H=y.attr("min")||v.min,I=y.attr("max")||v.max,N,F;if(H===0){H="0"}E=b(E)||p;H=b(H||new Date(J+v.yearRange[0],1,1));I=b(I||new Date(J+v.yearRange[1]+1,1,-1));if(!P){throw"Dateinput: invalid language: "+v.lang}if(y.attr("type")=="date"){var F=y.clone(),z=F.wrap("<div/>").parent().html(),M=e(z.replace(/type/i,"type=text data-orig-type"));if(v.value){M.val(v.value)}y.replaceWith(M);y=M}y.addClass(x.input);var Q=y.add(B);if(!G.length){G=e("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",x.root);G.children().eq(0).attr("id",x.head).end().eq(1).attr("id",x.body).children().eq(0).attr("id",x.days).end().eq(1).attr("id",x.weeks).end().end().end().find("a").eq(0).attr("id",x.prev).end().eq(1).attr("id",x.next);S=G.find("#"+x.head).find("div").attr("id",x.title);if(v.selectors){var r=e("<select/>").attr("id",x.month),w=e("<select/>").attr("id",x.year);S.html(r.add(w))}var s=G.find("#"+x.days);for(var L=0;L<7;L++){s.append(e("<span/>").text(P.shortDays[(L+v.firstDay)%7]))}e("body").append(G)}if(v.trigger){A=e("<a/>").attr("href","#").addClass(x.trigger).click(function(T){v.toggle?B.toggle():B.show();return T.preventDefault()}).insertAfter(y)}var t=G.find("#"+x.weeks);w=G.find("#"+x.year);r=G.find("#"+x.month);function D(U,T,V){E=U;R=U.getFullYear();u=U.getMonth();O=U.getDate();V||(V=e.Event("api"));if(V.type=="click"&&!e.browser.msie){y.focus()}V.type="beforeChange";Q.trigger(V,[U]);if(V.isDefaultPrevented()){return}y.val(l(T.formatter,U,T.format,T.lang));V.type="change";Q.trigger(V);y.data("date",U);B.hide(V)}function C(T){T.type="onShow";Q.trigger(T);e(document).on("keydown.d",function(X){if(X.ctrlKey){return true}var V=X.keyCode;if(V==8||V==46){y.val("");return B.hide(X)}if(V==27||V==9){return B.hide(X)}if(e(m).index(V)>=0){if(!N){B.show(X);return X.preventDefault()}var Y=e("#"+x.weeks+" a"),W=e("."+x.focus),U=Y.index(W);W.removeClass(x.focus);if(V==74||V==40){U+=7}else{if(V==75||V==38){U-=7}else{if(V==76||V==39){U+=1}else{if(V==72||V==37){U-=1}}}}if(U>41){B.addMonth();W=e("#"+x.weeks+" a:eq("+(U-42)+")")}else{if(U<0){B.addMonth(-1);W=e("#"+x.weeks+" a:eq("+(U+42)+")")}else{W=Y.eq(U)}}W.addClass(x.focus);return X.preventDefault()}if(V==34){return B.addMonth()}if(V==33){return B.addMonth(-1)}if(V==36){return B.today()}if(V==13){if(!e(X.target).is("select")){e("."+x.focus).click()}}return e([16,17,18,9]).index(V)>=0});e(document).on("click.d",function(V){var U=V.target;if(!e(U).parents("#"+x.root).length&&U!=y[0]&&(!A||U!=A[0])){B.hide(V)}})}e.extend(B,{show:function(T){if(y.attr("readonly")||y.attr("disabled")||N){return}T=T||e.Event();T.type="onBeforeShow";Q.trigger(T);if(T.isDefaultPrevented()){return}e.each(a,function(){this.hide()});N=true;r.off("change").change(function(){B.setValue(g(w.val()),g(e(this).val()))});w.off("change").change(function(){B.setValue(g(e(this).val()),g(r.val()))});K=G.find("#"+x.prev).off("click").click(function(V){if(!K.hasClass(x.disabled)){B.addMonth(-1)}return false});q=G.find("#"+x.next).off("click").click(function(V){if(!q.hasClass(x.disabled)){B.addMonth()}return false});B.setValue(E);var U=y.offset();if(/iPad/i.test(navigator.userAgent)){U.top-=e(window).scrollTop()}G.css({top:U.top+y.outerHeight({margins:true})+v.offset[0],left:U.left+v.offset[1]});if(v.speed){G.show(v.speed,function(){C(T)})}else{G.show();C(T)}return B},setValue:function(ac,aa,ae){var V=g(aa)>=-1?new Date(g(ac),g(aa),g(ae==c||isNaN(ae)?1:ae)):ac||E;if(V<H){V=H}else{if(V>I){V=I}}if(typeof ac=="string"){V=b(ac)}ac=V.getFullYear();aa=V.getMonth();ae=V.getDate();if(aa==-1){aa=11;ac--}else{if(aa==12){aa=0;ac++}}if(!N){D(V,v);return B}u=aa;R=ac;O=ae;var Y=new Date(ac,aa,1-v.firstDay),U=Y.getDay(),ag=o(ac,aa),ad=o(ac,aa-1),T;if(v.selectors){r.empty();e.each(P.months,function(ai,ah){if(H<new Date(ac,ai+1,1)&&I>new Date(ac,ai,0)){r.append(e("<option/>").html(ah).attr("value",ai))}});w.empty();var ab=p.getFullYear();for(var X=ab+v.yearRange[0];X<ab+v.yearRange[1];X++){if(H<new Date(X+1,0,1)&&I>new Date(X,0,0)){w.append(e("<option/>").text(X))}}r.val(aa);w.val(ac)}else{S.html(P.months[aa]+" "+ac)}t.empty();K.add(q).removeClass(x.disabled);for(var W=!U?-7:0,af,Z;W<(!U?35:42);W++){af=e("<a/>");if(W%7===0){T=e("<div/>").addClass(x.week);t.append(T)}if(W<U){af.addClass(x.off);Z=ad-U+W+1;V=new Date(ac,aa-1,Z)}else{if(W>=U+ag){af.addClass(x.off);Z=W-ag-U+1;V=new Date(ac,aa+1,Z)}else{Z=W-U+1;V=new Date(ac,aa,Z);if(f(E,V)){af.attr("id",x.current).addClass(x.focus)}else{if(f(p,V)){af.attr("id",x.today)}}}}if(H&&V<H){af.add(K).addClass(x.disabled)}if(I&&V>I){af.add(q).addClass(x.disabled)}af.attr("href","#"+Z).text(Z).data("date",V);T.append(af)}t.find("a").click(function(ai){var ah=e(this);if(!ah.hasClass(x.disabled)){e("#"+x.current).removeAttr("id");ah.attr("id",x.current);D(ah.data("date"),v,ai)}return false});if(x.sunday){t.find("."+x.week).each(function(){var ah=v.firstDay?7-v.firstDay:0;e(this).children().slice(ah,ah+1).addClass(x.sunday)})}return B},setMin:function(U,T){H=b(U);if(T&&E<H){B.setValue(H)}return B},setMax:function(U,T){I=b(U);if(T&&E>I){B.setValue(I)}return B},today:function(){return B.setValue(p)},addDay:function(T){return this.setValue(R,u,O+(T||1))},addMonth:function(T){var V=u+(T||1),U=o(R,V),W=O<=U?O:U;return this.setValue(R,V,W)},addYear:function(T){return this.setValue(R+(T||1),u,O)},destroy:function(){y.add(document).off("click.d keydown.d");G.add(A).remove();y.removeData("dateinput").removeClass(x.input);if(F){y.replaceWith(F)}},hide:function(T){if(N){T=e.Event();T.type="onHide";Q.trigger(T);if(T.isDefaultPrevented()){return}e(document).off("click.d keydown.d");G.hide();N=false}return B},toggle:function(){return B.isOpen()?B.hide():B.show()},getConf:function(){return v},getInput:function(){return y},getCalendar:function(){return G},getValue:function(T){return T?l(v.formatter,E,T,v.lang):E},isOpen:function(){return N}});e.each(["onBeforeShow","onShow","change","onHide"],function(U,T){if(e.isFunction(v[T])){e(B).on(T,v[T])}B[T]=function(V){if(V){e(B).on(T,V)}return B}});if(!v.editable){y.on("focus.d click.d",B.show).keydown(function(U){var T=U.keyCode;if(!N&&e(m).index(T)>=0){B.show(U);return U.preventDefault()}else{if(T==8||T==46){y.val("")}}return U.shiftKey||U.ctrlKey||U.altKey||T==9?true:U.preventDefault()})}if(b(y.val())){D(E,v)}}e.expr[":"].date=function(q){var p=q.getAttribute("type");return p&&p=="date"||!!e(q).data("dateinput")};e.fn.dateinput=function(p){if(this.data("dateinput")){return this}p=e.extend(true,{},j.conf,p);e.each(p.css,function(r,s){if(!s&&r!="prefix"){p.css[r]=(p.css.prefix||"")+(s||r)}});var q;this.each(function(){var s=new k(e(this),p);a.push(s);var r=s.getInput().data("dateinput",s);q=q?q.add(r):r});return q?q:this}})(jQuery);(function(c){c.tools=c.tools||{version:"@VERSION"};c.tools.overlay={addEffect:function(e,f,g){b[e]=[f,g]},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!c.browser.msie||c.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var d=[],b={};c.tools.overlay.addEffect("default",function(h,g){var f=this.getConf(),e=c(window);if(!f.fixed){h.top+=e.scrollTop();h.left+=e.scrollLeft()}h.position=f.fixed?"fixed":"absolute";this.getOverlay().css(h).fadeIn(f.speed,g)},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e)});function a(h,m){var o=this,f=h.add(o),n=c(window),k,j,i,e=c.tools.expose&&(m.mask||m.expose),l=Math.random().toString().slice(10);if(e){if(typeof e=="string"){e={color:e}}e.closeOnClick=e.closeOnEsc=false}var g=m.target||h.attr("rel");j=g?c(g):null||h;if(!j.length){throw"Could not find Overlay: "+g}if(h&&h.index(j)==-1){h.click(function(p){o.load(p);return p.preventDefault()})}c.extend(o,{load:function(u){if(o.isOpened()){return o}var r=b[m.effect];if(!r){throw'Overlay: cannot find effect : "'+m.effect+'"'}if(m.oneInstance){c.each(d,function(){this.close(u)})}u=u||c.Event();u.type="onBeforeLoad";f.trigger(u);if(u.isDefaultPrevented()){return o}i=true;if(e){c(j).expose(e)}var t=m.top,s=m.left,p=j.outerWidth({margin:true}),q=j.outerHeight({margin:true});if(typeof t=="string"){t=t=="center"?Math.max((n.height()-q)/2,0):parseInt(t,10)/100*n.height()}if(s=="center"){s=Math.max((n.width()-p)/2,0)}r[0].call(o,{top:t,left:s},function(){if(i){u.type="onLoad";f.trigger(u)}});if(e&&m.closeOnClick){c.mask.getMask().one("click",o.close)}if(m.closeOnClick){c(document).on("click."+l,function(v){if(!c(v.target).parents(j).length){o.close(v)}})}if(m.closeOnEsc){c(document).on("keydown."+l,function(v){if(v.keyCode==27){o.close(v)}})}return o},close:function(p){if(!o.isOpened()){return o}p=p||c.Event();p.type="onBeforeClose";f.trigger(p);if(p.isDefaultPrevented()){return}i=false;b[m.effect][1].call(o,function(){p.type="onClose";f.trigger(p)});c(document).off("click."+l+" keydown."+l);if(e){c.mask.close()}return o},getOverlay:function(){return j},getTrigger:function(){return h},getClosers:function(){return k},isOpened:function(){return i},getConf:function(){return m}});c.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(q,p){if(c.isFunction(m[p])){c(o).on(p,m[p])}o[p]=function(r){if(r){c(o).on(p,r)}return o}});k=j.find(m.close||".close");if(!k.length&&!m.close){k=c('<a class="close"></a>');j.prepend(k)}k.click(function(p){o.close(p)});if(m.load){o.load()}}c.fn.overlay=function(e){var f=this.data("overlay");if(f){return f}if(c.isFunction(e)){e={onBeforeLoad:e}}e=c.extend(true,{},c.tools.overlay.conf,e);this.each(function(){f=new a(c(this),e);d.push(f);c(this).data("overlay",f)});return e.api?f:this}})(jQuery);(function(e){var c=e.tools.overlay,a=e(window);e.extend(c.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});function d(g){var h=g.offset();return{top:h.top+g.height()/2,left:h.left+g.width()/2}}var f=function(r,q){var k=this.getOverlay(),o=this.getConf(),i=this.getTrigger(),s=this,t=k.outerWidth({margin:true}),m=k.data("img"),n=o.fixed?"fixed":"absolute";if(!m){var l=k.css("backgroundImage");if(!l){throw"background-image CSS property not set for overlay"}l=l.slice(l.indexOf("(")+1,l.indexOf(")")).replace(/\"/g,"");k.css("backgroundImage","none");m=e('<img src="'+l+'"/>');m.css({border:0,display:"none"}).width(t);e("body").append(m);k.data("img",m)}var j=o.start.top||Math.round(a.height()/2),h=o.start.left||Math.round(a.width()/2);if(i){var g=d(i);j=g.top;h=g.left}if(o.fixed){j-=a.scrollTop();h-=a.scrollLeft()}else{r.top+=a.scrollTop();r.left+=a.scrollLeft()}m.css({position:"absolute",top:j,left:h,width:0,zIndex:o.zIndex}).show();r.position=n;k.css(r);m.animate({top:r.top,left:r.left,width:t},o.speed,function(){k.css("zIndex",o.zIndex+1).fadeIn(o.fadeInSpeed,function(){if(s.isOpened()&&!e(this).index(k)){q.call()}else{k.hide()}})}).css("position",n)};var b=function(g){var k=this.getOverlay().hide(),j=this.getConf(),i=this.getTrigger(),h=k.data("img"),l={top:j.start.top,left:j.start.left,width:0};if(i){e.extend(l,d(i))}if(j.fixed){h.css({position:"absolute"}).animate({top:"+="+a.scrollTop(),left:"+="+a.scrollLeft()},0)}h.animate(l,j.closeSpeed,g)};c.addEffect("apple",f,b)})(jQuery);(function(f){f.tools=f.tools||{version:"@VERSION"};var d;d=f.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:true,progress:false,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var h,a;f.fn.drag=function(i){document.ondragstart=function(){return false};i=f.extend({x:true,y:true,drag:true},i);h=h||f(document).on("mousedown mouseup",function(m){var k=f(m.target);if(m.type=="mousedown"&&k.data("drag")){var n=k.position(),j=m.pageX-n.left,l=m.pageY-n.top,o=true;h.on("mousemove.drag",function(r){var p=r.pageX-j,s=r.pageY-l,q={};if(i.x){q.left=p}if(i.y){q.top=s}if(o){k.trigger("dragStart");o=false}if(i.drag){k.css(q)}k.trigger("drag",[s,p]);a=k});m.preventDefault()}else{try{if(a){a.trigger("dragEnd")}}finally{h.off("mousemove.drag");a=null}}});return this.data("drag",true)};function b(j,i){var k=Math.pow(10,i);return Math.round(j*k)/k}function g(l,j){var i=parseInt(l.css(j),10);if(i){return i}var k=l[0].currentStyle;return k&&k.width&&parseInt(k.width,10)}function c(i){var j=i.data("events");return j&&j.onSlide}function e(r,p){var u=this,q=p.css,w=f("<div><div/><a href='#'/></div>").data("rangeinput",u),k,v,l,y,m;r.before(w);var C=w.addClass(q.slider).find("a").addClass(q.handle),o=w.find("div").addClass(q.progress);f.each("min,max,step,value".split(","),function(F,E){var G=r.attr(E);if(parseFloat(G)){p[E]=parseFloat(G,10)}});var t=p.max-p.min,n=p.step=="any"?0:p.step,z=p.precision;if(z===undefined){z=n.toString().split(".");z=z.length===2?z[1].length:0}if(r.attr("type")=="range"){var s=r.clone().wrap("<div/>").parent().html(),A=f(s.replace(/type/i,"type=text data-orig-type"));A.val(p.value);r.replaceWith(A);r=A}r.addClass(q.input);var D=f(u).add(r),j=true;function i(F,E,J,H){if(J===undefined){J=E/y*t}else{if(H){J-=p.min}}if(n){J=Math.round(J/n)*n}if(E===undefined||n){E=J*y/t}if(isNaN(J)){return u}E=Math.max(0,Math.min(E,y));J=E/y*t;if(H||!k){J+=p.min}if(k){if(H){E=y-E}else{J=p.max-J}}J=b(J,z);var I=F.type=="click";if(j&&v!==undefined&&!I){F.type="onSlide";D.trigger(F,[J,E]);if(F.isDefaultPrevented()){return u}}var G=I?p.speed:0,K=I?function(){F.type="change";D.trigger(F,[J])}:null;if(k){C.animate({top:E},G,K);if(p.progress){o.animate({height:y-E+C.height()/2},G)}}else{C.animate({left:E},G,K);if(p.progress){o.animate({width:E+C.width()/2},G)}}v=J;m=E;r.val(J);return u}f.extend(u,{getValue:function(){return v},setValue:function(F,E){x();return i(E||f.Event("api"),undefined,F,true)},getConf:function(){return p},getProgress:function(){return o},getHandle:function(){return C},getInput:function(){return r},step:function(F,G){G=G||f.Event();var E=p.step=="any"?1:p.step;u.setValue(v+E*(F||1),G)},stepUp:function(E){return u.step(E||1)},stepDown:function(E){return u.step(-E||-1)}});f.each("onSlide,change".split(","),function(F,E){if(f.isFunction(p[E])){f(u).on(E,p[E])}u[E]=function(G){if(G){f(u).on(E,G)}return u}});C.drag({drag:false}).on("dragStart",function(){x();j=c(f(u))||c(r)}).on("drag",function(F,G,E){if(r.is(":disabled")){return false}i(F,k?G:E)}).on("dragEnd",function(E){if(!E.isDefaultPrevented()){E.type="change";D.trigger(E,[v])}}).click(function(E){return E.preventDefault()});w.click(function(F){if(r.is(":disabled")||F.target==C[0]){return F.preventDefault()}x();var E=k?C.height()/2:C.width()/2;i(F,k?y-l-E+F.pageY:F.pageX-l-E)});if(p.keyboard){r.keydown(function(G){if(r.attr("readonly")){return}var F=G.keyCode,E=f([75,76,38,33,39]).index(F)!=-1,H=f([74,72,40,34,37]).index(F)!=-1;if((E||H)&&!(G.shiftKey||G.altKey||G.ctrlKey)){if(E){u.step(F==33?10:1,G)}else{if(H){u.step(F==34?-10:-1,G)}}return G.preventDefault()}})}r.blur(function(E){var F=f(this).val();if(F!==v){u.setValue(F,E)}});f.extend(r[0],{stepUp:u.stepUp,stepDown:u.stepDown});function x(){k=p.vertical||g(w,"height")>g(w,"width");if(k){y=g(w,"height")-g(C,"height");l=w.offset().top+y}else{y=g(w,"width")-g(C,"width");l=w.offset().left}}function B(){x();u.setValue(p.value!==undefined?p.value:p.min)}B();if(!y){f(window).load(B)}}f.expr[":"].range=function(j){var i=j.getAttribute("type");return i&&i=="range"||!!f(j).filter("input").data("rangeinput")};f.fn.rangeinput=function(i){if(this.data("rangeinput")){return this}i=f.extend(true,{},d.conf,i);var j;this.each(function(){var l=new e(f(this),f.extend(true,{},i));var k=l.getInput().data("rangeinput",l);j=j?j.add(k):k});return j?j:this}})(jQuery);(function(b){b.tools=b.tools||{version:"@VERSION"};b.tools.scrollable={conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",size:1,speed:400,vertical:false,touch:true,wheelSpeed:0}};function d(i,g){var f=parseInt(i.css(g),10);if(f){return f}var h=i[0].currentStyle;return h&&h.width&&parseInt(h.width,10)}function e(f,h){var g=b(h);return g.length<2?g:f.parent().find(h)}var c;function a(q,o){var r=this,g=q.add(r),f=q.children(),m=0,i=o.vertical;if(!c){c=r}if(f.length>1){f=b(o.items,q)}if(o.size>1){o.circular=false}b.extend(r,{getConf:function(){return o},getIndex:function(){return m},getSize:function(){return r.getItems().size()},getNaviButtons:function(){return h.add(k)},getRoot:function(){return q},getItemWrap:function(){return f},getItems:function(){return f.find(o.item).not("."+o.clonedClass)},move:function(t,s){return r.seekTo(m+t,s)},next:function(s){return r.move(o.size,s)},prev:function(s){return r.move(-o.size,s)},begin:function(s){return r.seekTo(0,s)},end:function(s){return r.seekTo(r.getSize()-1,s)},focus:function(){c=r;return r},addItem:function(s){s=b(s);if(!o.circular){f.append(s);k.removeClass("disabled")}else{f.children().last().before(s);f.children().first().replaceWith(s.clone().addClass(o.clonedClass))}g.trigger("onAddItem",[s]);return r},seekTo:function(s,x,u){if(!s.jquery){s*=1}if(o.circular&&s===0&&m==-1&&x!==0){return r}if(!o.circular&&s<0||s>r.getSize()||s<-1){return r}var v=s;if(s.jquery){s=r.getItems().index(s)}else{v=r.getItems().eq(s)}var w=b.Event("onBeforeSeek");if(!u){g.trigger(w,[s,x]);if(w.isDefaultPrevented()||!v.length){return r}}var t=i?{top:-v.position().top}:{left:-v.position().left};m=s;c=r;if(x===undefined){x=o.speed}f.animate(t,x,o.easing,u||function(){g.trigger("onSeek",[s])});return r}});b.each(["onBeforeSeek","onSeek","onAddItem"],function(t,s){if(b.isFunction(o[s])){b(r).on(s,o[s])}r[s]=function(u){if(u){b(r).on(s,u)}return r}});if(o.circular){var n=r.getItems().slice(-1).clone().prependTo(f),l=r.getItems().eq(1).clone().appendTo(f);n.add(l).addClass(o.clonedClass);r.onBeforeSeek(function(u,s,t){if(u.isDefaultPrevented()){return}if(s==-1){r.seekTo(n,t,function(){r.end(0)});return u.preventDefault()}else{if(s==r.getSize()){r.seekTo(l,t,function(){r.begin(0)})}}});var p=q.parents().add(q).filter(function(){if(b(this).css("display")==="none"){return true}});if(p.length){p.show();r.seekTo(0,0,function(){});p.hide()}else{r.seekTo(0,0,function(){})}}var h=e(q,o.prev).click(function(s){s.stopPropagation();r.prev()}),k=e(q,o.next).click(function(s){s.stopPropagation();r.next()});if(!o.circular){r.onBeforeSeek(function(t,s){setTimeout(function(){if(!t.isDefaultPrevented()){h.toggleClass(o.disabledClass,s<=0);k.toggleClass(o.disabledClass,s>=r.getSize()-1)}},1)});if(!o.initialIndex){h.addClass(o.disabledClass)}}if(r.getSize()<2){h.add(k).addClass(o.disabledClass)}if(o.mousewheel&&b.fn.mousewheel){q.mousewheel(function(s,t){if(o.mousewheel){r.move(t<0?1:-1,o.wheelSpeed||50);return false}})}if(o.touch){var j={};f[0].ontouchstart=function(u){var s=u.touches[0];j.x=s.clientX;j.y=s.clientY};f[0].ontouchmove=function(w){if(w.touches.length==1&&!f.is(":animated")){var v=w.touches[0],u=j.x-v.clientX,s=j.y-v.clientY;r[i&&s>0||!i&&u>0?"next":"prev"]();w.preventDefault()}}}if(o.keyboard){b(document).on("keydown.scrollable",function(s){if(!o.keyboard||s.altKey||s.ctrlKey||s.metaKey||b(s.target).is(":input")){return}if(o.keyboard!="static"&&c!=r){return}var t=s.keyCode;if(i&&(t==38||t==40)){r.move(t==38?-1:1);return s.preventDefault()}if(!i&&(t==37||t==39)){r.move(t==37?-1:1);return s.preventDefault()}})}if(o.initialIndex){r.seekTo(o.initialIndex,0,function(){})}}b.fn.scrollable=function(f){var g=this.data("scrollable");if(g){return g}f=b.extend({},b.tools.scrollable.conf,f);this.each(function(){g=new a(b(this),f);b(this).data("scrollable",g)});return f.api?g:this}})(jQuery);(function(b){var a=b.tools.scrollable;a.autoscroll={conf:{autoplay:true,interval:3000,autopause:true}};b.fn.autoscroll=function(d){if(typeof d=="number"){d={interval:d}}var e=b.extend({},a.autoscroll.conf,d),c;this.each(function(){var h=b(this).data("scrollable"),g=h.getRoot(),j,i=false;function f(){if(j){clearTimeout(j)}j=setTimeout(function(){h.next()},e.interval)}if(h){c=h}h.play=function(){if(j){return}i=false;g.on("onSeek",f);f()};h.pause=function(){j=clearTimeout(j);g.off("onSeek",f)};h.resume=function(){i||h.play()};h.stop=function(){i=true;h.pause()};if(e.autopause){g.add(h.getNaviButtons()).hover(h.pause,h.resume)}if(e.autoplay){h.play()}});return e.api?c:this}})(jQuery);(function(b){var a=b.tools.scrollable;a.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};function c(d,f){var e=b(f);return e.length<2?e:d.parent().find(f)}b.fn.navigator=function(e){if(typeof e=="string"){e={navi:e}}e=b.extend({},a.navigator.conf,e);var d;this.each(function(){var g=b(this).data("scrollable"),j=e.navi.jquery?e.navi:c(g.getRoot(),e.navi),i=g.getNaviButtons(),m=e.activeClass,h=e.history&&!!history.pushState,n=g.getConf().size;if(g){d=g}g.getNaviButtons=function(){return i.add(j)};if(h){history.pushState({i:0},"");b(window).on("popstate",function(o){var p=o.originalEvent.state;if(p){g.seekTo(p.i)}})}function l(p,o,q){g.seekTo(o);q.preventDefault();if(h){history.pushState({i:o},"")}}function f(){return j.find(e.naviItem||"> *")}function k(o){var p=b("<"+(e.naviItem||"a")+"/>").click(function(q){l(b(this),o,q)});if(o===0){p.addClass(m)}if(e.indexed){p.text(o+1)}if(e.idPrefix){p.attr("id",e.idPrefix+o)}return p.appendTo(j)}if(f().length){f().each(function(o){b(this).click(function(p){l(b(this),o,p)})})}else{b.each(g.getItems(),function(o){if(o%n==0){k(o)}})}g.onBeforeSeek(function(p,o){setTimeout(function(){if(!p.isDefaultPrevented()){var q=o/n,r=f().eq(q);if(r.length){f().removeClass(m).eq(q).addClass(m)}}},1)});g.onAddItem(function(q,p){var o=g.getItems().index(p);if(o%n==0){k(o)}})});return e.api?d:this}})(jQuery);(function(e){e.tools=e.tools||{version:"@VERSION"};e.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:false,initialIndex:0,event:"click",rotate:false,slideUpSpeed:400,slideDownSpeed:400,history:false},addEffect:function(f,g){d[f]=g}};var d={"default":function(g,f){this.getPanes().hide().eq(g).show();f.call()},fade:function(h,f){var g=this.getConf(),k=g.fadeOutSpeed,j=this.getPanes();if(k){j.fadeOut(k)}else{j.hide()}j.eq(h).fadeIn(g.fadeInSpeed,f)},slide:function(h,f){var g=this.getConf();this.getPanes().slideUp(g.slideUpSpeed);this.getPanes().eq(h).slideDown(g.slideDownSpeed,f)},ajax:function(g,f){this.getPanes().eq(0).load(this.getTabs().eq(g).attr("href"),f)}};var c,b;e.tools.tabs.addEffect("horizontal",function(h,f){if(c){return}var g=this.getPanes().eq(h),j=this.getCurrentPane();b||(b=this.getPanes().eq(0).width());c=true;g.show();j.animate({width:0},{step:function(i){g.css("width",b-i)},complete:function(){e(this).hide();f.call();c=false}});if(!j.length){f.call();c=false}});function a(f,k,i){var g=this,h=f.add(this),j=f.find(i.tabs),l=k.jquery?k:f.children(k),m;if(!j.length){j=f.children()}if(!l.length){l=f.parent().find(k)}if(!l.length){l=e(k)}e.extend(this,{click:function(n,s){var p=j.eq(n),r=!f.data("tabs");if(typeof n=="string"&&n.replace("#","")){p=j.filter('[href*="'+n.replace("#","")+'"]');n=Math.max(j.index(p),0)}if(i.rotate){var q=j.length-1;if(n<0){return g.click(q,s)}if(n>q){return g.click(0,s)}}if(!p.length){if(m>=0){return g}n=i.initialIndex;p=j.eq(n)}if(n===m){return g}s=s||e.Event();s.type="onBeforeClick";h.trigger(s,[n]);if(s.isDefaultPrevented()){return}var o=r?i.initialEffect&&i.effect||"default":i.effect;d[o].call(g,n,function(){m=n;s.type="onClick";h.trigger(s,[n])});j.removeClass(i.current);p.addClass(i.current);return g},getConf:function(){return i},getTabs:function(){return j},getPanes:function(){return l},getCurrentPane:function(){return l.eq(m)},getCurrentTab:function(){return j.eq(m)},getIndex:function(){return m},next:function(){return g.click(m+1)},prev:function(){return g.click(m-1)},destroy:function(){j.off(i.event).removeClass(i.current);l.find('a[href^="#"]').off("click.T");return g}});e.each("onBeforeClick,onClick".split(","),function(o,n){if(e.isFunction(i[n])){e(g).on(n,i[n])}g[n]=function(p){if(p){e(g).on(n,p)}return g}});if(i.history&&e.fn.history){e.tools.history.init(j);i.event="history"}j.each(function(n){e(this).on(i.event,function(o){g.click(n,o);return o.preventDefault()})});l.find('a[href^="#"]').on("click.T",function(n){g.click(e(this).attr("href"),n)});if(location.hash&&i.tabs=="a"&&f.find('[href="'+location.hash+'"]').length){g.click(location.hash)}else{if(i.initialIndex===0||i.initialIndex>0){g.click(i.initialIndex)}}}e.fn.tabs=function(g,f){var h=this.data("tabs");if(h){h.destroy();this.removeData("tabs")}if(e.isFunction(f)){f={onBeforeClick:f}}f=e.extend({},e.tools.tabs.conf,f);this.each(function(){h=new a(e(this),g,f);e(this).data("tabs",h)});return f.api?h:this}})(jQuery);(function(c){var a;a=c.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:false,autopause:true,interval:3000,clickable:true,api:false}};function b(l,j){var o=this,f=l.add(this),k=l.data("tabs"),e,d=true;function i(q){var p=c(q);return p.length<2?p:l.parent().find(q)}var n=i(j.next).click(function(){k.next()});var m=i(j.prev).click(function(){k.prev()});function h(){e=setTimeout(function(){k.next()},j.interval)}c.extend(o,{getTabs:function(){return k},getConf:function(){return j},play:function(){if(e){return o}var p=c.Event("onBeforePlay");f.trigger(p);if(p.isDefaultPrevented()){return o}d=false;f.trigger("onPlay");f.on("onClick",h);h();return o},pause:function(){if(!e){return o}var p=c.Event("onBeforePause");f.trigger(p);if(p.isDefaultPrevented()){return o}e=clearTimeout(e);f.trigger("onPause");f.off("onClick",h);return o},resume:function(){d||o.play()},stop:function(){o.pause();d=true}});c.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(q,p){if(c.isFunction(j[p])){c(o).on(p,j[p])}o[p]=function(r){return c(o).on(p,r)}});if(j.autopause){k.getTabs().add(n).add(m).add(k.getPanes()).hover(o.pause,o.resume)}if(j.autoplay){o.play()}if(j.clickable){k.getPanes().click(function(){k.next()})}if(!k.getConf().rotate){var g=j.disabledClass;if(!k.getIndex()){m.addClass(g)}k.onBeforeClick(function(q,p){m.toggleClass(g,!p);n.toggleClass(g,p==k.getTabs().length-1)})}}c.fn.slideshow=function(d){var e=this.data("slideshow");if(e){return e}d=c.extend({},a.conf,d);this.each(function(){e=new b(c(this),d);c(this).data("slideshow",e)});return d.api?e:this}})(jQuery);(function(b){b.tools=b.tools||{version:"@VERSION"};var e;e=b.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};function f(){if(b.browser.msie){var k=b(document).height(),j=b(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,k-j<20?j:k]}return[b(document).width(),b(document).height()]}function h(j){if(j){return j.call(b.mask)}}var i,d,c,a,g;b.mask={load:function(j,l){if(c){return this}if(typeof j=="string"){j={color:j}}j=j||a;a=j=b.extend(b.extend({},e.conf),j);i=b("#"+j.maskId);if(!i.length){i=b("<div/>").attr("id",j.maskId);b("body").append(i)}var k=f();i.css({position:"absolute",top:0,left:0,width:k[0],height:k[1],display:"none",opacity:j.startOpacity,zIndex:j.zIndex});if(j.color){i.css("backgroundColor",j.color)}if(h(j.onBeforeLoad)===false){return this}if(j.closeOnEsc){b(document).on("keydown.mask",function(m){if(m.keyCode==27){b.mask.close(m)}})}if(j.closeOnClick){i.on("click.mask",function(m){b.mask.close(m)})}b(window).on("resize.mask",function(){b.mask.fit()});if(l&&l.length){g=l.eq(0).css("zIndex");b.each(l,function(){var m=b(this);if(!/relative|absolute|fixed/i.test(m.css("position"))){m.css("position","relative")}});d=l.css({zIndex:Math.max(j.zIndex+1,g=="auto"?0:g)})}i.css({display:"block"}).fadeTo(j.loadSpeed,j.opacity,function(){b.mask.fit();h(j.onLoad);c="full"});c=true;return this},close:function(){if(c){if(h(a.onBeforeClose)===false){return this}i.fadeOut(a.closeSpeed,function(){h(a.onClose);if(d){d.css({zIndex:g})}c=false});b(document).off("keydown.mask");i.off("click.mask");b(window).off("resize.mask")}return this},fit:function(){if(c){var j=f();i.css({width:j[0],height:j[1]})}},getMask:function(){return i},isLoaded:function(j){return j?c=="full":c},getConf:function(){return a},getExposed:function(){return d}};b.fn.mask=function(j){b.mask.load(j);return this};b.fn.expose=function(j){b.mask.load(j,this);return this}})(jQuery);(function(){var h=document.all,j="http://www.adobe.com/go/getflashplayer",c=typeof jQuery=="function",e=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,b={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};if(window.attachEvent){window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})}function i(m,l){if(l){for(var f in l){if(l.hasOwnProperty(f)){m[f]=l[f]}}}return m}function a(f,n){var m=[];for(var l in f){if(f.hasOwnProperty(l)){m[l]=n(f[l])}}return m}window.flashembed=function(f,m,l){if(typeof f=="string"){f=document.getElementById(f.replace("#",""))}if(!f){return}if(typeof m=="string"){m={src:m}}return new d(f,i(i({},b),m),l)};var g=i(window.flashembed,{conf:b,getVersion:function(){var m,f;try{f=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(o){try{m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");f=m&&m.GetVariable("$version")}catch(n){try{m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=m&&m.GetVariable("$version")}catch(l){}}}f=e.exec(f);return f?[f[1],f[3]]:[0,0]},asString:function(l){if(l===null||l===undefined){return null}var f=typeof l;if(f=="object"&&l.push){f="array"}switch(f){case"string":l=l.replace(new RegExp('(["\\\\])',"g"),"\\$1");l=l.replace(/^\s?(\d+\.?\d*)%/,"$1pct");return'"'+l+'"';case"array":return"["+a(l,function(o){return g.asString(o)}).join(",")+"]";case"function":return'"function()"';case"object":var m=[];for(var n in l){if(l.hasOwnProperty(n)){m.push('"'+n+'":'+g.asString(l[n]))}}return"{"+m.join(",")+"}"}return String(l).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(o,l){o=i({},o);var n='<object width="'+o.width+'" height="'+o.height+'" id="'+o.id+'" name="'+o.id+'"';if(o.cachebusting){o.src+=((o.src.indexOf("?")!=-1?"&":"?")+Math.random())}if(o.w3c||!h){n+=' data="'+o.src+'" type="application/x-shockwave-flash"'}else{n+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'}n+=">";if(o.w3c||h){n+='<param name="movie" value="'+o.src+'" />'}o.width=o.height=o.id=o.w3c=o.src=null;o.onFail=o.version=o.expressInstall=null;for(var m in o){if(o[m]){n+='<param name="'+m+'" value="'+o[m]+'" />'}}var p="";if(l){for(var f in l){if(l[f]){var q=l[f];p+=f+"="+encodeURIComponent(/function|object/.test(typeof q)?g.asString(q):q)+"&"}}p=p.slice(0,-1);n+='<param name="flashvars" value=\''+p+"' />"}n+="</object>";return n},isSupported:function(f){return k[0]>f[0]||k[0]==f[0]&&k[1]>=f[1]}});var k=g.getVersion();function d(f,n,m){if(g.isSupported(n.version)){f.innerHTML=g.getHTML(n,m)}else{if(n.expressInstall&&g.isSupported([6,65])){f.innerHTML=g.getHTML(i(n,{src:n.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title})}else{if(!f.innerHTML.replace(/\s/g,"")){f.innerHTML="<h2>Flash version "+n.version+" or greater is required</h2><h3>"+(k[0]>0?"Your version is "+k:"You have no flash plugin installed")+"</h3>"+(f.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+j+"'>here</a></p>");if(f.tagName=="A"){f.onclick=function(){location.href=j}}}if(n.onFail){var l=n.onFail.call(this);if(typeof l=="string"){f.innerHTML=l}}}}if(h){window[n.id]=document.getElementById(n.id)}i(this,{getRoot:function(){return f},getOptions:function(){return n},getConf:function(){return m},getApi:function(){return f.firstChild}})}if(c){jQuery.tools=jQuery.tools||{version:"@VERSION"};jQuery.tools.flashembed={conf:b};jQuery.fn.flashembed=function(l,f){return this.each(function(){jQuery(this).data("flashembed",flashembed(this,l,f))})}}})();(function(d){var f,c,b,a;d.tools=d.tools||{version:"@VERSION"};d.tools.history={init:function(g){if(a){return}if(d.browser.msie&&d.browser.version<"8"){if(!c){c=d("<iframe/>").attr("src","javascript:false;").hide().get(0);d("body").append(c);setInterval(function(){var i=c.contentWindow.document,j=i.location.hash;if(f!==j){d(window).trigger("hash",j)}},100);e(location.hash||"#")}}else{setInterval(function(){var i=location.hash;if(i!==f){d(window).trigger("hash",i)}},100)}b=!b?g:b.add(g);g.click(function(i){var h=d(this).attr("href");if(c){e(h)}if(h.slice(0,1)!="#"){location.href="#"+h;return i.preventDefault()}});a=true}};function e(g){if(g){var i=c.contentWindow.document;i.open().close();i.location.hash=g}}d(window).on("hash",function(i,g){if(g){b.filter(function(){var h=d(this).attr("href");return h==g||h==g.replace("#","")}).trigger("history",[g])}else{b.eq(0).trigger("history",[g])}f=g});d.fn.history=function(g){d.tools.history.init(this);return this.on("history",g)}})(jQuery);(function(a){a.fn.mousewheel=function(d){return this[d?"on":"trigger"]("wheel",d)};a.event.special.wheel={setup:function(){a.event.add(this,c,b,{})},teardown:function(){a.event.remove(this,c,b)}};var c=!a.browser.mozilla?"mousewheel":"DOMMouseScroll"+(a.browser.version<"1.9"?" mousemove":"");function b(d){switch(d.type){case"mousemove":return a.extend(d.data,{clientX:d.clientX,clientY:d.clientY,pageX:d.pageX,pageY:d.pageY});case"DOMMouseScroll":a.extend(d,d.data);if(d.originalEvent!==undefined){d.delta=-d.originalEvent.detail/3}else{d.delta=-d.detail/3}break;case"mousewheel":if(d.originalEvent instanceof WheelEvent){d.delta=d.originalEvent.wheelDelta/120}else{d.delta=d.wheelDelta/120}break}d.type="wheel";return a.event.handle.call(this,d,d.delta)}})(jQuery);(function(d){d.tools=d.tools||{version:"@VERSION"};d.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:false,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,g,f){c[e]=[g,f]}};var c={toggle:[function(e){var f=this.getConf(),g=this.getTip(),h=f.opacity;if(h<1){g.css({opacity:h})}g.show();e.call()},function(e){this.getTip().hide();e.call()}],fade:[function(e){var f=this.getConf();if(!d.browser.msie||f.fadeIE){this.getTip().fadeTo(f.fadeInSpeed,f.opacity,e)}else{this.getTip().show();e()}},function(e){var f=this.getConf();if(!d.browser.msie||f.fadeIE){this.getTip().fadeOut(f.fadeOutSpeed,e)}else{this.getTip().hide();e()}}]};function b(g,i,f){var k=f.relative?g.position().top:g.offset().top,j=f.relative?g.position().left:g.offset().left,l=f.position[0];k-=i.outerHeight()-f.offset[0];j+=g.outerWidth()+f.offset[1];if(/iPad/i.test(navigator.userAgent)){k-=d(window).scrollTop()}var e=i.outerHeight()+g.outerHeight();if(l=="center"){k+=e/2}if(l=="bottom"){k+=e}l=f.position[1];var h=i.outerWidth()+g.outerWidth();if(l=="center"){j-=h/2}if(l=="left"){j-=h}return{top:k,left:j}}function a(h,j){var r=this,g=h.add(r),o,f=0,q=0,m=h.attr("title"),i=h.attr("data-tooltip"),s=c[j.effect],n,l=h.is(":input"),e=l&&h.is(":checkbox, :radio, select, :button, :submit"),k=h.attr("type"),p=j.events[k]||j.events[l?(e?"widget":"input"):"def"];if(!s){throw'Nonexistent effect "'+j.effect+'"'}p=p.split(/,\s*/);if(p.length!=2){throw"Tooltip: bad events configuration for "+k}h.on(p[0],function(t){clearTimeout(f);if(j.predelay){q=setTimeout(function(){r.show(t)},j.predelay)}else{r.show(t)}}).on(p[1],function(t){clearTimeout(q);if(j.delay){f=setTimeout(function(){r.hide(t)},j.delay)}else{r.hide(t)}});if(m&&j.cancelDefault){h.removeAttr("title");h.data("title",m)}d.extend(r,{show:function(u){if(!o){if(i){o=d(i)}else{if(j.tip){o=d(j.tip).eq(0)}else{if(m){o=d(j.layout).addClass(j.tipClass).appendTo(document.body).hide().append(m)}else{o=h.next();if(!o.length){o=h.parent().next()}}}}if(!o.length){throw"Cannot find tooltip for "+h}}if(r.isShown()){return r}o.stop(true,true);var v=b(h,o,j);if(j.tip){o.html(h.data("title"))}u=d.Event();u.type="onBeforeShow";g.trigger(u,[v]);if(u.isDefaultPrevented()){return r}v=b(h,o,j);o.css({position:"absolute",top:v.top,left:v.left});n=true;s[0].call(r,function(){u.type="onShow";n="full";g.trigger(u)});var t=j.events.tooltip.split(/,\s*/);if(!o.data("__set")){o.off(t[0]).on(t[0],function(){clearTimeout(f);clearTimeout(q)});if(t[1]&&!h.is("input:not(:checkbox, :radio), textarea")){o.off(t[1]).on(t[1],function(w){if(w.relatedTarget!=h[0]){h.trigger(p[1].split(" ")[0])}})}if(!j.tip){o.data("__set",true)}}return r},hide:function(t){if(!o||!r.isShown()){return r}t=d.Event();t.type="onBeforeHide";g.trigger(t);if(t.isDefaultPrevented()){return}n=false;c[j.effect][1].call(r,function(){t.type="onHide";g.trigger(t)});return r},isShown:function(t){return t?n=="full":n},getConf:function(){return j},getTip:function(){return o},getTrigger:function(){return h}});d.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(u,t){if(d.isFunction(j[t])){d(r).on(t,j[t])}r[t]=function(v){if(v){d(r).on(t,v)}return r}})}d.fn.tooltip=function(e){var f=this.data("tooltip");if(f){return f}e=d.extend(true,{},d.tools.tooltip.conf,e);if(typeof e.position=="string"){e.position=e.position.split(/,?\s/)}this.each(function(){f=new a(d(this),e);d(this).data("tooltip",f)});return e.api?f:this}})(jQuery);(function(d){var c=d.tools.tooltip;c.dynamic={conf:{classNames:"top right bottom left"}};function b(h){var e=d(window);var g=e.width()+e.scrollLeft();var f=e.height()+e.scrollTop();return[h.offset().top<=e.scrollTop(),g<=h.offset().left+h.width(),f<=h.offset().top+h.height(),e.scrollLeft()>=h.offset().left]}function a(f){var e=f.length;while(e--){if(f[e]){return false}}return true}d.fn.dynamic=function(g){if(typeof g=="number"){g={speed:g}}g=d.extend({},c.dynamic.conf,g);var e=d.extend(true,{},g),f=g.classNames.split(/\s/),h;this.each(function(){var i=d(this).tooltip().onBeforeShow(function(n,o){var m=this.getTip(),l=this.getConf();if(!h){h=[l.position[0],l.position[1],l.offset[0],l.offset[1],d.extend({},l)]}d.extend(l,h[4]);l.position=[h[0],h[1]];l.offset=[h[2],h[3]];m.css({visibility:"hidden",position:"absolute",top:o.top,left:o.left}).show();var j=d.extend(true,{},e),k=b(m);if(!a(k)){if(k[2]){d.extend(l,j.top);l.position[0]="top";m.addClass(f[0])}if(k[3]){d.extend(l,j.right);l.position[1]="right";m.addClass(f[1])}if(k[0]){d.extend(l,j.bottom);l.position[0]="bottom";m.addClass(f[2])}if(k[1]){d.extend(l,j.left);l.position[1]="left";m.addClass(f[3])}if(k[0]||k[2]){l.offset[0]*=-1}if(k[1]||k[3]){l.offset[1]*=-1}}m.css({visibility:"visible"}).hide()});i.onBeforeShow(function(){var k=this.getConf(),j=this.getTip();setTimeout(function(){k.position=[h[0],h[1]];k.offset=[h[2],h[3]]},0)});i.onHide(function(){var j=this.getTip();j.removeClass(g.classNames)});ret=i});return g.api?ret:this}})(jQuery);(function(b){var a=b.tools.tooltip;b.extend(a.conf,{direction:"up",bounce:false,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!b.browser.msie});var c={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};a.addEffect("slide",function(d){var f=this.getConf(),g=this.getTip(),h=f.slideFade?{opacity:f.opacity}:{},e=c[f.direction]||c.up;h[e[1]]=e[0]+"="+f.slideOffset;if(f.slideFade){g.css({opacity:0})}g.show().animate(h,f.slideInSpeed,d)},function(e){var g=this.getConf(),i=g.slideOffset,h=g.slideFade?{opacity:0}:{},f=c[g.direction]||c.up;var d=""+f[0];if(g.bounce){d=d=="+"?"-":"+"}h[f[1]]=d+"="+i;this.getTip().animate(h,g.slideOutSpeed,function(){b(this).hide();e.call()})})})(jQuery);(function(f){f.tools=f.tools||{version:"@VERSION"};var j=/\[type=([a-z]+)\]/,h=/^-?[0-9]*(\.[0-9]+)?$/,c=f.tools.dateinput,a=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,g=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i,i;i=f.tools.validator={conf:{grouped:false,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:false,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(n,m){f.each(m,function(o,p){i.messages[o]=i.messages[o]||{};i.messages[o][n]=p})},localizeFn:function(m,n){i.messages[m]=i.messages[m]||{};f.extend(i.messages[m],n)},fn:function(n,o,m){if(f.isFunction(o)){m=o}else{if(typeof o=="string"){o={en:o}}this.messages[n.key||n]=o}var p=j.exec(n);if(p){n=e(p[1])}k.push([n,m])},addEffect:function(m,n,o){b[m]=[n,o]}};function l(o,n,q){n=f(n).first()||n;var t=o.offset().top,p=o.offset().left,r=q.position.split(/,?\s+/),s=r[0],u=r[1];t-=n.outerHeight()-q.offset[0];p+=o.outerWidth()+q.offset[1];if(/iPad/i.test(navigator.userAgent)){t-=f(window).scrollTop()}var v=n.outerHeight()+o.outerHeight();if(s=="center"){t+=v/2}if(s=="bottom"){t+=v}var m=o.outerWidth();if(u=="center"){p-=(m+n.outerWidth())/2}if(u=="left"){p-=m}return{top:t,left:p}}function e(n){function m(){return this.getAttribute("type")==n}m.key='[type="'+n+'"]';return m}var k=[],b={"default":[function(m){var n=this.getConf();f.each(m,function(p,q){var o=q.input;o.addClass(n.errorClass);var r=o.data("msg.el");if(!r){r=f(n.message).addClass(n.messageClass).appendTo(document.body);o.data("msg.el",r)}r.css({visibility:"hidden"}).find("p").remove();f.each(q.messages,function(u,t){f("<p/>").html(t).appendTo(r)});if(r.outerWidth()==r.parent().width()){r.add(r.find("p")).css({display:"inline"})}var s=l(o,r,n);r.css({visibility:"visible",position:"absolute",top:s.top,left:s.left}).fadeIn(n.speed)})},function(m){var n=this.getConf();m.removeClass(n.errorClass).each(function(){var o=f(this).data("msg.el");if(o){o.css({visibility:"hidden"})}})}]};f.each("email,url,number".split(","),function(n,m){f.expr[":"][m]=function(o){return o.getAttribute("type")===m}});f.fn.oninvalid=function(m){return this[m?"on":"trigger"]("OI",m)};i.fn(":email","Please enter a valid email address",function(n,m){return !m||a.test(m)});i.fn(":url","Please enter a valid URL",function(n,m){return !m||g.test(m)});i.fn(":number","Please enter a numeric value.",function(n,m){return h.test(m)});i.fn("[max]","Please enter a value no larger than $1",function(o,n){if(n===""||c&&o.is(":date")){return true}var m=o.attr("max");return parseFloat(n)<=parseFloat(m)?true:[m]});i.fn("[min]","Please enter a value of at least $1",function(o,m){if(m===""||c&&o.is(":date")){return true}var n=o.attr("min");return parseFloat(m)>=parseFloat(n)?true:[n]});i.fn("[required]","Please complete this mandatory field.",function(n,m){if(n.is(":checkbox")){return n.is(":checked")}return !!m});i.fn("[pattern]",function(n,m){return m===""||new RegExp("^"+n.attr("pattern")+"$").test(m)});i.fn(":radio","Please select an option.",function(n){var o=false;var m=f("[name='"+n.attr("name")+"']").each(function(p,q){if(f(q).is(":checked")){o=true}});return(o)?true:false});function d(m,r,p){var o=this,q=r.add(o);m=m.not(":button, :image, :reset, :submit");r.attr("novalidate","novalidate");function n(w,u,s){if(!p.grouped&&w.length){return}var v;if(s===false||f.isArray(s)){v=i.messages[u.key||u]||i.messages["*"];v=v[p.lang]||i.messages["*"].en;var t=v.match(/\$\d/g);if(t&&f.isArray(s)){f.each(t,function(x){v=v.replace(this,s[x])})}}else{v=s[p.lang]||s}w.push(v)}f.extend(o,{getConf:function(){return p},getForm:function(){return r},getInputs:function(){return m},reflow:function(){m.each(function(){var s=f(this),t=s.data("msg.el");if(t){var u=l(s,t,p);t.css({top:u.top,left:u.left})}});return o},invalidate:function(s,t){if(!t){var u=[];f.each(s,function(w,x){var v=m.filter("[name='"+w+"']");if(v.length){v.trigger("OI",[x]);u.push({input:v,messages:[x]})}});s=u;t=f.Event()}t.type="onFail";q.trigger(t,[s]);if(!t.isDefaultPrevented()){b[p.effect][0].call(o,s,t)}return o},reset:function(s){s=s||m;s.removeClass(p.errorClass).each(function(){var t=f(this).data("msg.el");if(t){t.remove();f(this).data("msg.el",null)}}).off(p.errorInputEvent+".v"||"");return o},destroy:function(){r.off(p.formEvent+".V reset.V");m.off(p.inputEvent+".V change.V");return o.reset()},checkValidity:function(t,w){t=t||m;t=t.not(":disabled");var v={};t=t.filter(function(){var x=f(this).attr("name");if(!v[x]){v[x]=true;return f(this)}});if(!t.length){return true}w=w||f.Event();w.type="onBeforeValidate";q.trigger(w,[t]);if(w.isDefaultPrevented()){return w.result}var s=[];t.each(function(){var z=[],x=f(this).data("messages",z),y=c&&x.is(":date")?"onHide.v":p.errorInputEvent+".v";x.off(y);f.each(k,function(){var C=this,A=C[0];if(x.filter(A).length){var B=C[1].call(o,x,x.val());if(B!==true){w.type="onBeforeFail";q.trigger(w,[x,A]);if(w.isDefaultPrevented()){return false}var D=x.attr(p.messageAttr);if(D){z=[D];return false}else{n(z,A,B)}}}});if(z.length){s.push({input:x,messages:z});x.trigger("OI",[z]);if(p.errorInputEvent){x.on(y,function(A){o.checkValidity(x,A)})}}if(p.singleError&&s.length){return false}});var u=b[p.effect];if(!u){throw'Validator: cannot find effect "'+p.effect+'"'}if(s.length){o.invalidate(s,w);return false}else{u[1].call(o,t,w);w.type="onSuccess";q.trigger(w,[t]);t.off(p.errorInputEvent+".v")}return true}});f.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(t,s){if(f.isFunction(p[s])){f(o).on(s,p[s])}o[s]=function(u){if(u){f(o).on(s,u)}return o}});if(p.formEvent){r.on(p.formEvent+".V",function(s){if(!o.checkValidity(null,s)){return s.preventDefault()}s.target=r;s.type=p.formEvent})}r.on("reset.V",function(){o.reset()});if(m[0]&&m[0].validity){m.each(function(){this.oninvalid=function(){return false}})}if(r[0]){r[0].checkValidity=o.checkValidity}if(p.inputEvent){m.on(p.inputEvent+".V",function(s){o.checkValidity(f(this),s)})}m.filter(":checkbox, select").filter("[required]").on("change.V",function(t){var s=f(this);if(this.checked||(s.is("select")&&f(this).val())){b[p.effect][1].call(o,s,t)}});m.filter(":radio[required]").on("change.V",function(t){var s=f("[name='"+f(t.srcElement).attr("name")+"']");if((s!=null)&&(s.length!=0)){o.checkValidity(s,t)}});f(window).resize(function(){o.reflow()})}f.fn.validator=function(n){var m=this.data("validator");if(m){m.destroy();this.removeData("validator")}n=f.extend(true,{},i.conf,n);if(this.is("form")){return this.each(function(){var o=f(this);m=new d(o.find(":input"),o,n);o.data("validator",m)})}else{m=new d(this,this.eq(0).closest("form"),n);return this.data("validator",m)}}})(jQuery);