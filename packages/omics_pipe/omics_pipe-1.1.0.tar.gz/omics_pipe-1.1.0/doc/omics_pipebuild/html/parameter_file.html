


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Omics Pipe Tutorial – Configuring the Parameter File &mdash; Omics Pipe v1.0.16 Documentation</title>
    
    <link rel="stylesheet" href="_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.16',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="_static/cloud.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="Omics Pipe v1.0.16 Documentation" href="index.html" />
    <link rel="next" title="Omics Pipe Tutorial – Creating a Custom Pipeline Script" href="custom_pipelines.html" />
    <link rel="prev" title="Omics Pipe Tutorial – Installation" href="tutorial.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="custom_pipelines.html" title="Omics Pipe Tutorial – Creating a Custom Pipeline Script"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="tutorial.html" title="Omics Pipe Tutorial – Installation"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="contents.html">Omics Pipe 1.0.16 Documentation</a> &raquo;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="omics-pipe-tutorial-configuring-the-parameter-file">
<span id="index-0"></span><h1>Omics Pipe Tutorial &#8211; Configuring the Parameter File<a class="headerlink" href="#omics-pipe-tutorial-configuring-the-parameter-file" title="Permalink to this headline">¶</a></h1>
<p>Before running Omics Pipe, you must configure the parameters file,
which is a <a class="reference external" href="http://www.yaml.org/">YAML</a> document.  Example parameters files are located within
the omics_pipe/test folder for each pipeline.  Copy one of these
parameters files into your working directory, and edit the parameters to
work with your sample names, directory structure, software options and software versions.
Make sure to keep the formatting and parameter names exactly the same
as in the example parameters files.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure to follow the YAML format exactly. Ensure that there is only one space after each colon.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For parameters in quotes in the test parameters file, please make sure to keep them in quotes in your custom parameter file.</p>
</div>
<p>The STEP parameter should be the function name of the last step in the pipeline
that you want to run (e.g. run_tophat). To run the pre-installed pipelines all the
way through, this should be “last_function.”</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not change the STEPS or STEPS_DE parameters for a pre-installed pipeline.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Fastq files: paired end: 2 files, “Name_1.fastq” and “Name_2.fastq” representing read 1 and read 2.
Have all fastq files in same raw data folder</p>
</div>
<div class="section" id="example-omics-pipe-parameter-file">
<h2>Example Omics Pipe Parameter File<a class="headerlink" href="#example-omics-pipe-parameter-file" title="Permalink to this headline">¶</a></h2>
<p>test_params.yaml in omics_pipe/tests:</p>
<div class="highlight-python"><pre>SAMPLE_LIST: [test1, test2, test3]

STEP: last_function

STEPS: [fastqc, star, htseq, last_function]

RAW_DATA_DIR: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests

FLAG_PATH: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/flags

HTSEQ_RESULTS: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/counts

LOG_PATH: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/logs

QC_PATH: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run

RESULTS_PATH: /gpfs/home/kfisch/test

STAR_RESULTS: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/star

WORKING_DIR: /gpfs/home/kfisch/scripts/omics_pipeline-devel/omics_pipe/scripts

REPORT_RESULTS: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run

ENDS: SE

FASTQC_VERSION: '0.10.1'

GENOME: /gpfs/group/databases/Homo_sapiens/UCSC/hg19/Sequence/WholeGenomeFasta/genome.fa

HTSEQ_OPTIONS: -m intersection-nonempty -s no -t exon

PIPE_MULTIPROCESS: 100

PIPE_REBUILD: 'True'

PIPE_VERBOSE: 5

REF_GENES: /gpfs/group/databases/Homo_sapiens/UCSC/hg19/Annotation/Genes/genes.gtf

RESULTS_EMAIL: kfisch@scripps.edu

STAR_INDEX: /gpfs/group/databases/Homo_sapiens/UCSC/hg19/star_genome

STAR_OPTIONS: --readFilesCommand cat --runThreadN 8 --outSAMstrandField intronMotif --outFilterIntronMotifs RemoveNoncanonical

STAR_VERSION: '2.3.0'

TEMP_DIR: /scratch/kfisch

QUEUE: workq

USERNAME: kfisch

DRMAA_PATH: /opt/applications/pbs-drmaa/current/gnu/lib/libdrmaa.so

DPS_VERSION: '1.3.1111'

BAM_FILE_NAME: Aligned.out.bam

PARAMS_FILE: '/gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_params_RNAseq_counts.yaml'

DESEQ_META: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/counts_meta.csv

DESIGN: '~ condition'

PVAL: '0.05'

DESEQ_RESULTS: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/DESEQ

SUMATRA_DB_PATH: /gpfs/home/kfisch/sumatra

SUMATRA_RUN_NAME: test_counts_sumatra_project

REPOSITORY: https://kfisch@bitbucket.org/sulab/omics_pipe

HG_USERNAME: Kathleen Fisch &lt;kfisch@scripps.edu&gt;</pre>
</div>
</div>
<div class="section" id="explanation-of-variables-in-omics-pipe-parameter-file">
<h2>Explanation of Variables in Omics Pipe Parameter File<a class="headerlink" href="#explanation-of-variables-in-omics-pipe-parameter-file" title="Permalink to this headline">¶</a></h2>
<p>These parameters are for the RNAseq Count Based Pipeline. Parameters vary by pipeline. See examples in the tests/ folder.</p>
<p>test_params.yaml in omics_pipe/tests:</p>
<div class="highlight-python"><pre>#sample names ie “Name” for paired and single end reads. So, “Name” for paired-end would expect two fastq files named “Name_1. Fastq” and Name_2.fastq”
SAMPLE_LIST: [test1, test2, test3]

#Function to be run within pipeline. If you want to run the whole pipeline, leave this as last_function
STEP: last_function

#All steps within the pipeline. Do not change this parameter for pre-installed pipelines. If you create your own pipeline, you will need to modify this by listing all of the steps in your pipeline.
STEPS: [fastqc, star, htseq, last_function]

#Directory where your raw .fastq files are located.
RAW_DATA_DIR: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests

#Directory where you would like to have the flag files created. Flag files are empty files that indicate if a step in the pipeline has completed successfully.
FLAG_PATH: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/flags

#Directory for HTSEQ results
HTSEQ_RESULTS: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/counts

#Directory where log files will be written
LOG_PATH: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/logs

#Directory for QC results
QC_PATH: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run

#Upper level results directory. Sumatra will check all subfolders of this directory for new files to add to the run tracking database.
RESULTS_PATH: /gpfs/home/kfisch/test

#Directory where STAR results will be written
STAR_RESULTS: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/star

#Where omics_pipe is installed, this path will be pointing to ~/omics_pipe/scripts.
WORKING_DIR: /gpfs/home/kfisch/scripts/omics_pipeline-devel/omics_pipe/scripts

#Directory for the summary report
REPORT_RESULTS: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run

#SE is single end, PE is paired-end sequencing reads
ENDS: SE

#Version number of FASTQC
FASTQC_VERSION: '0.10.1'

#Full path to Genome fasta file
GENOME: /gpfs/group/databases/Homo_sapiens/UCSC/hg19/Sequence/WholeGenomeFasta/genome.fa

#Options for HTSEQ
HTSEQ_OPTIONS: -m intersection-nonempty -s no -t exon

#Number of multiple processes you want Ruffus to spawn at once
PIPE_MULTIPROCESS: 100

#Ruffus parameter. No need to change.
PIPE_REBUILD: 'True'

#Ruffus parameter. No need to change.
PIPE_VERBOSE: 5

#Full path to reference gene annotations
REF_GENES: /gpfs/group/databases/Homo_sapiens/UCSC/hg19/Annotation/Genes/genes.gtf

#Your email.
RESULTS_EMAIL: kfisch@scripps.edu

#Directory pointing to STAR_INDEX (you may have to create this)
STAR_INDEX: /gpfs/group/databases/Homo_sapiens/UCSC/hg19/star_genome

#Options for STAR
STAR_OPTIONS: --readFilesCommand cat --runThreadN 8 --outSAMstrandField intronMotif --outFilterIntronMotifs RemoveNoncanonical

#Version number of STAR
STAR_VERSION: '2.3.0'

#Path to temporary directory
TEMP_DIR: /scratch/kfisch

#Name of the queue on your local cluster you wish to use
QUEUE: workq

#Username for local cluster
USERNAME: kfisch

#Path to your local cluster installation of DRMAA (ask your sys admin for this)
DRMAA_PATH: /opt/applications/pbs-drmaa/current/gnu/lib/libdrmaa.so

#Version number of Drug Pair Seeker
DPS_VERSION: '1.3.1111'

#Name of create Bam file. Will be Aligned.out.bam if you are using STAR and accepted_hits.bam if you are using TopHat
BAM_FILE_NAME: Aligned.out.bam

#Full path to your parameter file. Make sure to include the single quotes.
PARAMS_FILE: '/gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_params_RNAseq_counts.yaml'

#Location of the meta data csv file for DESEQ. See tests/counts_meta.csv for an example.
DESEQ_META: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/counts_meta.csv

#Design for DESEQ differential expression. Leave as is if you use the exact design as in the counts_meta.csv file.
DESIGN: '~ condition'

#P-value threshold
PVAL: '0.05'

#Directory for DESEQ results
DESEQ_RESULTS: /gpfs/home/kfisch/scripts/omics_pipeline-devel/tests/test_run/DESEQ

#Directory where you want to store your Sumatra database. Once you run this once, you do not have to change this.
SUMATRA_DB_PATH: /gpfs/home/kfisch/sumatra

#Name of your project. You do not need to change this for subsequent runs of the pipeline, but you can if you wish.
SUMATRA_RUN_NAME: test_counts_sumatra_project

#Location of omics pipe repository (you can leave this)
REPOSITORY: https://kfisch@bitbucket.org/sulab/omics_pipe

#Your Mercurial username
HG_USERNAME: Kathleen Fisch &lt;kfisch@scripps.edu&gt;</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="contents.html" title="contents">
          <img class="logo" src="_static/logo.jpg" alt="Logo"/>
        </a></p><div class="sphinxlocaltoc">
    <h3><a href="contents.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Omics Pipe Tutorial &#8211; Configuring the Parameter File</a><ul>
<li><a class="reference internal" href="#example-omics-pipe-parameter-file">Example Omics Pipe Parameter File</a></li>
<li><a class="reference internal" href="#explanation-of-variables-in-omics-pipe-parameter-file">Explanation of Variables in Omics Pipe Parameter File</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="tutorial.html"
                          title="Previous page">&larr; Omics Pipe Tutorial &#8211;  Installation</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="custom_pipelines.html"
                          title="Next page">&rarr; Omics Pipe Tutorial &#8211; Creating a Custom Pipeline Script</a></p>
  </div>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/parameter_file.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="custom_pipelines.html" title="Omics Pipe Tutorial – Creating a Custom Pipeline Script"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="tutorial.html" title="Omics Pipe Tutorial – Installation"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="contents.html">Omics Pipe 1.0.16 Documentation</a> &raquo;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; <a href="copyright.html">Copyright</a> 2014, Kathleen Fisch, Ph.D..
      Last updated on Jul 09, 2014.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>