<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Usage &mdash; cdl_convert 0.6 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cdl_convert 0.6 documentation" href="index.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="cdl_convert" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="cdl_convert"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">cdl_convert 0.6 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>Most likely you&#8217;ll use <tt class="docutils literal"><span class="pre">cdl_convert</span></tt> as a script, instead of a python package
itself. Indeed, even the name is formatted more like a script (with an
underscore) than the more common all lowercase of python modules.</p>
<div class="section" id="script-usage">
<h2>Script Usage<a class="headerlink" href="#script-usage" title="Permalink to this headline">¶</a></h2>
<p>If you just want to convert to a <tt class="docutils literal"><span class="pre">.cc</span></tt> XML file, the only required argument
is an input file, like so:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cdl_convert ./di_v001.flex
</pre></div>
</div>
<p>You can override the default <tt class="docutils literal"><span class="pre">.cc</span></tt> output, or provide multiple outputs with
the <tt class="docutils literal"><span class="pre">-o</span></tt> flag.</p>
<div class="highlight-python"><div class="highlight"><pre>$ cdl_convert ./di_v001.flex -o cc,cdl
</pre></div>
</div>
<p>Sometimes it might be necessary to disable cdl_convert&#8217;s auto-detection of the
input file format. This can be done with the <tt class="docutils literal"><span class="pre">-i</span></tt> flag.</p>
<div class="highlight-python"><div class="highlight"><pre>$ cdl_convert ./ca102_x34.cdl -i cdl
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should not normally need to do this, but it is possible especially since
there are multiple formats sharing the same file extension. In this case,
<tt class="docutils literal"><span class="pre">.cdl</span></tt> could have indicated either a space separated cdl, or an XML
cdl. <tt class="docutils literal"><span class="pre">cdl_convert</span></tt> does it&#8217;s best to try and guess which one the file is,
but if you&#8217;re running into trouble, it might help to indicate to
<tt class="docutils literal"><span class="pre">cdl_convert</span></tt> what the input file type is.</p>
</div>
<p>Full help is available using the standard <tt class="docutils literal"><span class="pre">--help</span></tt> command:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cdl_convert --help
usage: cdl_convert [-h] [-i INPUT] [-o OUTPUT] input_file

positional arguments:
  input_file            the file to be converted

optional arguments:
  -h, --help            show this help message and exit
  -i INPUT, --input INPUT
                        specify the filetype to convert from. Use when
                        CDLConvert cannot determine the filetype
                        automatically. Supported input formats are: [&#39;cc&#39;,
                        &#39;cdl&#39;, &#39;ale&#39;, &#39;flex&#39;]
  -o OUTPUT, --output OUTPUT
                        specify the filetype to convert to, comma separated
                        lists are accepted. Defaults to a .cc XML. Supported
                        output formats are: [&#39;cc&#39;, &#39;cdl&#39;]
</pre></div>
</div>
</div>
<div class="section" id="python-usage">
<h2>Python Usage<a class="headerlink" href="#python-usage" title="Permalink to this headline">¶</a></h2>
<p>Once installed with pip, importing <tt class="docutils literal"><span class="pre">cdl_convert</span></tt> works like importing any
other python module.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cdl_convert</span> <span class="kn">as</span> <span class="nn">cdl</span>
</pre></div>
</div>
<div class="section" id="creating-an-colorcorrection">
<h3>Creating an <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt><a class="headerlink" href="#creating-an-colorcorrection" title="Permalink to this headline">¶</a></h3>
<p>Once imported, you have two choices. You can either instantiate a new, blank
cdl directly, or you can parse a file on disk.</p>
<div class="section" id="direct-creation">
<h4>Direct Creation<a class="headerlink" href="#direct-creation" title="Permalink to this headline">¶</a></h4>
<p>If you want to create a new instance of <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt>, you have to
provide an <tt class="docutils literal"><span class="pre">id</span></tt>, for the unique cdl identifier and a source filename to
<tt class="docutils literal"><span class="pre">cdl_file</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span> <span class="o">=</span> <span class="n">cdl</span><span class="o">.</span><span class="n">ColorCorrection</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;cc1&#39;</span><span class="p">,</span> <span class="n">cdl_file</span><span class="o">=</span><span class="s">&#39;./myfirstcdl.cc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When an instance of <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> is first created, the <tt class="docutils literal"><span class="pre">id</span></tt>
provided is checked against a class level dictionary variable named
<tt class="docutils literal"><span class="pre">members</span></tt> to ensure that no two <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> share the same
<tt class="docutils literal"><span class="pre">id</span></tt> , as this is required by the specification.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It&#8217;s not possible to change the <tt class="docutils literal"><span class="pre">file_in</span></tt> attribute once it has been set.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><tt class="docutils literal"><span class="pre">cdl_file</span></tt> is likely to not be a required attribute in the future.</p>
</div>
<p>An <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> is created with the 10 required values (RGB values
for slope, offset and power, and a single float for saturation) set to their
defaults.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">slope</span>
<span class="go">(1.0, 1.0, 1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">offset</span>
<span class="go">(0.0, 0.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">power</span>
<span class="go">(1.0, 1.0, 1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">slope</span></tt>, <tt class="docutils literal"><span class="pre">offset</span></tt>, <tt class="docutils literal"><span class="pre">power</span></tt> and <tt class="docutils literal"><span class="pre">sat</span></tt> are convenience properties that
actually reference two child objects of <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> , a
<tt class="xref py py-class docutils literal"><span class="pre">SopNode</span></tt> and a <tt class="xref py py-class docutils literal"><span class="pre">SatNode</span></tt> . Calling them via <tt class="docutils literal"><span class="pre">cc.power</span></tt>
is the same as calling <tt class="docutils literal"><span class="pre">cc.sop_node.power</span></tt>.</p>
</div>
<p>The <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> class inherits from both the
<tt class="xref py py-class docutils literal"><span class="pre">AscColorSpaceBase</span></tt> class, and the <tt class="xref py py-class docutils literal"><span class="pre">AscDescBase</span></tt> class, giving it
the additional attributes of <tt class="docutils literal"><span class="pre">input_desc</span></tt> (to describe the colorspace entering
the correction, <tt class="docutils literal"><span class="pre">viewing_desc</span></tt> (to describe the colorspace conversions that
must occur for viewing, and what type of monitor was used), and <tt class="docutils literal"><span class="pre">desc</span></tt> (which
can be an infinitely long list of shot descriptions, gripes, notes and
ramblings).</p>
</div>
<div class="section" id="parsing-a-cdl-file">
<h4>Parsing a CDL file<a class="headerlink" href="#parsing-a-cdl-file" title="Permalink to this headline">¶</a></h4>
<p>Instead of creating a blank CDL object, you can parse a file from disk, and it
will return a list of <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> found in the file. For some
formats like <tt class="docutils literal"><span class="pre">cc</span></tt>, this list will be one member long. For others like
<tt class="docutils literal"><span class="pre">flex</span></tt> or <tt class="docutils literal"><span class="pre">ale</span></tt>, this list could contain hundreds of cdls.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cdl</span><span class="o">.</span><span class="n">parse_cc</span><span class="p">(</span><span class="s">&#39;./myfirstcdl.cc&#39;</span><span class="p">)</span>
<span class="go">[&lt;cdl_convert.ColorCorrection object at 0x1004a5590&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cdl</span><span class="o">.</span><span class="n">parse_ale</span><span class="p">(</span><span class="s">&#39;/myfirstedl.ale&#39;</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    &lt;cdl_convert.ColorCorrection object at 0x100633b90&gt;,</span>
<span class="go">    &lt;cdl_convert.ColorCorrection object at 0x100633c50&gt;,</span>
<span class="go">    &lt;cdl_convert.ColorCorrection object at 0x100633cd0&gt;,</span>
<span class="go">    &lt;cdl_convert.ColorCorrection object at 0x100633b50&gt;,</span>
<span class="go">    &lt;cdl_convert.ColorCorrection object at 0x100633d90&gt;,</span>
<span class="go">    &lt;cdl_convert.ColorCorrection object at 0x100633b10&gt;,</span>
<span class="go">    &lt;cdl_convert.ColorCorrection object at 0x100633ad0&gt;,</span>
<span class="go">]</span>
</pre></div>
</div>
<p>Once you have an <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> from a parser, you&#8217;ll find that
whatever values it found on the file now exist on the instance of
<tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span> <span class="o">=</span> <span class="n">cdl</span><span class="o">.</span><span class="n">parse_cc</span><span class="p">(</span><span class="s">&#39;./xf/015.cc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">slope</span>
<span class="go">(1.02401, 1.00804, 0.89562)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">offset</span>
<span class="go">(-0.00864, -0.00261, 0.03612)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">power</span>
<span class="go">(1.0, 1.0, 1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span>
<span class="go">1.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">id</span>
<span class="go">&#39;015_xf_seqGrade_v01&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">file_in</span>
<span class="go">&#39;/Users/sean/cdls/xf/015.cc&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When parsing, the <tt class="docutils literal"><span class="pre">id</span></tt> attribute is set in a variety of ways depending
on how much information is available. Some formats, like <tt class="docutils literal"><span class="pre">cc</span></tt>, have an
explicitly tagged <tt class="docutils literal"><span class="pre">id</span></tt> field that is always used. Other formats, like
<tt class="docutils literal"><span class="pre">flex</span></tt>, have no such field and the parser tries to grab any scene/take
metadata it can find to construct one. The last fallback is always the
filename. For formats that can export multiple <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> ,
the <tt class="docutils literal"><span class="pre">id</span></tt> has a created instance number after it.</p>
</div>
</div>
</div>
<div class="section" id="working-with-colorcorrection">
<h3>Working with <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt><a class="headerlink" href="#working-with-colorcorrection" title="Permalink to this headline">¶</a></h3>
<div class="section" id="slope-offset-and-power">
<h4>Slope, Offset and Power<a class="headerlink" href="#slope-offset-and-power" title="Permalink to this headline">¶</a></h4>
<p>Setting the CDL slope, offset and power (SOP) values is as easy as passing them
any list or tuple with three values. Integers and strings will be automatically
converted to floats, while slope and power will also truncate at zero.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">slope</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;1.234&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">273891.37823</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">slope</span>
<span class="go">(1.234, 5.0, 273891.37823)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.0013</span><span class="p">,</span> <span class="mf">0.097</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">offset</span>
<span class="go">(-0.0013, 0.097, 0.001)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">power</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">power</span>
<span class="go">(0.0, 1.0, 1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">power</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.01</span><span class="p">,</span> <span class="mf">1.007</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;cdl_convert/cdl_convert.py&quot;</span>, line <span class="m">336</span>, in <span class="n">power</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Power must be set with all three RGB values&quot;</span><span class="p">)</span>
<span class="gr">ValueError</span>: <span class="n">Power must be set with all three RGB values</span>
</pre></div>
</div>
<p>It&#8217;s also possible to set the SOP values with a single value, and have it
copy itself across all three colors. Setting SOP values this way mimics how
color corrections typically start out.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">slope</span> <span class="o">=</span> <span class="mf">1.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">slope</span>
<span class="go">(1.2, 1.2, 1.2)</span>
</pre></div>
</div>
</div>
<div class="section" id="saturation">
<h4>Saturation<a class="headerlink" href="#saturation" title="Permalink to this headline">¶</a></h4>
<p>Saturation is a positive float values, and the same checks and conversions
that we do on SOP values happen for saturation as well.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span> <span class="o">=</span> <span class="mf">1.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span>
<span class="go">1.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span> <span class="o">=</span> <span class="s">&#39;1.2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span>
<span class="go">1.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sat</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>If it&#8217;s desired to have negative values raise an exception instead of
truncating to zero, set the global module variable <tt class="docutils literal"><span class="pre">HALT_ON_ERROR</span></tt> to be
<tt class="docutils literal"><span class="pre">True</span></tt>.</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cdl</span><span class="o">.</span><span class="n">HALT_ON_ERROR</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">power</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;cdl_convert/cdl_convert.py&quot;</span>, line <span class="m">352</span>, in <span class="n">power</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Power values must not be negative&quot;</span><span class="p">)</span>
<span class="gr">ValueError</span>: <span class="n">Power values must not be negative</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>Certain formats of the cdl will contain multiple description entries. Each
description entry is added to the <tt class="docutils literal"><span class="pre">desc</span></tt> attribute, which returns a list of
the entries.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">desc</span>
<span class="go">[&#39;John enters the room&#39;, &#39;5.6 ISO 800&#39;, &#39;bad take&#39;]</span>
</pre></div>
</div>
<p>You can append to list by setting the description field like normal.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="s">&#39;final cc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">desc</span>
<span class="go">[&#39;John enters the room&#39;, &#39;5.6 ISO 800&#39;, &#39;bad take&#39;, &#39;final cc]</span>
</pre></div>
</div>
<p>Setting the value to a new list or tuple will replace the list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">desc</span>
<span class="go">[&#39;John enters the room&#39;, &#39;5.6 ISO 800&#39;, &#39;bad take&#39;, &#39;final cc]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;first comment&#39;</span><span class="p">,</span> <span class="s">&#39;second comment&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">desc</span>
<span class="go">[&#39;first comment&#39;, &#39;second comment&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="id-and-files">
<h4>Id and Files<a class="headerlink" href="#id-and-files" title="Permalink to this headline">¶</a></h4>
<p>When creating a <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt>, the <tt class="docutils literal"><span class="pre">id</span></tt> field is checked against a
global list of <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> ids, and creation fails if the <tt class="docutils literal"><span class="pre">id</span></tt>
is not unique.</p>
<p>You can change the id after creation, but it will perform the same check.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span> <span class="o">=</span> <span class="n">cdl</span><span class="o">.</span><span class="n">ColorCorrection</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;cc1&#39;</span><span class="p">,</span> <span class="n">cdl_file</span><span class="o">=</span><span class="s">&#39;./myfirstcdl.cc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc2</span> <span class="o">=</span> <span class="n">cdl</span><span class="o">.</span><span class="n">ColorCorrection</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;cc2&#39;</span><span class="p">,</span> <span class="n">cdl_file</span><span class="o">=</span><span class="s">&#39;./mysecondcdl.cc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">id</span>
<span class="go">Out[6]: &#39;cc1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc2</span><span class="o">.</span><span class="n">id</span>
<span class="go">Out[7]: &#39;cc2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc2</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s">&#39;cc1&#39;</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;ipython-input-8-b2b5487dbc63&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
    <span class="n">cc2</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s">&#39;cc1&#39;</span>
  File <span class="nb">&quot;cdl_convert/cdl_convert.py&quot;</span>, line <span class="m">362</span>, in <span class="n">id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_id</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
  File <span class="nb">&quot;cdl_convert/cdl_convert.py&quot;</span>, line <span class="m">430</span>, in <span class="n">_set_id</span>
    <span class="n">cc_id</span><span class="o">=</span><span class="n">cc_id</span>
<span class="gr">ValueError</span>: <span class="n">Error setting the id to &quot;cc1&quot;. This id is already a registered id.</span>
</pre></div>
</div>
<p>At the current time, filepaths cannot be changed after
<tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> instantiation. <tt class="docutils literal"><span class="pre">file_out</span></tt> is determined by using
the class method <tt class="docutils literal"><span class="pre">determine_dest</span></tt>, which takes the <tt class="docutils literal"><span class="pre">file_in</span></tt> directory,
the <tt class="docutils literal"><span class="pre">id</span></tt> and figures out the output path.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">file_in</span>
<span class="go">&#39;/Users/sean/cdls/xf/015.cc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">file_out</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">determine_dest</span><span class="p">(</span><span class="s">&#39;cdl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">id</span>
<span class="go">&#39;015_xf_seqGrade_v01&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">file_out</span>
<span class="go">&#39;/Users/sean/cdls/xf/015_xf_seqGrade_v01.cdl&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="writing-cdls">
<h3>Writing CDLs<a class="headerlink" href="#writing-cdls" title="Permalink to this headline">¶</a></h3>
<p>When you&#8217;re done tinkering with the <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> instance, you
might want to write it out to a file. Currently the output file is written the
same directory as the input file. We need to give <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> the
file extension we plan to write to, then call a <tt class="docutils literal"><span class="pre">write</span></tt> function with our
<tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> instance, which will actually convert the values on
the <tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> into the format desired, then write that format
to disk.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">determine_dest</span><span class="p">(</span><span class="s">&#39;cdl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">file_out</span>
<span class="go">&#39;/Users/sean/cdls/xf/015_xf_seqGrade_v01.cdl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cdl</span><span class="o">.</span><span class="n">write_cdl</span><span class="p">(</span><span class="n">cc</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is highly likely that in the future, these will be methods on the
<tt class="xref py py-class docutils literal"><span class="pre">ColorCorrection</span></tt> class itself, and that instead of writing the
file directly, they will instead return a string formatted for writing.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Usage</a><ul>
<li><a class="reference internal" href="#script-usage">Script Usage</a></li>
<li><a class="reference internal" href="#python-usage">Python Usage</a><ul>
<li><a class="reference internal" href="#creating-an-colorcorrection">Creating an <tt class="docutils literal"><span class="pre">ColorCorrection</span></tt></a><ul>
<li><a class="reference internal" href="#direct-creation">Direct Creation</a></li>
<li><a class="reference internal" href="#parsing-a-cdl-file">Parsing a CDL file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#working-with-colorcorrection">Working with <tt class="docutils literal"><span class="pre">ColorCorrection</span></tt></a><ul>
<li><a class="reference internal" href="#slope-offset-and-power">Slope, Offset and Power</a></li>
<li><a class="reference internal" href="#saturation">Saturation</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#id-and-files">Id and Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-cdls">Writing CDLs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">cdl_convert</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation.html"
                        title="next chapter">Installation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/usage.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="cdl_convert"
             >previous</a> |</li>
        <li><a href="index.html">cdl_convert 0.6 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright Copyright 2014, Sean Wallitsch.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>