diff -r 0501252f31ac django/core/context_processors.py
--- a/django/core/context_processors.py	Sat Sep 13 08:42:00 2008 -0400
+++ b/django/core/context_processors.py	Sat Sep 13 10:31:35 2008 -0400
@@ -31,7 +31,8 @@
 def debug(request):
     "Returns context variables helpful for debugging."
     context_extras = {}
-    if settings.DEBUG and request.META.get('REMOTE_ADDR') in settings.INTERNAL_IPS:
+    # allow this context processor to be used with WebOb and friends!
+    if settings.DEBUG and request.environ.get('REMOTE_ADDR') in settings.INTERNAL_IPS:
         context_extras['debug'] = True
         from django.db import connection
         context_extras['sql_queries'] = connection.queries
