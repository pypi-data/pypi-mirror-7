[DEFAULT]
rootdir = .
verbose = true

[httpserver]
host = localhost
port = 8133

[mainapp.accounts]
# schevo.db.dbname
durus_db_name = 'accounts'

[mainapp.news]
dbroot = /var/db/gthc.org/news

[beaker]
cookie_expires= true
type= ext:memcached
url= 127.0.0.1:11211

[authkit]
### custom options
dbroot = /var/db/blogengine
# authentication/authorization database name
dbname = 'accounts'

authkit.setup.enable = true
authkit.setup.method = redirect, cookie
authkit.setup.handle_exceptions = true

#authkit.authenticate.callback = authkit.authenticate.cookie2:middleware
#authkit.digest.authenticate.user.data = visitor:open_sesame
#authkit.digest.realm = 'Test realm'

# authentication options
authkit.redirect.url = /session_login/
authkit.user.type = mainapp.accounts.model:UserManager

#to use moinmoin auth:
#authkit.form.authenticate.user.type = authkit.users.moin_04_driver:UserManager
#authkit.form.authenticate.user.encrypt = authkit.users:md5
#authkit.form.authenticate.user.encrypt.secret = hubuntu
authkit.cookie.secret = user_id
#authkit.cookie.badcookie = false 
#authkit.cookie.badcookie_template = mainapp.handlers:handle500
# don't store the username in plain-text in the cookie. breaks
# compatibility with mod_auth_tkt..
# authkit.cookie.enforce = true
# authkit.cookie.nouserincookie = true
# authkit.cookie.params.expires = 500

cookie.signoutpath = /session_logout/
#authkit.forward.signinpath = /session_login/

[mainapp]
debug = true
durus_db_name = accounts

wsgi.request_class = notmm:HTTPRequest
wsgi.response_class = notmm:HTTPResponse

##Driver to use for User/Customer authentication
user_backend = mainapp.accounts.model:UserManager
customer_backend = mainapp.accounts.model:CustomerManager

##session persistance:
##[session]
##XXX: AnonymousConnection or stick with HTTP cookies ?
##session_backend = mainapp.utils.cookiestore:CookieStore()

controller = notmm.controllers.i18n:I18NController
i18n.enable = true
i18n.charset = en
[blogengine]
#schevo.db.blogengine = /var/db/blogengine/blogengine.db
schevo.verbose = true
schevo.durus_db_name = blogs.public

#[mainapp.auth]
#dbroot = /var/db/blogengine
#dbname = accounts

[restapp]
#schema = %(rootdir)s/var/lib/restapp/packages.yaml
has_schema_file = yes
# defaults to index.yaml (a custom YAML schema specification file)
#schema_index_name = 'fixtures/initial_data.yaml'
schema_index_name = 'fixtures/freeware_projects.yaml'
schema_index_type = 'yaml' 
schema_index_root = 'packages'
schema_index_debug = true
entity_class = packages

# TODO: document the changes for [wsgiapp] config
[template]
# legacy template_dirs (deprecated)
#template_dirs = %(rootdir)s/templates %(rootdir)s/lib/mainapp.static

template_loader = mako.UnicodeTemplateLoader

[wikiapp]
default_instance = /home/www/vhosts/wiki.gthc.org/default_wiki
moin.url_prefix_static = http://gthcfoundation.org/moin_static184

[flatpage]
durus_db_name = flatpage
