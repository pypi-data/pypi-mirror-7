<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>tests documentation: tests.py</title>
  <link rel="stylesheet" href="./pyccoon.css">
</head>
<body>
<div id='container'>
  <a id="top"></a>
  <div id="background"></div>
  <div id="footer">
    <a class="btn" id="project-name" href="./index.html">tests documentation</a>
    <a class="btn" class="source source-1" href="#top">Back to top</a>
    <div class="generation-time">
        Generated at
        <a target="_blank" href="http://ckald.github.io/pyccoon/" title="Pyccoon: side-to-side documentation generator">
            <img id="pyccoon-icon" src="./pyccoon_icon.svg" alt="Pyccoon: side-to-side documentation generator" /></a>
        <code>2014-09-07 16:00:52.882032</code>/
        by a diligent
        <a target="_blank" href="http://ckald.github.io/pyccoon/" title="Pyccoon: side-to-side documentation generator">pyccoon</a>
    </div>
  </div>
  <div class='section'>
    <div class='docs'>
      <h1 id="breadcrumbs">/ <a href="tests.py.html/../index.html">.</a> / <a href="tests.py.html">tests.py</a> </h1>
      <ul id="children"></ul>
    </div>
  </div>
  <div class='clearall'>
  <div class='section'>
    <a id="section-0" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-0'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">pyccoon</span> <span class="kn">import</span> <span class="n">Pyccoon</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-1" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-1'>#</a>
          </div>
          <p>Test case that takes care of initializing Pyccoon and cleaning up after it.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="k">class</span> <span class="nc">FileTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="n">input_name</span> <span class="o">=</span> <span class="s">&quot;tests.py&quot;</span>
    <span class="n">output_name</span> <span class="o">=</span> <span class="s">&quot;tests.py.html&quot;</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-2" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-2'>#</a>
          </div>
          <p>Initialize Pyccoon in the same folder as <code>__file__</code> and force Pyccoon to run only over specified input file.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">__file__</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">input_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_name</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pyccoon</span> <span class="o">=</span> <span class="n">Pyccoon</span><span class="p">({</span>
            <span class="s">&#39;sourcedir&#39;</span><span class="p">:</span>    <span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">,</span>
            <span class="s">&#39;outdir&#39;</span><span class="p">:</span>       <span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">,</span>
            <span class="s">&#39;verbosity&#39;</span><span class="p">:</span>    <span class="mi">0</span><span class="p">,</span>
        <span class="p">},</span> <span class="n">process</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pyccoon</span><span class="o">.</span><span class="n">sources</span> <span class="o">=</span> <span class="p">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_name</span><span class="p">)[</span><span class="mi">1</span><span class="p">]:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_name</span><span class="p">,</span> <span class="bp">True</span><span class="p">)}</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-3" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-3'>#</a>
          </div>
          <p>Remove created files and verify they do not exist </p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-4" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-4'>#</a>
          </div>
          <p>os.unlink(self.output_name)
assert not os.path.exists(self.output_name), "Dummy output file exists after test"</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
        <span class="k">pass</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-5" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-5'>#</a>
          </div>
          <p>The test itself. Starts pyccoon processing and invokes the <code>check</code> method </p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pyccoon</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_name</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">output</span><span class="p">)</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-6" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-6'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">shortDescription</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="o">.</span><span class="n">__doc__</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-7" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-7'>#</a>
          </div>
          <p>Test case specially designed for convenient Pyccoon testing. Subclasses of it override <code>input</code> param and <code>check</code> method, while everything else takes care of creating and removing temp input and output files for Pyccoon.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="k">class</span> <span class="nc">DummyFileTest</span><span class="p">(</span><span class="n">FileTest</span><span class="p">):</span>

    <span class="nb">input</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="n">input_name</span> <span class="o">=</span> <span class="s">&quot;__test_input__.py&quot;</span>
    <span class="n">output_name</span> <span class="o">=</span> <span class="s">&quot;__test_input__.py.html&quot;</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-8" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-8'>#</a>
          </div>
          <p>Additionally to <code>FileTest.setUp</code>, fill the input file with <code>input</code> data </p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">DummyFileTest</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_name</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp</span><span class="p">:</span>
            <span class="n">temp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">)</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-9" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-9'>#</a>
          </div>
          <p>Remove created temporary files and verify they do not exist </p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">DummyFileTest</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">tearDown</span><span class="p">()</span>

        <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_name</span><span class="p">)</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_name</span><span class="p">),</span> <span class="s">&quot;Dummy input file exists after test&quot;</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-10" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-10'>#</a>
          </div>
          <p>DummyFileTest: Check that files exist. This method should be overridden </p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>

        <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_name</span><span class="p">),</span> <span class="s">&quot;Dummy input file does not exist before test&quot;</span>
        <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_name</span><span class="p">),</span> <span class="s">&quot;Dummy output file does not exist before test&quot;</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-11" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-11'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="k">class</span> <span class="nc">PyDocSubstitutions</span><span class="p">(</span><span class="n">DummyFileTest</span><span class="p">):</span>
    <span class="nb">input</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;# :return:</span>
<span class="s">#DIVIDER</span>
<span class="s">    def check(self, output):</span>
<span class="s">        self.assertTrue(&quot;pydoc-return&quot; in repr(output),</span>
<span class="s">                        &quot;Single word PyDoc expression not converted&quot;)</span>
<span class="s">        self.assertTrue(&quot;pydoc-param&quot; in repr(output),</span>
<span class="s">                        &quot;Multiple words PyDoc expression not converted&quot;)</span>
<span class="s">        self.assertTrue(&quot;:pre:&quot; in repr(output), &quot;PyDoc expression in `pre` converted&quot;)</span>
<span class="s">#DIVIDER</span>
<span class="s">class TodoSubstitutions(DummyFileTest):</span>
<span class="s">    input = &quot;&quot;&quot;</span><span class="c"># TODO: something</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-12" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-12'>#</a>
          </div>
          <p><span class="pydoc pydoc-param"><span>param</span> <code>something</code></span>
<code>:pre:</code>"""</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>               \<span class="s">&quot;&quot;&quot;`</span>
<span class="s">               FIXME: not converted</span>
<span class="s">               `</span><span class="se">\&quot;</span><span class="s">&quot;&quot;</span>
<span class="s">#DIVIDER</span>

<span class="s">#DIVIDER</span>
<span class="s">                Malformed links tests:</span>
<span class="s">#DIVIDER</span>
<span class="s">            &quot;&quot;&quot;</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-13" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-13'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
        <span class="n">validation_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s">&#39;1not_existing.py&quot;&#39;</span><span class="p">,</span>                   <span class="s">&quot;Link to not existing file&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;tests.py.html&#39;</span><span class="p">,</span>                       <span class="s">&quot;Link to existing file&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;3not_existing.py#anchor&#39;</span><span class="p">,</span>             <span class="s">&quot;Link to not existing file with anchor&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;tests.py.html#anchor&#39;</span><span class="p">,</span>                <span class="s">&quot;Link to existing file with anchor&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;Not existing named&lt;/a&gt;&#39;</span><span class="p">,</span>              <span class="s">&quot;Named link to not existing file&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;Existing named&lt;/a&gt;&#39;</span><span class="p">,</span>                  <span class="s">&quot;Named link to existing file&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;7not_existing.py#anchor&#39;</span><span class="p">,</span>             <span class="s">&quot;Named link to not existing file with anchor&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;Not existing named with anchor&lt;/a&gt;&#39;</span><span class="p">,</span>  <span class="s">&quot;Named link to not existing file with anchor&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;tests.py.html#anchor&#39;</span><span class="p">,</span>                <span class="s">&quot;Named link to existing file with anchor&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;Existing named with anchor&#39;</span><span class="p">,</span>          <span class="s">&quot;Named link to existing file with anchor&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;[[multiline&#39;</span><span class="p">,</span>                         <span class="s">&quot;Multiline link processed&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;link]]&#39;</span><span class="p">,</span>                              <span class="s">&quot;Multiline link processed&quot;</span><span class="p">]</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">validation_list</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">output</span><span class="p">,</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-14" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-14'>#</a>
          </div>
          <p><code>FIXME: something</code></p>
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="k">class</span> <span class="nc">PythonLanguage</span><span class="p">(</span><span class="n">FileTest</span><span class="p">):</span>
    <span class="n">input_name</span> <span class="o">=</span> <span class="s">&quot;python_test_sample.py&quot;</span>
    <span class="n">output_name</span> <span class="o">=</span> <span class="n">input_name</span> <span class="o">+</span> <span class="s">&quot;.html&quot;</span>

    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pyccoon</span><span class="o">.</span><span class="n">sections</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s">&#39;for Pyccoon&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span>
                         <span class="s">&quot;Multiline and inline comment were glued&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">sections</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;code_html&#39;</span><span class="p">],</span> <span class="s">&quot;There should be no code in the section&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s">&#39;indent-based language&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span>
                         <span class="s">&quot;Inline comments separated by an empty line were glued&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">&#39;code_html&#39;</span><span class="p">],</span> <span class="s">&quot;There should be no code in the section&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s">&#39;indent-based language&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span>
                         <span class="s">&quot;Preceding comment attributed to the following function&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;def purpose&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">],</span>
                        <span class="s">&quot;There should be code in the section&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;different features&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">],</span>
                        <span class="s">&quot;Multiline string was mistaken for comment&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&quot;The purpose of this test&quot;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span> <span class="s">&quot;Wrong splitting&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;@one_of&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;def are_decorators&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">],</span>
                        <span class="s">&quot;Decorator separated from function&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;and also the convention&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span> <span class="s">&quot;Lost docs&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;class a_useful_heuristic&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;for sections splitting&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span> <span class="s">&quot;Class lost his docs&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;def basically&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">6</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;a documentation block&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">6</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span>
                        <span class="s">&quot;Function lost its docs&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;if its_indentation&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">7</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;belongs to&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">7</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span> <span class="s">&quot;If lost its docs&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;correspondence_of_the&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">8</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;naturally gives&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">8</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span> <span class="s">&quot;If interior lost his docs&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s">&#39;and_documentation&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">8</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">],</span> <span class="s">&quot;Indent splitting broken&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">sections</span><span class="p">[</span><span class="mi">9</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span> <span class="s">&quot;There are no docs in the last section&quot;</span><span class="p">)</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-15" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-15'>#</a>
          </div>
          <div class="codehilite"><pre><span class="n">def</span> <span class="n">check</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span><span class="o">:</span>
    <span class="n">assert</span> <span class="s">&quot;class=todo&quot;</span> <span class="n">in</span> <span class="n">repr</span><span class="p">(</span><span class="n">output</span><span class="p">),</span> <span class="s">&quot;TODO not converted&quot;</span>
    <span class="n">assert</span> <span class="s">&quot;FIXME: something&quot;</span> <span class="n">in</span> <span class="n">repr</span><span class="p">(</span><span class="n">output</span><span class="p">),</span> <span class="s">&quot;FIXME in `pre` converted&quot;</span>
</pre></div>


<p><span class=todo><strong>TODO</strong>: this one is failing. Will fix after migrating to Mistune markdown parser</span>
 assert "FIXME: not converted" in repr(output), "FIXME in multiline <code>pre</code> converted"</p>
<p>class Crossref(DummyFileTest):
    input = </p>
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="k">class</span> <span class="nc">RubyLanguage</span><span class="p">(</span><span class="n">FileTest</span><span class="p">):</span>
    <span class="n">input_name</span> <span class="o">=</span> <span class="s">&quot;ruby_test_sample.rb&quot;</span>
    <span class="n">output_name</span> <span class="o">=</span> <span class="n">input_name</span> <span class="o">+</span> <span class="s">&quot;.html&quot;</span>

    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pyccoon</span><span class="o">.</span><span class="n">sections</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-16" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-16'>#</a>
          </div>
          <p><a href="1not_existing.py">1not_existing.py</a>
<a href="tests.py.html">tests.py</a>
<a href="3not_existing.py#anchor">3not_existing.py#anchor</a>
<a href="tests.py.html#anchor">tests.py#anchor</a>
<a href="5not_existing.py">Not existing named</a>
<a href="tests.py.html">Existing named</a>
<a href="7not_existing.py#anchor">Not existing named with anchor</a>
<a href="tests.py.html#anchor">Existing named with anchor</a></p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>        <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;Title:&quot;</span><span class="p">,</span> <span class="s">&quot;Authors:&quot;</span><span class="p">,</span> <span class="s">&quot;Syntax:&quot;</span><span class="p">,</span> <span class="s">&quot;Example:&quot;</span><span class="p">,</span> <span class="s">&quot;See the documentation&quot;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">keyword</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">],</span> <span class="s">&quot;Inline comments were not glued&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s">&#39;module&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">],</span>
                         <span class="s">&quot;Scope keyword &#39;module&#39; did not work&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;Render any&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s">&#39;docs_text&#39;</span><span class="p">]</span>
                        <span class="ow">and</span> <span class="s">&#39;def render&#39;</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">]</span>
                        <span class="ow">and</span> <span class="s">&#39;site = &#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">],</span> <span class="s">&quot;Wrong section splitting&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">sections</span><span class="p">[</span><span class="mi">11</span><span class="p">][</span><span class="s">&#39;code_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;end&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s">&quot;Indentation splitting does not work&quot;</span><span class="p">)</span>

</pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-17" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-17'>#</a>
          </div>
          <p>[[multiline
link]]</p>
        </div>
        <div class='code'>
          
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-18" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-18'>#</a>
          </div>
          
        </div>
        <div class='code'>
          
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-19" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-19'>#</a>
          </div>
          
        </div>
        <div class='code'>
          
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-20" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-20'>#</a>
          </div>
          
        </div>
        <div class='code'>
          
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-21" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-21'>#</a>
          </div>
          <p>from subprocess import call
call(["open", os.path.join(self.folder, self.output_name)])
print(sections)</p>
        </div>
        <div class='code'>
          
        </div>
        <div class='clearall'></div>
    </section>
  </div>
</div>
</body>
