<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. Introductory Tutorial &mdash; django cms 3.0b4.dev7 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0b4.dev7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="django cms 3.0b4.dev7 documentation" href="../index.html" />
    <link rel="next" title="2. Using South with django CMS" href="using_south.html" />
    <link rel="prev" title="Upgrading from 2.1.x and Django 1.2.x" href="../upgrade/2.1.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="using_south.html" title="2. Using South with django CMS"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../upgrade/2.1.html" title="Upgrading from 2.1.x and Django 1.2.x"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">django cms 3.0b4.dev7 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introductory-tutorial">
<h1>1. Introductory Tutorial<a class="headerlink" href="#introductory-tutorial" title="Permalink to this headline">¶</a></h1>
<p>This guide assumes your machine meets the requirements outlined in the
<a class="reference internal" href="installation.html"><em>Installation</em></a> section of this documentation.</p>
<div class="section" id="getting-help">
<h2>1.1. Getting help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<p>Should you run into trouble and can&#8217;t figure out how to solve it yourself, you
can get help from either our <a class="reference external" href="https://groups.google.com/forum/#!forum/django-cms">mailinglist</a> or IRC channel <tt class="docutils literal"><span class="pre">#django-cms</span></tt> on
the <tt class="docutils literal"><span class="pre">irc.freenode.net</span></tt> network.</p>
</div>
<div class="section" id="configuration-and-setup">
<h2>1.2. Configuration and setup<a class="headerlink" href="#configuration-and-setup" title="Permalink to this headline">¶</a></h2>
<div class="section" id="preparing-the-environment">
<h3>1.2.1. Preparing the environment<a class="headerlink" href="#preparing-the-environment" title="Permalink to this headline">¶</a></h3>
<p>Gathering the requirements is a good start, but we now need to give the CMS a
Django project to live in, and configure it.</p>
<div class="section" id="starting-your-django-project">
<h4>1.2.1.1. Starting your Django project<a class="headerlink" href="#starting-your-django-project" title="Permalink to this headline">¶</a></h4>
<p>The following assumes your project will be in <tt class="docutils literal"><span class="pre">~/workspace/myproject/</span></tt>.</p>
<p>Set up your Django project:</p>
<div class="highlight-python"><pre>cd ~/workspace
django-admin.py startproject myproject
cd myproject
python manage.py runserver</pre>
</div>
<p>Open <a class="reference external" href="http://127.0.0.1:8000">127.0.0.1:8000</a> in your browser. You should see a
nice &#8220;It Worked&#8221; message from Django.</p>
<p><img alt="it-worked" src="../_images/it-worked.png" /></p>
</div>
<div class="section" id="installing-and-configuring-django-cms-in-your-django-project">
<span id="configure-django-cms"></span><h4>1.2.1.2. Installing and configuring django CMS in your Django project<a class="headerlink" href="#installing-and-configuring-django-cms-in-your-django-project" title="Permalink to this headline">¶</a></h4>
<p>Open the file <tt class="docutils literal"><span class="pre">~/workspace/myproject/myproject/settings.py</span></tt>.</p>
<p>To make your life easier, add the following at the top of the file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">gettext</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span>
<span class="n">PROJECT_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)))[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Add the following apps to your <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-INSTALLED_APPS" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a>.
This includes django CMS itself as well as its dependenices and
other highly recommended applications/libraries:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;cms&#39;</span><span class="p">,</span>  <span class="c"># django CMS itself</span>
<span class="s">&#39;mptt&#39;</span><span class="p">,</span>  <span class="c"># utilities for implementing a modified pre-order traversal tree</span>
<span class="s">&#39;menus&#39;</span><span class="p">,</span>  <span class="c"># helper for model independent hierarchical website navigation</span>
<span class="s">&#39;south&#39;</span><span class="p">,</span>  <span class="c"># intelligent schema and data migrations</span>
<span class="s">&#39;sekizai&#39;</span><span class="p">,</span>  <span class="c"># for javascript and css management</span>
<span class="s">&#39;djangocms_admin_style&#39;</span><span class="p">,</span>  <span class="c"># for the admin skin. You **must** add &#39;djangocms_admin_style&#39; in the list before &#39;django.contrib.admin&#39;.</span>
<span class="s">&#39;django.contrib.messages&#39;</span><span class="p">,</span>  <span class="c"># to enable messages framework (see :ref:`Enable messages &lt;enable-messages&gt;`)</span>
</pre></div>
</div>
<p>Also add any (or all) of the following plugins, depending on your needs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;cms.plugins.file&#39;</span><span class="p">,</span>
<span class="s">&#39;cms.plugins.flash&#39;</span><span class="p">,</span>
<span class="s">&#39;cms.plugins.googlemap&#39;</span><span class="p">,</span>
<span class="s">&#39;cms.plugins.picture&#39;</span><span class="p">,</span>
<span class="s">&#39;cms.plugins.teaser&#39;</span><span class="p">,</span>
<span class="s">&#39;djangocms_link&#39;</span><span class="p">,</span>
<span class="s">&#39;djangocms_snippet&#39;</span><span class="p">,</span>
<span class="s">&#39;djangocms_text_ckeditor&#39;</span><span class="p">,</span>  <span class="c"># note this needs to be above the &#39;cms&#39; entry</span>
<span class="s">&#39;cms.plugins.video&#39;</span><span class="p">,</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Adding the <tt class="docutils literal"><span class="pre">'djangocms_snippet'</span></tt> plugin is a potential security hazard.
For more information, refer to <a class="reference external" href="https://github.com/divio/djangocms-snippet">snippet_plugin</a>.</p>
<p class="last">In addition, <tt class="docutils literal"><span class="pre">'cms.plugins.text'</span></tt> and <tt class="docutils literal"><span class="pre">'cms.plugins.twitter'</span></tt> have
been removed from the Django-CMS bundle. Read <a class="reference internal" href="../upgrade/3.0.html#upgrade-to-3-0"><em>3.0 release notes</em></a> for
detailed information.</p>
</div>
<p>The plugins are described in more detail in chapter <a class="reference internal" href="plugin_reference.html"><em>Plugins reference</em></a>.
There are even more plugins available on the django CMS <a class="reference external" href="http://www.django-cms.org/en/extensions/">extensions page</a>.</p>
<p>In addition, make sure you uncomment (enable) <tt class="docutils literal"><span class="pre">'django.contrib.admin'</span></tt></p>
<p>You may also wish to use <a class="reference external" href="https://github.com/stefanfoulis/django-filer">django-filer</a> and its components with the <a class="reference external" href="https://github.com/stefanfoulis/cmsplugin-filer">django CMS plugin</a>
instead of the <tt class="xref py py-mod docutils literal"><span class="pre">cms.plugins.file</span></tt>, <tt class="xref py py-mod docutils literal"><span class="pre">cms.plugins.picture</span></tt>,
<tt class="xref py py-mod docutils literal"><span class="pre">cms.plugins.teaser</span></tt> and <tt class="xref py py-mod docutils literal"><span class="pre">cms.plugins.video</span></tt> core plugins.
In this case you should check the <a class="reference external" href="django-filer:installation_and_configuration">django-filer documentation</a>
and <a class="reference external" href="https://github.com/stefanfoulis/cmsplugin-filer#installation">django CMS plugin documentation</a> for detailed installation information, and
then return to this tutorial.</p>
<p>If you opt for the core plugins you should take care that directory to which
the <a class="reference internal" href="configuration.html#std:setting-CMS_PAGE_MEDIA_PATH"><tt class="xref std std-setting docutils literal"><span class="pre">CMS_PAGE_MEDIA_PATH</span></tt></a> setting points (by default <tt class="docutils literal"><span class="pre">cms_page_media/</span></tt>
relative to <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-MEDIA_ROOT" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">MEDIA_ROOT</span></tt></a>) is writable by the user under which Django
will be running. If you have opted for django-filer there is a similar requirement
for its configuration.</p>
<p>If you want versioning of your content you should also install <a class="reference external" href="https://github.com/etianen/django-reversion">django-reversion</a>
and add it to <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-INSTALLED_APPS" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a>:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">'reversion'</span></tt></li>
</ul>
<p>You need to add the django CMS middlewares to your <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-MIDDLEWARE_CLASSES" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">MIDDLEWARE_CLASSES</span></tt></a>
at the right position:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">MIDDLEWARE_CLASSES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.middleware.csrf.CsrfViewMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.middleware.locale.LocaleMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.middleware.doc.XViewMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.middleware.common.CommonMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;cms.middleware.page.CurrentPageMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;cms.middleware.user.CurrentUserMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;cms.middleware.toolbar.ToolbarMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;cms.middleware.language.LanguageCookieMiddleware&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You need at least the following <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-TEMPLATE_CONTEXT_PROCESSORS" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">TEMPLATE_CONTEXT_PROCESSORS</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TEMPLATE_CONTEXT_PROCESSORS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&#39;django.contrib.auth.context_processors.auth&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.core.context_processors.i18n&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.core.context_processors.request&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.core.context_processors.media&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.core.context_processors.static&#39;</span><span class="p">,</span>
    <span class="s">&#39;cms.context_processors.cms_settings&#39;</span><span class="p">,</span>
    <span class="s">&#39;sekizai.context_processors.sekizai&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This setting will be missing from automatically generated Django settings
files, so you will have to add it.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be sure to have <tt class="docutils literal"><span class="pre">'django.contrib.sites'</span></tt> in INSTALLED_APPS and set
<tt class="docutils literal"><span class="pre">SITE_ID</span></tt> parameter in your <tt class="docutils literal"><span class="pre">settings</span></tt>: they may be missing from the
settings file generated by <tt class="docutils literal"><span class="pre">django-admin</span></tt> depending on your Django version
and project template.</p>
</div>
<div class="versionchanged" id="enable-messages">
<p><span class="versionmodified">Changed in version 3.0.0.</span></p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Django <tt class="docutils literal"><span class="pre">messages</span></tt> framework is now required for the toolbar to work
properly.</p>
<p>To enable it you must be check the following settings:</p>
<blockquote class="last">
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt>: must contain <tt class="docutils literal"><span class="pre">'django.contrib.messages'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">MIDDLEWARE_CLASSES</span></tt>: must contain <tt class="docutils literal"><span class="pre">'django.contrib.messages.middleware.MessageMiddleware'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">TEMPLATE_CONTEXT_PROCESSORS</span></tt>: must contain <tt class="docutils literal"><span class="pre">'django.contrib.messages.context_processors.messages'</span></tt></li>
</ul>
</div></blockquote>
</div>
<p>Point your <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-STATIC_ROOT" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">STATIC_ROOT</span></tt></a> to where the static files should live
(that is, your images, CSS files, Javascript files, etc.):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">STATIC_ROOT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PROJECT_PATH</span><span class="p">,</span> <span class="s">&quot;static&quot;</span><span class="p">)</span>
<span class="n">STATIC_URL</span> <span class="o">=</span> <span class="s">&quot;/static/&quot;</span>
</pre></div>
</div>
<p>For uploaded files, you will need to set up the <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-MEDIA_ROOT" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">MEDIA_ROOT</span></tt></a>
setting:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">MEDIA_ROOT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PROJECT_PATH</span><span class="p">,</span> <span class="s">&quot;media&quot;</span><span class="p">)</span>
<span class="n">MEDIA_URL</span> <span class="o">=</span> <span class="s">&quot;/media/&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please make sure both the <tt class="docutils literal"><span class="pre">static</span></tt> and <tt class="docutils literal"><span class="pre">media</span></tt> subfolders exist in your
project and are writable.</p>
</div>
<p>Now add a little magic to the <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-TEMPLATE_DIRS" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">TEMPLATE_DIRS</span></tt></a> section of the file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TEMPLATE_DIRS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="c"># The docs say it should be absolute path: PROJECT_PATH is precisely one.</span>
    <span class="c"># Life is wonderful!</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PROJECT_PATH</span><span class="p">,</span> <span class="s">&quot;templates&quot;</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Add at least one template to <a class="reference internal" href="configuration.html#std:setting-CMS_TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">CMS_TEMPLATES</span></tt></a>; for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CMS_TEMPLATES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s">&#39;template_1.html&#39;</span><span class="p">,</span> <span class="s">&#39;Template One&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;template_2.html&#39;</span><span class="p">,</span> <span class="s">&#39;Template Two&#39;</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>We will create the actual template files at a later step, don&#8217;t worry about it for
now. Simply paste this code into your settings file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The templates you define in <a class="reference internal" href="configuration.html#std:setting-CMS_TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">CMS_TEMPLATES</span></tt></a> have to exist at runtime and
contain at least one <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">placeholder</span> <span class="pre">&lt;name&gt;</span> <span class="pre">%}</span></tt> template tag to be useful
for django CMS. For more details see <a class="reference internal" href="#creating-templates">Creating templates</a></p>
</div>
<p>The django CMS allows you to edit all languages for which Django has built in
translations. Since these are numerous, we&#8217;ll limit it to English for now:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">LANGUAGES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s">&#39;en&#39;</span><span class="p">,</span> <span class="s">&#39;English&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Finally, set up the <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-DATABASES" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">DATABASES</span></tt></a> part of the file to reflect your
database deployment. If you just want to try out things locally, sqlite3 is the
easiest database to set up, however it should not be used in production. If you
still wish to use it for now, this is what your <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-DATABASES" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">DATABASES</span></tt></a>
setting should look like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span>
        <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PROJECT_PATH</span><span class="p">,</span> <span class="s">&#39;database.sqlite&#39;</span><span class="p">),</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="url-configuration">
<h3>1.2.2. URL configuration<a class="headerlink" href="#url-configuration" title="Permalink to this headline">¶</a></h3>
<p>You need to include the <tt class="docutils literal"><span class="pre">'cms.urls'</span></tt> urlpatterns <strong>at the end</strong> of your
urlpatterns. We suggest starting with the following
<tt class="docutils literal"><span class="pre">~/workspace/myproject/myproject/urls.py</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">include</span><span class="p">,</span> <span class="n">patterns</span><span class="p">,</span> <span class="n">url</span>
<span class="kn">from</span> <span class="nn">django.conf.urls.i18n</span> <span class="kn">import</span> <span class="n">i18n_patterns</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="n">admin</span><span class="o">.</span><span class="n">autodiscover</span><span class="p">()</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">i18n_patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">)),</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;cms.urls&#39;</span><span class="p">)),</span>
<span class="p">)</span>

<span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">:</span>
    <span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^media/(?P&lt;path&gt;.*)$&#39;</span><span class="p">,</span> <span class="s">&#39;django.views.static.serve&#39;</span><span class="p">,</span>
        <span class="p">{</span><span class="s">&#39;document_root&#39;</span><span class="p">:</span> <span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_ROOT</span><span class="p">,</span> <span class="s">&#39;show_indexes&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}),</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;django.contrib.staticfiles.urls&#39;</span><span class="p">)),</span>
<span class="p">)</span> <span class="o">+</span> <span class="n">urlpatterns</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="creating-templates">
<h2>1.3. Creating templates<a class="headerlink" href="#creating-templates" title="Permalink to this headline">¶</a></h2>
<p>django CMS uses templates to define how a page should look and what parts of
it are editable. Editable areas are called <strong>placeholders</strong>. These templates are
standard Django templates and you may use them as described in the
<a class="reference external" href="http://docs.djangoproject.com/en/1.5/topics/templates/">official documentation</a>.</p>
<p>Templates you wish to use on your pages must be declared in the <a class="reference internal" href="configuration.html#std:setting-CMS_TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">CMS_TEMPLATES</span></tt></a>
setting:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CMS_TEMPLATES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s">&#39;template_1.html&#39;</span><span class="p">,</span> <span class="s">&#39;Template One&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;template_2.html&#39;</span><span class="p">,</span> <span class="s">&#39;Template Two&#39;</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If you have followed this tutorial from the beginning, this code  should already be in your settings file.</p>
<p>Now, on with the actual template files!</p>
<p>Fire up your favorite editor and create a file called <tt class="docutils literal"><span class="pre">base.html</span></tt> in a folder called <tt class="docutils literal"><span class="pre">templates</span></tt>
in your myproject directory.</p>
<p>Here is a simple example for a base template called <tt class="docutils literal"><span class="pre">base.html</span></tt>:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">cms_tags</span> <span class="nv">sekizai_tags</span> <span class="cp">%}</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
      <span class="cp">{%</span> <span class="k">render_block</span> <span class="s2">&quot;css&quot;</span> <span class="cp">%}</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
      <span class="cp">{%</span> <span class="k">cms_toolbar</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">placeholder</span> <span class="nv">base_content</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">block</span> <span class="nv">base_content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">render_block</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Now, create a file called <tt class="docutils literal"><span class="pre">template_1.html</span></tt> in the same directory. This will use
your base template, and add extra content to it:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">load</span> <span class="nv">cms_tags</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">base_content</span> <span class="cp">%}</span>
  <span class="cp">{%</span> <span class="k">placeholder</span> <span class="nv">template_1_content</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>When you set <tt class="docutils literal"><span class="pre">template_1.html</span></tt> as a template on a page you will get two
placeholders to put plugins in. One is <tt class="docutils literal"><span class="pre">template_1_content</span></tt> from the page
template <tt class="docutils literal"><span class="pre">template_1.html</span></tt> and another is <tt class="docutils literal"><span class="pre">base_content</span></tt> from the extended
<tt class="docutils literal"><span class="pre">base.html</span></tt>.</p>
<p>When working with a lot of placeholders, make sure to give descriptive
names to your placeholders so you can identify them more easily in the admin panel.</p>
<p>Now, feel free to experiment and make a <tt class="docutils literal"><span class="pre">template_2.html</span></tt> file! If you don&#8217;t
feel creative, just copy template_1 and name the second placeholder something
like &#8220;template_2_content&#8221;.</p>
<div class="section" id="static-files-handling-with-sekizai">
<span id="sekizai-namespaces"></span><h3>1.3.1. Static files handling with sekizai<a class="headerlink" href="#static-files-handling-with-sekizai" title="Permalink to this headline">¶</a></h3>
<p>The django CMS handles media files (css stylesheets and javascript files)
required by CMS plugins using <a class="reference external" href="https://github.com/ojii/django-sekizai">django-sekizai</a>. This requires you to define at
least two sekizai namespaces in your templates: <tt class="docutils literal"><span class="pre">js</span></tt> and <tt class="docutils literal"><span class="pre">css</span></tt>. You can do
so using the <tt class="docutils literal"><span class="pre">render_block</span></tt> template tag from the <tt class="docutils literal"><span class="pre">sekizai_tags</span></tt> template
tag libary. We highly recommended putting the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">render_block</span> <span class="pre">&quot;css&quot;</span> <span class="pre">%}</span></tt> tag
as the last thing before the closing <tt class="docutils literal"><span class="pre">&lt;/head&gt;</span></tt> HTML tag and the
<tt class="docutils literal"><span class="pre">{%</span> <span class="pre">render_block</span> <span class="pre">&quot;js&quot;</span> <span class="pre">%}</span></tt> tag as the last thing before the closing <tt class="docutils literal"><span class="pre">&lt;/body&gt;</span></tt>
HTML tag.</p>
</div>
</div>
<div class="section" id="initial-database-setup">
<h2>1.4. Initial database setup<a class="headerlink" href="#initial-database-setup" title="Permalink to this headline">¶</a></h2>
<p>This command depends on whether you <strong>upgrade</strong> your installation or do a
<strong>fresh install</strong>. We recommend that you get familiar with the way <a class="reference external" href="http://south.aeracode.org/">South</a> works,
as it is a very powerful, easy and convenient tool. django CMS uses it extensively.</p>
<div class="section" id="fresh-install">
<h3>1.4.1. Fresh install<a class="headerlink" href="#fresh-install" title="Permalink to this headline">¶</a></h3>
<p>Run:</p>
<div class="highlight-python"><pre>python manage.py syncdb --all
python manage.py migrate --fake</pre>
</div>
<p>The first command will prompt you to create a super user. Choose &#8216;yes&#8217; and enter
appropriate values.</p>
</div>
<div class="section" id="upgrade">
<h3>1.4.2. Upgrade<a class="headerlink" href="#upgrade" title="Permalink to this headline">¶</a></h3>
<p>Run:</p>
<div class="highlight-python"><pre>python manage.py syncdb
python manage.py migrate</pre>
</div>
</div>
</div>
<div class="section" id="check-you-did-everything-right">
<h2>1.5. Check you did everything right<a class="headerlink" href="#check-you-did-everything-right" title="Permalink to this headline">¶</a></h2>
<p>Now, use the following command to check if you did everything correctly:</p>
<div class="highlight-python"><pre>python manage.py cms check</pre>
</div>
</div>
<div class="section" id="up-and-running">
<h2>1.6. Up and running!<a class="headerlink" href="#up-and-running" title="Permalink to this headline">¶</a></h2>
<p>That should be it. Restart your development server using <tt class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">runserver</span></tt>
and point a web browser to <a class="reference external" href="http://127.0.0.1:8000">127.0.0.1:8000</a> : you should get
the django CMS &#8220;It Worked&#8221; screen.</p>
<p><img alt="it-works-cms" src="../_images/it-works-cms.png" /></p>
<p>Head over to the <cite>admin panel &lt;http://127.0.0.1:8000/admin/&gt;</cite> and log in with
the user you created during the database setup.</p>
<p>To deploy your django CMS project on a production webserver, please refer to the
<a class="reference external" href="http://docs.djangoproject.com/en/1.2/howto/deployment/">Django documentation</a>.</p>
</div>
<div class="section" id="creating-your-first-cms-page">
<h2>1.7. Creating your first CMS Page!<a class="headerlink" href="#creating-your-first-cms-page" title="Permalink to this headline">¶</a></h2>
<p>That&#8217;s it. Now the best part: you can start using the CMS!
Run your server with <tt class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">runserver</span></tt>, then point a web browser to
<a class="reference external" href="http://127.0.0.1:8000/admin/">127.0.0.1:8000/admin/</a> , and log in using the super
user credentials you defined when you ran <tt class="docutils literal"><span class="pre">syncdb</span></tt> earlier.</p>
<p>Once in the admin part of your site, you should see something like the following:</p>
<p><img alt="first-admin" src="../_images/first-admin.png" /></p>
<div class="section" id="adding-a-page">
<h3>1.7.1. Adding a page<a class="headerlink" href="#adding-a-page" title="Permalink to this headline">¶</a></h3>
<p>Adding a page is as simple as clicking &#8220;Pages&#8221; in the admin view, then the &#8220;add page&#8221; button
at the top right-hand corner of the screen.</p>
<p>This is where you select which template to use (remember, we created two), as well as
pretty obvious things like which language the page is in (used for internationalisation),
the page&#8217;s title, and the url slug it will use.</p>
<p>Hitting the &#8220;Save&#8221; button, unsurprisingly, saves the page. It will now display in the list of
pages.</p>
<p><img alt="my-first-page" src="../_images/my-first-page.png" /></p>
<p>Congratulations! You now have a fully functional django CMS installation!</p>
</div>
<div class="section" id="publishing-a-page">
<h3>1.7.2. Publishing a page<a class="headerlink" href="#publishing-a-page" title="Permalink to this headline">¶</a></h3>
<p>The following is a list of parameters that can be changed for each of your pages:</p>
<div class="section" id="visibility">
<h4>1.7.2.1. Visibility<a class="headerlink" href="#visibility" title="Permalink to this headline">¶</a></h4>
<p>By default, pages are &#8220;invisible&#8221;. To let people access them you should mark
them as &#8220;published&#8221;.</p>
</div>
<div class="section" id="menus">
<h4>1.7.2.2. Menus<a class="headerlink" href="#menus" title="Permalink to this headline">¶</a></h4>
<p>Another option this view lets you tweak is whether or not the page should appear in
your site&#8217;s navigation (that is, whether there should be a menu entry to reach it
or not)</p>
</div>
</div>
<div class="section" id="adding-content-to-a-page">
<h3>1.7.3. Adding content to a page<a class="headerlink" href="#adding-content-to-a-page" title="Permalink to this headline">¶</a></h3>
<p>So far, our page doesn&#8217;t do much. Make sure it&#8217;s marked as &#8220;published&#8221;, then
click on the page&#8217;s &#8220;edit&#8221; button.</p>
<p>Ignore most of the interface for now and click the &#8220;view on site&#8221; button at the
top right-hand corner of the screen. As expected, your page is blank for the
time being, since our template is a really minimal one.</p>
<p>Let&#8217;s get to it now then!</p>
<p>Press your browser&#8217;s back button, so as to see the page&#8217;s admin interface. If you followed
the tutorial so far, your template (<tt class="docutils literal"><span class="pre">template_1.html</span></tt>) defines two placeholders.
The admin interfaces shows you theses placeholders as sub menus:</p>
<p><img alt="first-placeholders" src="../_images/first-placeholders.png" /></p>
<p>Scroll down the &#8220;Available plugins&#8221; drop-down list. This displays the plugins you
added to your <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-INSTALLED_APPS" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a> settings. Choose the &#8220;text&#8221; plugin in the drop-down,
then press the &#8220;Add&#8221; button. If the &#8220;text&#8221; plugin is not listed, you need to add
&#8216;djangocms_text_ckeditor&#8217; to your <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-INSTALLED_APPS" title="(in Django v1.7)"><tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a> settings.</p>
<p>The right part of the plugin area displays a rich text editor (<a class="reference external" href="http://tinymce.moxiecode.com/">TinyMCE</a>).</p>
<p>In the editor, type in some text and then press the &#8220;Save&#8221; button.</p>
<p>The new text is only visible on the draft copy so far, but you can see it by using the
top button &#8220;Preview draft&#8221;. If you use the &#8220;View on site&#8221; button instead, you can see that the
page is still blank to the normal users.</p>
<p>To publish the changes you have made, click on the &#8220;Publish draft&#8221; button.
Go back to your website using the top right-hand &#8220;View on site&#8221; button. That&#8217;s it!</p>
<p><img alt="hello-cms-world" src="../_images/hello-cms-world.png" /></p>
</div>
<div class="section" id="where-to-go-from-here">
<h3>1.7.4. Where to go from here<a class="headerlink" href="#where-to-go-from-here" title="Permalink to this headline">¶</a></h3>
<p>Congratulations, you now have a fully functional CMS! Feel free to play around
with the different plugins provided out of the box and to build great websites!</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. Introductory Tutorial</a><ul>
<li><a class="reference internal" href="#getting-help">1.1. Getting help</a></li>
<li><a class="reference internal" href="#configuration-and-setup">1.2. Configuration and setup</a><ul>
<li><a class="reference internal" href="#preparing-the-environment">1.2.1. Preparing the environment</a><ul>
<li><a class="reference internal" href="#starting-your-django-project">1.2.1.1. Starting your Django project</a></li>
<li><a class="reference internal" href="#installing-and-configuring-django-cms-in-your-django-project">1.2.1.2. Installing and configuring django CMS in your Django project</a></li>
</ul>
</li>
<li><a class="reference internal" href="#url-configuration">1.2.2. URL configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-templates">1.3. Creating templates</a><ul>
<li><a class="reference internal" href="#static-files-handling-with-sekizai">1.3.1. Static files handling with sekizai</a></li>
</ul>
</li>
<li><a class="reference internal" href="#initial-database-setup">1.4. Initial database setup</a><ul>
<li><a class="reference internal" href="#fresh-install">1.4.1. Fresh install</a></li>
<li><a class="reference internal" href="#upgrade">1.4.2. Upgrade</a></li>
</ul>
</li>
<li><a class="reference internal" href="#check-you-did-everything-right">1.5. Check you did everything right</a></li>
<li><a class="reference internal" href="#up-and-running">1.6. Up and running!</a></li>
<li><a class="reference internal" href="#creating-your-first-cms-page">1.7. Creating your first CMS Page!</a><ul>
<li><a class="reference internal" href="#adding-a-page">1.7.1. Adding a page</a></li>
<li><a class="reference internal" href="#publishing-a-page">1.7.2. Publishing a page</a><ul>
<li><a class="reference internal" href="#visibility">1.7.2.1. Visibility</a></li>
<li><a class="reference internal" href="#menus">1.7.2.2. Menus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-content-to-a-page">1.7.3. Adding content to a page</a></li>
<li><a class="reference internal" href="#where-to-go-from-here">1.7.4. Where to go from here</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../upgrade/2.1.html"
                        title="previous chapter">Upgrading from 2.1.x and Django 1.2.x</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="using_south.html"
                        title="next chapter">2. Using South with django CMS</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/getting_started/tutorial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="using_south.html" title="2. Using South with django CMS"
             >next</a> |</li>
        <li class="right" >
          <a href="../upgrade/2.1.html" title="Upgrading from 2.1.x and Django 1.2.x"
             >previous</a> |</li>
        <li><a href="../index.html">django cms 3.0b4.dev7 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Patrick Lauber.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>