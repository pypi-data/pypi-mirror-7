{% extends "base_theme.html" %}
{% load re_paginator render_form %}
{% block content %}
    <div class="row">
        <div class="col-md-4">
            {% get_search_form %}
        </div>

        <div class="col-md-8">


            <script>
                var map_locations = [
                    {"lat":51.461311, "lng":-0.303742, "title":"7 bedroom house", "street":"The Vineyard, Richmond, TW10", "price":"3,350,000"},
                    {"lat":51.451311, "lng":-0.313742, "title":"1 bedroom flat", "street":"Lower Mortlake Road, North Sheen", "price":"229,950"},
                    {"lat":51.462311, "lng":-0.323742, "title":"2 bedroom apartment", "street":"Mount Ararat Road, Richmond", "price":"520,000"},
                    {"lat":51.443821, "lng":-0.300747, "title":"2 bedroom house", "street":"The Shakespeare", "price":"550,000"},
                    {"lat":51.452212, "lng":-0.298291, "title":"3 bedroom terraced house", "street":"London, TW9", "price":"615,000"},
                    {"lat":51.466506, "lng":-0.294333, "title":"3 bedroom semi-detached house", "street":"Beaumont Avenue, Richmond", "price":"1,100,000"},
                    {"lat":51.462213, "lng":-0.293045, "title":"2 bedroom flat", "street":"The Lodge, Courtlands, Sheen Road, Richmond", "price":"399,950"},
                    {"lat":51.462161, "lng":-0.292494, "title":"1 bedroom flat", "street":"Sheen Road, Richmond, TW9", "price":"219,950"},
                    {"lat":51.47357, "lng":-0.281727, "title":"5 bedroom flat", "street":"Chelwood Gardens", "price":"1,250,000"},
                    {"lat":51.466213, "lng":-0.293998, "title":"4 bedroom house", "street":"Lower Mortlake Road, Richmond, TW9", "price":"435,000"}
                ]
            </script>
            <div id="map_canvas"></div>
            <br/>

            <div class="row">
                <div class="col-md-4 select_height"> Mostrando {{ results.start_index }} - {{ results.end_index }}
                    de {{ results.paginator.count }} resultados
                </div>
                <div class="pull-right">
                    <form action="{% url 'properties_for_sale' %}" id="form-sort">
                        Ordenar por :
                        <select id="sort" name="sort" class="col-md-3">
                            <option value="price">Precio: Ascendente</option>
                            <option value="-price"{% if request.GET.sort == '-price' %}
                                    selected="selected"{% endif %}>
                                Precio: Descendente
                            </option>
                        </select>
                    </form>
                </div>
            </div>


            {% include 'includes/listing_grid.html' %}


            {# pagination #}
            <div class="pagination pagination-centered">
                {% pagination_url results %}
            </div>
            {# pagination #}

        </div>
    </div>
{% endblock %}