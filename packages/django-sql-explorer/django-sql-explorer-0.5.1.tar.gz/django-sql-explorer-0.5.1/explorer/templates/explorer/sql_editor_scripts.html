<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/3.20.0/codemirror.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/3.19.0/mode/sql/sql.min.js"></script>
<script>
    var editor = CodeMirror.fromTextArea(document.getElementById('id_sql'), {
        mode: "text/x-sql",
        lineNumbers: 't',
        autofocus: true,
        extraKeys: {
            "Ctrl-Enter": function() {
                $('#editor').submit();
            },
            "Cmd-Enter": function() {
                $('#editor').submit();
            }
        }
    });
</script>