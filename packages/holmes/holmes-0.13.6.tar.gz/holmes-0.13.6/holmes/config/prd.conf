import os

SQLALCHEMY_CONNECTION_STRING = "mysql+mysqldb://%s:%s@%s:%d/%s" % (
    os.environ.get('MYSQL_USER', 'holmes'),
    os.environ.get('MYSQL_PASSWORD', None),
    os.environ.get('MYSQL_HOST', 'localhost'),
    int(os.environ.get('MYSQL_PORT', 3306)),
    os.environ.get('MYSQL_DATABASE_NAME', 'holmes'),
)

SQLALCHEMY_CONNECTION_STRING = "mysql+mysqldb://root@localhost:3306/holmes"
SQLALCHEMY_POOL_SIZE = 20
SQLALCHEMY_POOL_MAX_OVERFLOW = 10

REQUIRED_META_TAGS = ['description']

WORKER_SLEEP_TIME = 1

FACTERS = [
    'holmes.facters.title.TitleFacter',
    'holmes.facters.links.LinkFacter',
    'holmes.facters.robots.RobotsFacter',
    'holmes.facters.sitemap.SitemapFacter',
    'holmes.facters.images.ImageFacter',
    'holmes.facters.css.CSSFacter',
    'holmes.facters.meta_tags.MetaTagsFacter',
    'holmes.facters.js.JSFacter',
    'holmes.facters.body.BodyFacter',
    'holmes.facters.head.HeadFacter',
    'holmes.facters.last_modified.LastModifiedFacter',
    'holmes.facters.google_analytics.GoogleAnalyticsFacter',
    'holmes.facters.heading_hierarchy.HeadingHierarchyFacter',
]

VALIDATORS = [
    'holmes.validators.title.TitleValidator',
    'holmes.validators.link_crawler.LinkCrawlerValidator',
    'holmes.validators.robots.RobotsValidator',
    'holmes.validators.sitemap.SitemapValidator',
    'holmes.validators.domain_canonicalization.DomainCanonicalizationValidator',
    'holmes.validators.img_requests.ImageRequestsValidator',
    'holmes.validators.css_requests.CSSRequestsValidator',
    'holmes.validators.js_requests.JSRequestsValidator',
    'holmes.validators.image_alt.ImageAltValidator',
    'holmes.validators.anchor_without_any_text.AnchorWithoutAnyTextValidator',
    'holmes.validators.meta_tags.MetaTagsValidator',
    'holmes.validators.meta_robots.MetaRobotsValidator',
    'holmes.validators.required_meta_tags.RequiredMetaTagsValidator',
    'holmes.validators.links_with_rel_nofollow.LinkWithRelNofollowValidator',
    'holmes.validators.link_with_redirect.LinkWithRedirectValidator',
    'holmes.validators.schema_org_item_type.SchemaOrgItemTypeValidator',
    'holmes.validators.body.BodyValidator',
    'holmes.validators.link_with_rel_canonical.LinkWithRelCanonicalValidator',
    'holmes.validators.blacklist.BlackListValidator',
    'holmes.validators.open_graph.OpenGraphValidator',
    'holmes.validators.last_modified.LastModifiedValidator',
    'holmes.validators.google_analytics.GoogleAnalyticsValidator',
    'holmes.validators.heading_hierarchy.HeadingHierarchyValidator',
    'holmes.validators.url_with_underscore.UrlWithUnderscoreValidator',
]

SCHEMA_ORG_ITEMTYPE = [
    'http://schema.org/WebPage',
    'http://schema.org/AboutPage',
    'http://schema.org/CheckoutPage',
    'http://schema.org/CollectionPage',
    'http://schema.org/ContactPage',
    'http://schema.org/ItemPage',
    'http://schema.org/MedicalWebPage',
    'http://schema.org/ProfilePage',
    'http://schema.org/SearchResultsPage'
]

ERROR_HANDLERS = [
    'holmes.error_handlers.sentry.SentryErrorHandler',
]

SEARCH_PROVIDER = 'holmes.search_providers.elastic_over_oauth.ElasticOverOAuthSearchProvider'
# SEARCH_PROVIDER = 'holmes.search_providers.elastic.ElasticSearchProvider'

OAUTH_TOKEN_ENDPOINT = 'https://accounts.backstage.globoi.com/token'

ELASTIC_SEARCH_PROTOCOL = 'https'
# ELASTIC_SEARCH_PROTOCOL = 'http'
ELASTIC_SEARCH_HOST = 'esearch.backstage.globoi.com'
# ELASTIC_SEARCH_HOST = 'esearch.globoi.com'
ELASTIC_SEARCH_PORT = 443
# ELASTIC_SEARCH_PORT = 80
ELASTIC_SEARCH_INDEX = '.holmes'

USE_SENTRY = False
SENTRY_DSN_URL = 'http://752c8822566b4981904f65643c7999c2:2ef65c8fb7c548f884d9e92d17990492@ce.cyclops.dev.globoi.com/31'

GOOGLE_CLIENT_ID = '968129569472-1smbhidqeo3kpdj029cehmnp8qh808kv.apps.googleusercontent.com'
