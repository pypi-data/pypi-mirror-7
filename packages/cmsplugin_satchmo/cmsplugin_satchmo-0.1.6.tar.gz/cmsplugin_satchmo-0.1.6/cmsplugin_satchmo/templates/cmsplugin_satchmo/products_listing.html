{% load i18n satchmo_category satchmo_google satchmo_util satchmo_currency satchmo_discounts app_plugins normalize_decimal %}
{% comment %}

	You can use these possible variables:
		- site_url: if we use link to product on other site, domain name will be there
		- products: standard Satchmo products query set
		- instance.list_type: type of product listing (recent, bestsellers or featured), see cmsplugin_satchmo/models.py
		- instance.product_url_path: depends on Satchmo settings - it's derived from SATCHMO_BASE and PRODUCT_SLUG
		- instance.style: for some CSS cusomization

{% endcomment %}
{% with style=instance.style url_path=instance.product_url_path %}
<h2>Product Listing</h2>
<ul{% if style %} class="{{ style }}"{% endif %}>
{% for product in products %}
	<li><a href="{% if site_url %}{{ site_url }}{{ url_path }}{{ product.slug }}/{% else %}{{ product.get_absolute_url }}{% endif %}" title="{{ product.translated_name }}">{{ product.translated_name }}</a>
	<span class="price">({{ product|discount_price:''|floatformat:0 }} {{ currency_symbol }})</span></li>
{% endfor %}
</ul>
{% endwith %}
