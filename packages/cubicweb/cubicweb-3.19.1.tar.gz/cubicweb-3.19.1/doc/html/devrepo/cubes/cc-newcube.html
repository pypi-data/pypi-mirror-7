
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.2. Creating a new cube from scratch &mdash; CubicWeb 3.18.3</title>
    
    <link rel="stylesheet" href="../../_static/lglb-sphinx-doc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.18.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="CubicWeb 3.18.3" href="../../index.html" />
    <link rel="up" title="1. Cubes" href="index.html" />
    <link rel="next" title="1.3. Available cubes" href="available-cubes.html" />
    <link rel="prev" title="1.1. Standard structure for a cube" href="layout.html" /> 
  </head>
  <body>
<div class="header">
 <a href="http://www.cubicweb.org">
  <img alt="cubicweb logo" src="../../_static/cubicweb.png"/>
 </a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="available-cubes.html" title="1.3. Available cubes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="layout.html" title="1.1. Standard structure for a cube"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">CubicWeb 3.18.3</a> &raquo;</li>
          <li><a href="../index.html" >Repository development</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">1. Cubes</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="layout.html"
                        title="previous chapter">1.1. Standard structure for a cube</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="available-cubes.html"
                        title="next chapter">1.3. Available cubes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/devrepo/cubes/cc-newcube.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="creating-a-new-cube-from-scratch">
<h1>1.2. Creating a new cube from scratch<a class="headerlink" href="#creating-a-new-cube-from-scratch" title="Permalink to this headline">Â¶</a></h1>
<p>Let&#8217;s start by creating the cube environment in which we will develop</p>
<div class="highlight-python"><pre>cd ~/cubes
# use cubicweb-ctl to generate a template for the cube
# will ask some questions, most with nice default
cubicweb-ctl newcube mycube
# makes the cube source code managed by mercurial
cd mycube
hg init
hg add .
hg ci</pre>
</div>
<p>If all went well, you should see the cube you just created in the list
returned by <tt class="docutils literal"><span class="pre">cubicweb-ctl</span> <span class="pre">list</span></tt> in the  <em>Available cubes</em> section.
If not, please refer to <a class="reference internal" href="../../admin/config.html#configurationenv"><em>Environment configuration</em></a>.</p>
<p>To reuse an existing cube, add it to the list named
<tt class="docutils literal"><span class="pre">__depends_cubes__</span></tt> which is defined in <tt class="file docutils literal"><span class="pre">__pkginfo__.py</span></tt>.
This variable is used for the instance packaging (dependencies handled
by system utility tools such as APT) and to find used cubes when the
database for the instance is created (import_erschema(&#8216;MyCube&#8217;) will
not properly work otherwise).</p>
<p>On a Unix system, the available cubes are usually stored in the
directory <tt class="file docutils literal"><span class="pre">/usr/share/cubicweb/cubes</span></tt>. If you are using the
cubicweb mercurial repository (<a class="reference internal" href="../../admin/setup.html#sourceinstallation"><em>Install from source</em></a>), the cubes
are searched in the directory
<tt class="file docutils literal"><span class="pre">/path/to/cubicweb_toplevel/cubes</span></tt>. In this configuration
cubicweb itself ought to be located at
<tt class="file docutils literal"><span class="pre">/path/to/cubicweb_toplevel/cubicweb</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Please note that if you do not wish to use default directory for your cubes
library, you should set the <span class="target" id="index-0"></span><a class="reference internal" href="../../admin/config.html#envvar-CW_CUBES_PATH"><tt class="xref std std-envvar docutils literal"><span class="pre">CW_CUBES_PATH</span></tt></a> environment variable to
add extra directories where cubes will be search, and you&#8217;ll then have to use
the option <cite>&#8211;directory</cite> to specify where you would like to place the source
code of your cube:</p>
<p class="last"><tt class="docutils literal"><span class="pre">cubicweb-ctl</span> <span class="pre">newcube</span> <span class="pre">--directory=/path/to/cubes/library</span> <span class="pre">mycube</span></tt></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="available-cubes.html" title="1.3. Available cubes"
             >next</a> |</li>
        <li class="right" >
          <a href="layout.html" title="1.1. Standard structure for a cube"
             >previous</a> |</li>
        <li><a href="../../index.html">CubicWeb 3.18.3</a> &raquo;</li>
          <li><a href="../index.html" >Repository development</a> &raquo;</li>
          <li><a href="index.html" >1. Cubes</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2014, Logilab.
      Last updated on Mar 11, 2014.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>