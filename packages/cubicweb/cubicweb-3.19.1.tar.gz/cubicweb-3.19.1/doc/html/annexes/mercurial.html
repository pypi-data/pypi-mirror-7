
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. Introducing Mercurial &mdash; CubicWeb 3.18.3</title>
    
    <link rel="stylesheet" href="../_static/lglb-sphinx-doc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.18.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="CubicWeb 3.18.3" href="../index.html" />
    <link rel="up" title="Appendixes" href="index.html" />
    <link rel="next" title="4. Installation dependencies" href="depends.html" />
    <link rel="prev" title="2.4. Implementation" href="rql/implementation.html" /> 
  </head>
  <body>
<div class="header">
 <a href="http://www.cubicweb.org">
  <img alt="cubicweb logo" src="../_static/cubicweb.png"/>
 </a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="depends.html" title="4. Installation dependencies"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="rql/implementation.html" title="2.4. Implementation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">CubicWeb 3.18.3</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Appendixes</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. Introducing Mercurial</a><ul>
<li><a class="reference internal" href="#introduction">3.1. Introduction</a></li>
<li><a class="reference internal" href="#major-commands">3.2. Major commands</a></li>
<li><a class="reference internal" href="#best-practices">3.3. Best Practices</a></li>
<li><a class="reference internal" href="#installation-of-the-forest-extension">3.4. Installation of the forest extension</a></li>
<li><a class="reference internal" href="#more-information">3.5. More information</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="rql/implementation.html"
                        title="previous chapter">2.4. Implementation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="depends.html"
                        title="next chapter">4. Installation dependencies</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/annexes/mercurial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introducing-mercurial">
<span id="mercurialpresentation"></span><h1>3. Introducing Mercurial<a class="headerlink" href="#introducing-mercurial" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>3.1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.selenic.com/mercurial/">Mercurial</a> manages a distributed repository containing revisions
trees (each revision indicates the changes required to obtain the
next, and so on). Locally, we have a repository containing revisions
tree, and a working directory. It is possible
to put in its working directory, one of the versions of its local repository,
modify and then push it in its repository.
It is also possible to get revisions from another repository or to export
its own revisions from the local repository to another repository.</p>
<p>In contrast to CVS/Subversion, we usually create a repository by
project to manage.</p>
<p>In a collaborative development, we usually create a central repository
accessible to all developers of the project. These central repository is used
as a reference. According to its needs, then everyone can have a local repository,
that you will have to synchronize with the central repository from time to time.</p>
</div>
<div class="section" id="major-commands">
<h2>3.2. Major commands<a class="headerlink" href="#major-commands" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Create a local repository:</p>
<div class="highlight-python"><pre>hg clone ssh://myhost//home/src/repo</pre>
</div>
</li>
<li><p class="first">See the contents of the local repository (graphical tool in Tk):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">hgview</span>
</pre></div>
</div>
</li>
<li><p class="first">Add a sub-directory or file in the current directory:</p>
<div class="highlight-python"><pre>hg add subdir</pre>
</div>
</li>
<li><p class="first">Move to the working directory a specific revision (or last
revision) from the local repository:</p>
<div class="highlight-python"><pre>hg update [identifier-revision]
hg up [identifier-revision]</pre>
</div>
</li>
<li><p class="first">Get in its local repository, the tree of revisions contained in a
remote repository (this does not change the local directory):</p>
<div class="highlight-python"><pre>hg pull ssh://myhost//home/src/repo
hg pull -u ssh://myhost//home/src/repo # equivalent to pull + update</pre>
</div>
</li>
<li><p class="first">See what are the heads of branches of the local repository if a <cite>pull</cite>
returned a new branch:</p>
<div class="highlight-python"><pre>hg heads</pre>
</div>
</li>
<li><p class="first">Submit the working directory in the local repository (and create a new
revision):</p>
<div class="highlight-python"><pre>hg commit
hg ci</pre>
</div>
</li>
<li><p class="first">Merge with the mother revision of local directory, another revision from
the local respository (the new revision will be then two mothers
revisions):</p>
<div class="highlight-python"><pre>hg merge identifier-revision</pre>
</div>
</li>
<li><p class="first">Export to a remote repository, the tree of revisions in its content
local respository (this does not change the local directory):</p>
<div class="highlight-python"><pre>hg push ssh://myhost//home/src/repo</pre>
</div>
</li>
<li><p class="first">See what local revisions are not in another repository:</p>
<div class="highlight-python"><pre>hg outgoing ssh://myhost//home/src/repo</pre>
</div>
</li>
<li><p class="first">See what are the revisions of a repository not found locally:</p>
<div class="highlight-python"><pre>hg incoming ssh://myhost//home/src/repo</pre>
</div>
</li>
<li><p class="first">See what is the revision of the local repository which has been taken out
from the working directory and amended:</p>
<div class="highlight-python"><pre>hg parent</pre>
</div>
</li>
<li><p class="first">See the differences between the working directory and the mother revision
of the local repository, possibly to submit them in the local repository:</p>
<div class="highlight-python"><pre>hg diff
hg commit-tool
hg ct</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="best-practices">
<h2>3.3. Best Practices<a class="headerlink" href="#best-practices" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>Remember to <cite>hg pull -u</cite> regularly, and particularly before</dt>
<dd><p class="first last">a <cite>hg commit</cite>.</p>
</dd>
</dl>
</li>
<li><p class="first">Remember to <cite>hg push</cite> when your repository contains a version
relatively stable of your changes.</p>
</li>
<li><p class="first">If a <cite>hg pull -u</cite> created a new branch head:</p>
<blockquote>
<div><ol class="arabic simple">
<li>find its identifier with <cite>hg head</cite></li>
<li>merge with <cite>hg merge</cite></li>
<li><cite>hg ci</cite></li>
<li><cite>hg push</cite></li>
</ol>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="installation-of-the-forest-extension">
<h2>3.4. Installation of the forest extension<a class="headerlink" href="#installation-of-the-forest-extension" title="Permalink to this headline">¶</a></h2>
<p>Set up the forest extension by getting a copy of the sources
from <a class="reference external" href="http://hg.akoha.org/hgforest/">http://hg.akoha.org/hgforest/</a> and adding the following
lines to your <tt class="docutils literal"><span class="pre">~/.hgrc</span></tt>:</p>
<div class="highlight-python"><pre>[extensions]
hgext.forest=
# or, if forest.py is not in the hgext dir:
# forest=/path/to/forest.py</pre>
</div>
</div>
<div class="section" id="more-information">
<h2>3.5. More information<a class="headerlink" href="#more-information" title="Permalink to this headline">¶</a></h2>
<p>For more information about Mercurial, please refer to the Mercurial project online <a class="reference external" href="http://www.selenic.com/mercurial/wiki/">documentation</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="depends.html" title="4. Installation dependencies"
             >next</a> |</li>
        <li class="right" >
          <a href="rql/implementation.html" title="2.4. Implementation"
             >previous</a> |</li>
        <li><a href="../index.html">CubicWeb 3.18.3</a> &raquo;</li>
          <li><a href="index.html" >Appendixes</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2014, Logilab.
      Last updated on Mar 11, 2014.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>