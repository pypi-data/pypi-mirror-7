
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. Set-up of a CubicWeb environment &mdash; CubicWeb 3.18.3</title>
    
    <link rel="stylesheet" href="../_static/lglb-sphinx-doc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.18.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="CubicWeb 3.18.3" href="../index.html" />
    <link rel="up" title="Administration" href="index.html" />
    <link rel="next" title="4. cubicweb-ctl tool" href="cubicweb-ctl.html" />
    <link rel="prev" title="2. Installing a development environement on Windows" href="setup-windows.html" /> 
  </head>
  <body>
<div class="header">
 <a href="http://www.cubicweb.org">
  <img alt="cubicweb logo" src="../_static/cubicweb.png"/>
 </a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cubicweb-ctl.html" title="4. cubicweb-ctl tool"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="setup-windows.html" title="2. Installing a development environement on Windows"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">CubicWeb 3.18.3</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Administration</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. Set-up of a <em>CubicWeb</em> environment</a><ul>
<li><a class="reference internal" href="#ressourcesconfiguration">3.1. Cubicweb resources configuration</a><ul>
<li><a class="reference internal" href="#resource-mode">3.1.1. Resource mode</a><ul>
<li><a class="reference internal" href="#standard-resource-mode">3.1.1.1. Standard resource mode</a></li>
<li><a class="reference internal" href="#within-virtual-environment">3.1.1.2. Within virtual environment</a></li>
<li><a class="reference internal" href="#custom-resource-location">3.1.1.3. Custom resource location</a></li>
<li><a class="reference internal" href="#setting-cubicweb-mode">3.1.1.4. Setting Cubicweb Mode</a></li>
<li><a class="reference internal" href="#development-mode">3.1.1.5. Development Mode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment-configuration">3.1.2. Environment configuration</a><ul>
<li><a class="reference internal" href="#python">3.1.2.1. Python</a></li>
<li><a class="reference internal" href="#cubicweb">3.1.2.2. CubicWeb</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#databases-configuration">3.2. Databases configuration</a><ul>
<li><a class="reference internal" href="#postgresql">3.2.1. PostgreSQL</a><ul>
<li><a class="reference internal" href="#database-cluster">3.2.1.1. Database cluster</a></li>
<li><a class="reference internal" href="#database-authentication">3.2.1.2. Database authentication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mysql">3.2.2. MySql</a></li>
<li><a class="reference internal" href="#sqlserver">3.2.3. SQLServer</a></li>
<li><a class="reference internal" href="#sqlite">3.2.4. SQLite</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyroconfiguration">3.3. Pyro configuration</a><ul>
<li><a class="reference internal" href="#pyro-name-server">3.3.1. Pyro name server</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="setup-windows.html"
                        title="previous chapter">2. Installing a development environement on Windows</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cubicweb-ctl.html"
                        title="next chapter">4. <tt class="docutils literal"><span class="pre">cubicweb-ctl</span></tt> tool</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/admin/config.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="set-up-of-a-cubicweb-environment">
<span id="configenv"></span><h1>3. Set-up of a <em>CubicWeb</em> environment<a class="headerlink" href="#set-up-of-a-cubicweb-environment" title="Permalink to this headline">¶</a></h1>
<p>You can <a class="reference internal" href="#databaseinstallation">configure the database</a> system of your choice:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#postgresqlconfiguration">PostgreSQL configuration</a></li>
<li><a class="reference internal" href="#mysqlconfiguration">MySql configuration</a></li>
<li><a class="reference internal" href="#sqlserverconfiguration">SQLServer configuration</a></li>
<li><a class="reference internal" href="#sqliteconfiguration">SQLite configuration</a></li>
</ul>
</div></blockquote>
<p>For advanced features, have a look to:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#pyroconfiguration">Pyro configuration</a></li>
<li><a class="reference internal" href="#ressourcesconfiguration">Cubicweb resources configuration</a></li>
</ul>
</div></blockquote>
<div class="section" id="ressourcesconfiguration">
<span id="id1"></span><h2>3.1. Cubicweb resources configuration<a class="headerlink" href="#ressourcesconfiguration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="resource-mode">
<span id="resourcemode"></span><h3>3.1.1. Resource mode<a class="headerlink" href="#resource-mode" title="Permalink to this headline">¶</a></h3>
<div class="section" id="standard-resource-mode">
<h4>3.1.1.1. Standard resource mode<a class="headerlink" href="#standard-resource-mode" title="Permalink to this headline">¶</a></h4>
<p>A resource <em>mode</em> is a predefined set of settings for various resources
directories, such as cubes, instances, etc. to ease development with the
framework. There are two running modes with <em>CubicWeb</em>:</p>
<ul>
<li><p class="first"><strong>system</strong>: resources are searched / created in the system directories (eg
usually requiring root access):</p>
<ul class="simple">
<li>instances are stored in <tt class="file docutils literal"><span class="pre">&lt;INSTALL_PREFIX&gt;/etc/cubicweb.d</span></tt></li>
<li>temporary files (such as pid file) in <tt class="file docutils literal"><span class="pre">&lt;INSTALL_PREFIX&gt;/var/run/cubicweb</span></tt></li>
</ul>
<p>where <cite>&lt;INSTALL_PREFIX&gt;</cite> is the detected installation prefix (&#8216;/usr/local&#8217; for
instance).</p>
</li>
<li><p class="first"><strong>user</strong>: resources are searched / created in the user home directory:</p>
<ul class="simple">
<li>instances are stored in <tt class="file docutils literal"><span class="pre">~/etc/cubicweb.d</span></tt></li>
<li>temporary files (such as pid file) in <tt class="file docutils literal"><span class="pre">/tmp</span></tt></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="within-virtual-environment">
<span id="cubicwebwithinvirtualenv"></span><h4>3.1.1.2. Within virtual environment<a class="headerlink" href="#within-virtual-environment" title="Permalink to this headline">¶</a></h4>
<p>If you are not administrator of you machine or if you need to play with some
specific version of <em>CubicWeb</em> you can use <a class="reference external" href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> a tool to create
isolated Python environments.</p>
<ul class="simple">
<li>instances are stored in <tt class="file docutils literal"><span class="pre">&lt;VIRTUAL_ENV&gt;/etc/cubicweb.d</span></tt></li>
<li>temporary files (such as pid file) in <tt class="file docutils literal"><span class="pre">&lt;VIRTUAL_ENV&gt;/var/run/cubicweb</span></tt></li>
</ul>
</div>
<div class="section" id="custom-resource-location">
<h4>3.1.1.3. Custom resource location<a class="headerlink" href="#custom-resource-location" title="Permalink to this headline">¶</a></h4>
<p>Notice that each resource path may be explicitly set using an environment
variable if the default doesn&#8217;t suit your needs. Here are the default resource
directories that are affected according to mode:</p>
<ul>
<li><p class="first"><strong>system</strong>:</p>
<div class="highlight-python"><pre>CW_INSTANCES_DIR = &lt;INSTALL_PREFIX&gt;/etc/cubicweb.d/
CW_INSTANCES_DATA_DIR = &lt;INSTALL_PREFIX&gt;/var/lib/cubicweb/instances/
CW_RUNTIME_DIR = &lt;INSTALL_PREFIX&gt;/var/run/cubicweb/</pre>
</div>
</li>
<li><p class="first"><strong>user</strong>:</p>
<div class="highlight-python"><pre>CW_INSTANCES_DIR = ~/etc/cubicweb.d/
CW_INSTANCES_DATA_DIR = ~/etc/cubicweb.d/
CW_RUNTIME_DIR = /tmp</pre>
</div>
</li>
</ul>
<p>Cubes search path is also affected, see the <a class="reference internal" href="../intro/concepts.html#cube"><em>Cubes</em></a> section.</p>
</div>
<div class="section" id="setting-cubicweb-mode">
<h4>3.1.1.4. Setting Cubicweb Mode<a class="headerlink" href="#setting-cubicweb-mode" title="Permalink to this headline">¶</a></h4>
<p>By default, the mode is set to &#8216;system&#8217; for standard installation. The mode is
set to &#8216;user&#8217; if <a class="reference internal" href="#cubicwebdevelopmentmod">cubicweb is used from a mercurial repository</a>. You can force
this by setting the <span class="target" id="index-0"></span><a class="reference internal" href="#envvar-CW_MODE"><tt class="xref std std-envvar docutils literal"><span class="pre">CW_MODE</span></tt></a> environment variable to either &#8216;user&#8217; or
&#8216;system&#8217; so you can easily:</p>
<ul class="simple">
<li>use system wide installation but user specific instances and all, without root
privileges on the system (<cite>export CW_MODE=user</cite>)</li>
<li>use local checkout of cubicweb on system wide instances (requires root
privileges on the system (<cite>export CW_MODE=system</cite>)</li>
</ul>
<p>If you&#8217;ve a doubt about the mode you&#8217;re currently running, check the first line
outputed by the <strong class="command">cubicweb-ctl list</strong> command.</p>
</div>
<div class="section" id="development-mode">
<span id="cubicwebdevelopmentmod"></span><h4>3.1.1.5. Development Mode<a class="headerlink" href="#development-mode" title="Permalink to this headline">¶</a></h4>
<p>If <tt class="file docutils literal"><span class="pre">.hg</span></tt> directory is found into the cubicweb package, there are specific resource rules.</p>
<p><cite>&lt;CW_SOFTWARE_ROOT&gt;</cite> is the mercurial checkout of cubicweb:</p>
<ul class="simple">
<li>main cubes directory is <cite>&lt;CW_SOFTWARE_ROOT&gt;/../cubes</cite>. You can specify
another one with <span class="target" id="index-1"></span><a class="reference internal" href="#envvar-CW_INSTANCES_DIR"><tt class="xref std std-envvar docutils literal"><span class="pre">CW_INSTANCES_DIR</span></tt></a> environment variable or simply
add some other directories by using <span class="target" id="index-2"></span><a class="reference internal" href="#envvar-CW_CUBES_PATH"><tt class="xref std std-envvar docutils literal"><span class="pre">CW_CUBES_PATH</span></tt></a></li>
<li>cubicweb migration files are searched in <cite>&lt;CW_SOFTWARE_ROOT&gt;/misc/migration</cite>
instead of <cite>&lt;INSTALL_PREFIX&gt;/share/cubicweb/migration/</cite>.</li>
</ul>
</div>
</div>
<div class="section" id="environment-configuration">
<span id="configurationenv"></span><h3>3.1.2. Environment configuration<a class="headerlink" href="#environment-configuration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="python">
<h4>3.1.2.1. Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h4>
<p>If you installed <em>CubicWeb</em> by cloning the Mercurial forest or from source
distribution, then you will need to update the environment variable PYTHONPATH by
adding the path to the forest <cite>cubicweb</cite>:</p>
<p>Add the following lines to either <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> or <tt class="file docutils literal"><span class="pre">.bash_profile</span></tt> to
configure your development environment</p>
<div class="highlight-python"><pre>export PYTHONPATH=/full/path/to/cubicweb-forest</pre>
</div>
<p>If you installed <em>CubicWeb</em> with packages, no configuration is required and your
new cubes will be placed in <cite>/usr/share/cubicweb/cubes</cite> and your instances will
be placed in <cite>/etc/cubicweb.d</cite>.</p>
</div>
<div class="section" id="cubicweb">
<h4>3.1.2.2. CubicWeb<a class="headerlink" href="#cubicweb" title="Permalink to this headline">¶</a></h4>
<p>Here are all environment variables that may be used to configure <em>CubicWeb</em>:</p>
<dl class="envvar">
<dt id="envvar-CW_MODE">
<tt class="descname">CW_MODE</tt><a class="headerlink" href="#envvar-CW_MODE" title="Permalink to this definition">¶</a></dt>
<dd><p>Resource mode: user or system, as explained in <a class="reference internal" href="#resourcemode"><em>Resource mode</em></a>.</p>
</dd></dl>

<dl class="envvar">
<dt id="envvar-CW_CUBES_PATH">
<tt class="descname">CW_CUBES_PATH</tt><a class="headerlink" href="#envvar-CW_CUBES_PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Augments the default search path for cubes. You may specify several
directories using &#8216;:&#8217; as separator (&#8216;;&#8217; under windows environment).</p>
</dd></dl>

<dl class="envvar">
<dt id="envvar-CW_INSTANCES_DIR">
<tt class="descname">CW_INSTANCES_DIR</tt><a class="headerlink" href="#envvar-CW_INSTANCES_DIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Directory where cubicweb instances will be found.</p>
</dd></dl>

<dl class="envvar">
<dt id="envvar-CW_INSTANCES_DATA_DIR">
<tt class="descname">CW_INSTANCES_DATA_DIR</tt><a class="headerlink" href="#envvar-CW_INSTANCES_DATA_DIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Directory where cubicweb instances data will be written (backup file...)</p>
</dd></dl>

<dl class="envvar">
<dt id="envvar-CW_RUNTIME_DIR">
<tt class="descname">CW_RUNTIME_DIR</tt><a class="headerlink" href="#envvar-CW_RUNTIME_DIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Directory where pid files will be written</p>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="databases-configuration">
<span id="databaseinstallation"></span><h2>3.2. Databases configuration<a class="headerlink" href="#databases-configuration" title="Permalink to this headline">¶</a></h2>
<p>Each instance can be configured with its own database connection information,
that will be stored in the instance&#8217;s <tt class="file docutils literal"><span class="pre">sources</span></tt> file. The database to use
will be chosen when creating the instance. CubicWeb is known to run with
Postgresql (recommended), MySQL, SQLServer and SQLite.</p>
<p>Other possible sources of data include CubicWeb, Subversion, LDAP and Mercurial,
but at least one relational database is required for CubicWeb to work. You do
not need to install a backend that you do not intend to use for one of your
instances. SQLite is not fit for production use, but it works well for testing
and ships with Python, which saves installation time when you want to get
started quickly.</p>
<div class="section" id="postgresql">
<span id="postgresqlconfiguration"></span><h3>3.2.1. PostgreSQL<a class="headerlink" href="#postgresql" title="Permalink to this headline">¶</a></h3>
<p>Many Linux distributions ship with the appropriate PostgreSQL packages.
Basically, you need to install the following packages:</p>
<ul class="simple">
<li><cite>postgresql</cite> and <cite>postgresql-client</cite>, which will pull the respective
versioned packages (e.g. <cite>postgresql-9.1</cite> and <cite>postgresql-client-9.1</cite>) and,
optionally,</li>
<li>a <cite>postgresql-plpython-X.Y</cite> package with a version corresponding to that of
the aforementioned packages (e.g. <cite>postgresql-plpython-9.1</cite>).</li>
</ul>
<p>If you run postgres version prior to 8.3, you&#8217;ll also need the
<cite>postgresql-contrib-8.X</cite> package for full-text search extension.</p>
<p>If you run postgres on another host than the <em>CubicWeb</em> repository, you should
install the <cite>postgresql-client</cite> package on the <em>CubicWeb</em> host, and others on the
database host.</p>
<p>For extra details concerning installation, please refer to the <a class="reference external" href="http://www.postgresql.org/docs">PostgreSQL
project online documentation</a>.</p>
<div class="section" id="database-cluster">
<h4>3.2.1.1. Database cluster<a class="headerlink" href="#database-cluster" title="Permalink to this headline">¶</a></h4>
<p>If you already have an existing cluster and PostgreSQL server running, you do
not need to execute the initilization step of your PostgreSQL database unless
you want a specific cluster for <em>CubicWeb</em> databases or if your existing
cluster doesn&#8217;t use the UTF8 encoding (see note below).</p>
<p>To initialize a PostgreSQL cluster, use the command <tt class="docutils literal"><span class="pre">initdb</span></tt>:</p>
<div class="highlight-python"><pre>$ initdb -E UTF8 -D /path/to/pgsql</pre>
</div>
<p>Notice the encoding specification. This is necessary since <em>CubicWeb</em> usually
want UTF8 encoded database. If you use a cluster with the wrong encoding, you&#8217;ll
get error like:</p>
<div class="highlight-python"><pre>new encoding (UTF8) is incompatible with the encoding of the template database (SQL_ASCII)
HINT:  Use the same encoding as in the template database, or use template0 as template.</pre>
</div>
<p>Once initialized, start the database server PostgreSQL with the command:</p>
<div class="highlight-python"><pre>$ postgres -D /path/to/psql</pre>
</div>
<p>If you cannot execute this command due to permission issues, please make sure
that your username has write access on the database.</p>
<div class="highlight-python"><pre>$ chown username /path/to/pgsql</pre>
</div>
</div>
<div class="section" id="database-authentication">
<h4>3.2.1.2. Database authentication<a class="headerlink" href="#database-authentication" title="Permalink to this headline">¶</a></h4>
<p>The database authentication is configured in <cite>pg_hba.conf</cite>. It can be either set
to <cite>ident sameuser</cite> or <cite>md5</cite>.  If set to <cite>md5</cite>, make sure to use an existing
user of your database.  If set to <cite>ident sameuser</cite>, make sure that your client&#8217;s
operating system user name has a matching user in the database. If not, please
do as follow to create a user:</p>
<div class="highlight-python"><pre>$ su
$ su - postgres
$ createuser -s -P username</pre>
</div>
<p>The option <cite>-P</cite> (for password prompt), will encrypt the password with the
method set in the configuration file <tt class="file docutils literal"><span class="pre">pg_hba.conf</span></tt>.  If you do not use this
option <cite>-P</cite>, then the default value will be null and you will need to set it
with:</p>
<div class="highlight-python"><pre>$ su postgres -c "echo ALTER USER username WITH PASSWORD 'userpasswd' | psql"</pre>
</div>
<p>The above login/password will be requested when you will create an instance with
<cite>cubicweb-ctl create</cite> to initialize the database of your instance.</p>
<p>Notice that the <cite>cubicweb-ctl db-create</cite> does database initialization that
may requires a postgres superuser. That&#8217;s why a login/password is explicitly asked
at this step, so you can use there a superuser without using this user when running
the instance. Things that require special privileges at this step:</p>
<ul class="simple">
<li>database creation, require the &#8216;create database&#8217; permission</li>
<li>install the plpython extension language (require superuser)</li>
<li>install the tsearch extension for postgres version prior to 8.3 (require superuser)</li>
</ul>
<p>To avoid using a super user each time you create an install, a nice trick is to
install plpython (and tsearch when needed) on the special <cite>template1</cite> database,
so they will be installed automatically when cubicweb databases are created
without even with needs for special access rights. To do so, run</p>
<div class="highlight-python"><pre># Installation of plpythonu language by default ::
$ createlang -U pgadmin plpythonu template1
$ psql -U pgadmin template1
template1=# update pg_language set lanpltrusted=TRUE where lanname='plpythonu';</pre>
</div>
<p>Where <cite>pgadmin</cite> is a postgres superuser. The last command is necessary since by
default plpython is an &#8216;untrusted&#8217; language and as such can&#8217;t be used by non
superuser. This update fix that problem by making it trusted.</p>
<p>To install the tsearch plain-text index extension on postgres prior to 8.3, run:</p>
<div class="highlight-python"><pre>cat /usr/share/postgresql/8.X/contrib/tsearch2.sql | psql -U username template1</pre>
</div>
</div>
</div>
<div class="section" id="mysql">
<span id="mysqlconfiguration"></span><h3>3.2.2. MySql<a class="headerlink" href="#mysql" title="Permalink to this headline">¶</a></h3>
<p>You must add the following lines in <tt class="docutils literal"><span class="pre">/etc/mysql/my.cnf</span></tt> file:</p>
<div class="highlight-python"><pre>transaction-isolation=READ-COMMITTED
default-storage-engine=INNODB
default-character-set=utf8
max_allowed_packet = 128M</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is unclear whether mysql supports indexed string of arbitrary length or
not.</p>
</div>
</div>
<div class="section" id="sqlserver">
<span id="sqlserverconfiguration"></span><h3>3.2.3. SQLServer<a class="headerlink" href="#sqlserver" title="Permalink to this headline">¶</a></h3>
<p>As of this writing, support for SQLServer 2005 is functional but incomplete. You
should be able to connect, create a database and go quite far, but some of the
SQL generated from RQL queries is still currently not accepted by the
backend. Porting to SQLServer 2008 is also an item on the backlog.</p>
<p>The <cite>source</cite> configuration file may look like this (specific parts only are
shown):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">system</span><span class="p">]</span>
<span class="n">db</span><span class="o">-</span><span class="n">driver</span><span class="o">=</span><span class="n">sqlserver2005</span>
<span class="n">db</span><span class="o">-</span><span class="n">user</span><span class="o">=</span><span class="n">someuser</span>
<span class="c"># database password not needed</span>
<span class="c">#db-password=toto123</span>
<span class="c">#db-create/init may ask for a pwd: just say anything</span>
<span class="n">db</span><span class="o">-</span><span class="n">extra</span><span class="o">-</span><span class="n">arguments</span><span class="o">=</span><span class="n">Trusted_Connection</span>
<span class="n">db</span><span class="o">-</span><span class="n">encoding</span><span class="o">=</span><span class="n">utf8</span>
</pre></div>
</div>
<p>You need to change the default settings on the database by running:</p>
<div class="highlight-python"><pre>ALTER DATABASE &lt;databasename&gt; SET READ_COMMITTED_SNAPSHOT ON;</pre>
</div>
<p>The ALTER DATABASE command above requires some permissions that your
user may not have. In that case you will have to ask your local DBA to
run the query for you.</p>
<p>You can check that the setting is correct by running the following
query which must return &#8216;1&#8217;:</p>
<div class="highlight-python"><pre>SELECT is_read_committed_snapshot_on
  FROM sys.databases WHERE name='&lt;databasename&gt;';</pre>
</div>
</div>
<div class="section" id="sqlite">
<span id="sqliteconfiguration"></span><h3>3.2.4. SQLite<a class="headerlink" href="#sqlite" title="Permalink to this headline">¶</a></h3>
<p>SQLite has the great advantage of requiring almost no configuration. Simply
use &#8216;sqlite&#8217; as db-driver, and set path to the dabase as db-name. Don&#8217;t specify
anything for db-user and db-password, they will be ignore anyway.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">SQLite is great for testing and to play with cubicweb but is not suited for
production environments.</p>
</div>
</div>
</div>
<div class="section" id="pyroconfiguration">
<span id="id2"></span><h2>3.3. Pyro configuration<a class="headerlink" href="#pyroconfiguration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pyro-name-server">
<h3>3.3.1. Pyro name server<a class="headerlink" href="#pyro-name-server" title="Permalink to this headline">¶</a></h3>
<p>If you want to use Pyro to access your instance remotely, or to have multi-source
or distributed configuration, it is required to have a Pyro name server running
on your network. By default it is detected by a broadcast request, but you can
specify a location in the instance&#8217;s configuration file.</p>
<p>To do so, you need to :</p>
<ul class="simple">
<li>be sure to have installed it (see <a class="reference internal" href="../annexes/depends.html#installdependencies"><em>Installation dependencies</em></a>)</li>
<li>launch the pyro name server with <cite>pyro-nsd start</cite> before starting cubicweb</li>
<li>under debian, edit the file <tt class="file docutils literal"><span class="pre">/etc/default/pyro-nsd</span></tt> so that the name
server pyro will be launched automatically when the machine fire up</li>
</ul>
<p>Note that you can use the pyro server without a running pyro nameserver.
Refer to <cite>pyro-ns-host</cite> server configuration option for details.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cubicweb-ctl.html" title="4. cubicweb-ctl tool"
             >next</a> |</li>
        <li class="right" >
          <a href="setup-windows.html" title="2. Installing a development environement on Windows"
             >previous</a> |</li>
        <li><a href="../index.html">CubicWeb 3.18.3</a> &raquo;</li>
          <li><a href="index.html" >Administration</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2014, Logilab.
      Last updated on Mar 11, 2014.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>