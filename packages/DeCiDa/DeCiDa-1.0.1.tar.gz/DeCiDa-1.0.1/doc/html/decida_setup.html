

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing, Setting-up, and using DeCiDa &mdash; decida 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="decida 1.0.0 documentation" href="index.html" />
    <link rel="next" title="Basic DeCiDa functions" href="decida_basic.html" />
    <link rel="prev" title="DeCiDa Screen Snapshots" href="decida_screen.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="decida_basic.html" title="Basic DeCiDa functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="decida_screen.html" title="DeCiDa Screen Snapshots"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">decida 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installing-setting-up-and-using-decida">
<h1><strong>Installing, Setting-up, and using DeCiDa</strong><a class="headerlink" href="#installing-setting-up-and-using-decida" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-under-enthought-canopy">
<h2>Installing under Enthought Canopy<a class="headerlink" href="#installing-under-enthought-canopy" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">install in the Canopy Python User Virtual Environment</p>
<blockquote>
<div><p>refer to: <a class="reference external" href="https://support.enthought.com/entries/23389761-Installing-packages-into-Canopy-User-Python-from-the-command-line/">Installing packages into Canopy</a>, <a class="reference external" href="https://support.enthought.com/entries/23646538-Make-Canopy-s-Python-be-your-default-Python-i-e-on-the-PATH-">Canopy python default</a></p>
</div></blockquote>
</li>
<li><p class="first">be sure that User python is in your path:</p>
<div class="highlight-python"><pre>python
&gt;&gt;&gt; import sys; sys.prefix</pre>
</div>
<p>you should see a path like one of the following:</p>
<div class="highlight-python"><pre>/Users/&lt;user&gt;/Library/Enthought/Canopy_32bit/User (MacOs)

/home/&lt;user&gt;/Enthought/Canopy_32bit/User (Linux)</pre>
</div>
</li>
<li><p class="first">unzip/untar the distribution:</p>
<div class="highlight-python"><pre>tar xvfz DeCiDa.1.0.0-tar.gz</pre>
</div>
</li>
<li><p class="first">cd into the distribution directory:</p>
<div class="highlight-python"><pre>cd DeCiDa-1.0.0</pre>
</div>
</li>
<li><p class="first">manually modify the wrapper scripts in the distribution bin directory (run_*), to point to
correct tool locations.</p>
<p>The wrappers have the following references to other tools.
Adjust these as needed, as required by your local environment.</p>
</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">wrapper:</th>
<th class="head">expected tool location:</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>run_hspice</td>
<td>/tools/hspice/bin/hspice</td>
</tr>
<tr class="row-odd"><td>run_matlab</td>
<td>/tools/matlab/bin/matlab</td>
</tr>
<tr class="row-even"><td>run_ngspice</td>
<td>/opt/local/bin/ngspice</td>
</tr>
<tr class="row-odd"><td>run_irun</td>
<td>/tools/cds/bin/irun</td>
</tr>
<tr class="row-even"><td>run_ncsim</td>
<td>/tools/cds/bin/ncsim</td>
</tr>
<tr class="row-odd"><td>run_ncverilog</td>
<td>/tools/cds/bin/ncverilog</td>
</tr>
<tr class="row-even"><td>run_spectre</td>
<td>/tools/cds/bin/spectre</td>
</tr>
<tr class="row-odd"><td>run_viva</td>
<td>/tools/cds/bin/viva</td>
</tr>
<tr class="row-even"><td>run_wavescan</td>
<td>/tools/cds/bin/wavescan</td>
</tr>
</tbody>
</table>
<ul>
<li><p class="first">build and install the distribution:</p>
<div class="highlight-python"><pre>python setup.py build
python setup.py install</pre>
</div>
</li>
<li><p class="first">test the distribution with one test:</p>
<div class="highlight-python"><pre>python
&gt;&gt;&gt; import decida.test.test_Plotterx</pre>
</div>
<p>should display a plot and equation-set text-window</p>
</li>
<li><p class="first">list all of the tests:</p>
<div class="highlight-python"><pre>python
&gt;&gt;&gt; import decida.test
&gt;&gt;&gt; decida.test.test_list()</pre>
</div>
<p>should print all of the tests</p>
</li>
<li><p class="first">do all of the tests:</p>
<div class="highlight-python"><pre>python
&gt;&gt;&gt; import decida.test_all</pre>
</div>
</li>
<li><p class="first">the tests can also be run directly in the unzipped/tarred (pre-install) directory:</p>
<div class="highlight-python"><pre>cd DeCiDa-1.0.0/decida/test
test_DataViewx_4.py</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="first-time-setup">
<h2>First-time setup<a class="headerlink" href="#first-time-setup" title="Permalink to this headline">¶</a></h2>
<p>The setup description assumes the following environment.</p>
<p>The tool wrappers are found in the python bin directory, after
installation (which or whence python to find the bin directory).
They are also found uninstalled in the bin directory.</p>
</div>
<div class="section" id="etc-synthesis-files">
<h2>etc/synthesis files<a class="headerlink" href="#etc-synthesis-files" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" rowspan="2">file :</th>
<th class="head" rowspan="2">&nbsp;</th>
</tr>
<tr class="row-even"></tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>Makefile</td>
<td>example Makefile for verilog simulations</td>
</tr>
<tr class="row-even"><td>simvision_core.tcl</td>
<td>include file for SimVision plot setup</td>
</tr>
<tr class="row-odd"><td>make_body</td>
<td>make include file for verilog simulations</td>
</tr>
<tr class="row-even"><td>make.tsmc130</td>
<td>make include file for tsmc130 technology</td>
</tr>
<tr class="row-odd"><td>make.generic</td>
<td>make include file for generic technology</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="etc-skill-files">
<h2>etc/skill files<a class="headerlink" href="#etc-skill-files" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">skill script:</th>
<th class="head">description:</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>RVBmenu.il</td>
<td>sets up application (schematic) menu</td>
</tr>
<tr class="row-odd"><td>RVBdcdlines.il</td>
<td>(from menu) generates python decida Tckt script</td>
</tr>
<tr class="row-even"><td>RVBvtblines.il</td>
<td>(from menu) generates verilog test-bench directory</td>
</tr>
<tr class="row-odd"><td>RVBcomp.il</td>
<td>(from menu) generates list of schematic components</td>
</tr>
<tr class="row-even"><td>RVButil.il</td>
<td>utilities used in other scripts</td>
</tr>
<tr class="row-odd"><td>RVBdcd_help.txt</td>
<td>help file for generating python script</td>
</tr>
<tr class="row-even"><td>RVBvtb_help.txt</td>
<td>help file for generating verilog testbench</td>
</tr>
</tbody>
</table>
<p>These scripts also expect that the following files are available in the
following locations.  Revise these as appropriate, prior to or after installation:</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" rowspan="2">file :</th>
<th class="head" rowspan="2">&nbsp;</th>
</tr>
<tr class="row-even"></tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>/tools/tsmc/tsmc130/models/spectre/models.scs</td>
<td>model library for Spectre simulations</td>
</tr>
<tr class="row-even"><td>/tools/tsmc/tsmc130/stdcell/verilog/tsmc130g</td>
<td>standard cell library for NCsim simulations</td>
</tr>
<tr class="row-odd"><td>/tools/local/synthesis/make_body</td>
<td>make include file for verilog simulations</td>
</tr>
<tr class="row-even"><td>/tools/local/synthesis/make.tsmc130</td>
<td>make include file for tsmc130 technology</td>
</tr>
<tr class="row-odd"><td>/tools/local/synthesis/make.generic</td>
<td>make include file for generic technology</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="12%" />
<col width="11%" />
<col width="32%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">project</th>
<th class="head">technology</th>
<th class="head">simulator</th>
<th class="head">project_drive</th>
<th class="head">scratch_drive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tsmc130</td>
<td>tsmc130</td>
<td>Spectre</td>
<td>/home/projects/tsmc130/&lt;user&gt;</td>
<td>/scratch/simulation/&lt;user&gt;/tsmc130</td>
</tr>
<tr class="row-odd"><td>generic</td>
<td>tsmc130</td>
<td>Spectre</td>
<td>/home/projects/generic/&lt;user&gt;</td>
<td>/scratch/simulation/&lt;user&gt;/generic</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="first-time-path-setup-for-csh-or-tcsh-shell-users">
<h2>First-time path setup for csh or tcsh shell users<a class="headerlink" href="#first-time-path-setup-for-csh-or-tcsh-shell-users" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">add the following to ~/.cshrc or ~/.tcshrc:</p>
<div class="highlight-python"><pre>path = (/tools/local/bin $path)</pre>
</div>
</li>
<li><p class="first">source ~/.cshrc or ~/.tcshrc:</p>
<div class="highlight-python"><pre>source ~/.cshrc or source ~/.tcshrc</pre>
</div>
</li>
<li><p class="first">re-generate the hashed command database:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">rehash</span>
</pre></div>
</div>
<p>the tools dataview, twin, calc, ... are now in the path</p>
</li>
</ol>
</div>
<div class="section" id="first-time-path-setup-for-bash-shell-users">
<h2>First-time path setup for bash shell users<a class="headerlink" href="#first-time-path-setup-for-bash-shell-users" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">add the following to ~/.bashrc:</p>
<div class="highlight-python"><pre>export PATH=/tools/local/bin:$PATH</pre>
</div>
</li>
<li><p class="first">source ~/.bashrc to get the path to change:</p>
<div class="highlight-python"><pre>. ~/.bashrc</pre>
</div>
<p>the tools dataview, twin, calc, ... are now in the path</p>
</li>
</ol>
</div>
<div class="section" id="first-time-setup-for-ngspice-users">
<h2>First-time setup for NGspice users<a class="headerlink" href="#first-time-setup-for-ngspice-users" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="first-time-setup-for-cadence-users">
<h2>First-time setup for cadence users<a class="headerlink" href="#first-time-setup-for-cadence-users" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">set up the python resource file in your home directory:</p>
<div class="highlight-python"><pre>cp dot/.pythonrc.py  ~/.</pre>
</div>
</li>
<li><p class="first">add or modify your home (~/.cdsinit) file</p>
<blockquote>
<div><p>if you don&#8217;t have a ~/.cdsinit:</p>
<div class="highlight-python"><pre>cp dot/.cdsinit ~/.</pre>
</div>
<p>otherwise add the following lines at the bottom of the file:</p>
<div class="highlight-python"><pre>setSkillPath( append( getSkillPath() list( "/tools/local/skill" )))
load("RVButil.il")
load("RVBmenu.il")
load("RVBdcdlines.il")
load("RVBvtblines.il")</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">you might also want to copy over the ocean resource file if you are
using ocean:</p>
<div class="highlight-python"><pre>cp dot/.oceanrc ~/.</pre>
</div>
</li>
<li><p class="first">modify your project .cdsinit file</p>
<p>add the following lines at the bottom of the file
(modify to project specifics, accordingly):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">RVBproject</span><span class="o">=</span><span class="s">&quot;tsmc130&quot;</span>
<span class="n">RVBtechnology</span><span class="o">=</span><span class="s">&quot;tsmc130&quot;</span>
<span class="n">RVBsimulator</span><span class="o">=</span><span class="s">&quot;Spectre&quot;</span>
<span class="n">RVBscratch</span><span class="o">=</span><span class="s">&quot;/scratch/simulation/&lt;user&gt;/tsmc130&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Start a cadence session. The .cdsinit files will be sourced.
If you&#8217;re already in a cadence session, type this in the CIW:</p>
<div class="highlight-python"><pre>load "~/.cdsinit"</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="generate-a-starter-python-script-for-doing-spectre-simulations">
<h2>Generate a starter python script for doing spectre simulations<a class="headerlink" href="#generate-a-starter-python-script-for-doing-spectre-simulations" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">generate a starter python script:</p>
<ul class="simple">
<li>open a testbench schematic</li>
<li>type y: &#8211;RVB&#8211; menu button will appear at the top of the window</li>
<li>select &#8220;Generate DeCiDa testpack&#8221; from the menu</li>
<li>project, technology, and simulator are filled in based on the values
from First-time setup for cadence users</li>
<li>click &#8220;OK&#8221;: starter script is written to ~/. (HOME directory)</li>
</ul>
</li>
<li><p class="first">netlist the testbench schematic:</p>
<ul class="simple">
<li>Schematic -&gt; Launch -&gt; ADE L</li>
<li>ADE -&gt; Simulation -&gt; Netlist -&gt; Create</li>
</ul>
</li>
<li><p class="first">make a project subdirectory for running the simulations:</p>
<div class="highlight-python"><pre>mkdir /projects/tsmc130/&lt;user&gt;/work/&lt;circuit&gt;</pre>
</div>
</li>
<li><p class="first">move the python script to the subdirectory:</p>
<div class="highlight-python"><pre>cd /projects/tsmc130/&lt;user&gt;/work/&lt;circuit&gt;
mv ~/&lt;circuit&gt;.py .</pre>
</div>
</li>
<li><p class="first">modify the test appropriately
change tstop is usually the only change you need to make initially</p>
</li>
<li><p class="first">run the python script by typing its name</p>
<p>if you type only the script name alone, a test selector dialog
is displayed with test selection boxes</p>
<p>if you type the script name followed by a list of tests, the
tests are run in the same sequence that they were defined in the script.</p>
</li>
</ol>
</div>
<div class="section" id="generate-a-starter-verilog-testbench-for-doing-verilog-simulations">
<h2>Generate a starter verilog testbench for doing verilog simulations<a class="headerlink" href="#generate-a-starter-verilog-testbench-for-doing-verilog-simulations" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">generate a starter verilog testbench:</p>
<ul class="simple">
<li>open a testbench schematic</li>
<li>type y: &#8211;RVB&#8211; menu button will appear at the top of the window</li>
<li>select &#8220;Generate verilog testbench&#8221; from the menu</li>
<li>project, technology, and simulator are filled in based on the values
from First-time setup for cadence users</li>
<li>if there are any wreals in the top-level testbench, then type them into
the &#8220;wreals&#8221; entry box</li>
<li>click &#8220;OK&#8221;: starter testbench directory is written to ~/. (HOME directory)</li>
</ul>
</li>
<li><p class="first">netlist the testbench schematic:</p>
<ul class="simple">
<li>Schematic -&gt; Launch -&gt; Simulation/ncVerilog</li>
<li>generate run-directory (press 1st icon)</li>
<li>netlist (press 2nd icon)</li>
</ul>
</li>
<li><p class="first">make a project subdirectory for running the simulations:</p>
<div class="highlight-python"><pre>mkdir /projects/tsmc130/&lt;user&gt;/work/&lt;circuit&gt;</pre>
</div>
</li>
<li><p class="first">move the testbench files to the subdirectory:</p>
<div class="highlight-python"><pre>cd /projects/tsmc130/&lt;user&gt;/work/&lt;circuit&gt;
mv ~/tb_&lt;circuit&gt; .</pre>
</div>
</li>
<li><p class="first">change to the tb_&lt;circuit&gt; directory and run the generate_ncsim.py script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">generate_ncsim</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>this produces the module library: ncsim_tb_&lt;circuit&gt;/lib_tb_&lt;circuit&gt;</p>
</li>
<li><p class="first">modify the automatically-generated testbench tb_&lt;circuit&gt;.v appropriately</p>
</li>
<li><p class="first">run ncsim (ncs-pre means ncsim, pre-synthesis, type &#8220;make&#8221; to find out other options):</p>
<div class="highlight-python"><pre>make ncs-pre</pre>
</div>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><strong>Installing, Setting-up, and using DeCiDa</strong></a><ul>
<li><a class="reference internal" href="#installing-under-enthought-canopy">Installing under Enthought Canopy</a></li>
<li><a class="reference internal" href="#first-time-setup">First-time setup</a></li>
<li><a class="reference internal" href="#etc-synthesis-files">etc/synthesis files</a></li>
<li><a class="reference internal" href="#etc-skill-files">etc/skill files</a></li>
<li><a class="reference internal" href="#first-time-path-setup-for-csh-or-tcsh-shell-users">First-time path setup for csh or tcsh shell users</a></li>
<li><a class="reference internal" href="#first-time-path-setup-for-bash-shell-users">First-time path setup for bash shell users</a></li>
<li><a class="reference internal" href="#first-time-setup-for-ngspice-users">First-time setup for NGspice users</a></li>
<li><a class="reference internal" href="#first-time-setup-for-cadence-users">First-time setup for cadence users</a></li>
<li><a class="reference internal" href="#generate-a-starter-python-script-for-doing-spectre-simulations">Generate a starter python script for doing spectre simulations</a></li>
<li><a class="reference internal" href="#generate-a-starter-verilog-testbench-for-doing-verilog-simulations">Generate a starter verilog testbench for doing verilog simulations</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="decida_screen.html"
                        title="previous chapter"><strong>DeCiDa Screen Snapshots</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="decida_basic.html"
                        title="next chapter"><strong>Basic DeCiDa functions</strong></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/decida_setup.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="decida_basic.html" title="Basic DeCiDa functions"
             >next</a> |</li>
        <li class="right" >
          <a href="decida_screen.html" title="DeCiDa Screen Snapshots"
             >previous</a> |</li>
        <li><a href="index.html">decida 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Richard Booth.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>