

START
test_run=user_sienkiew_2014-08-06-14-51-04
project=default
host=banana
location=/Users/sienkiew/work/pandokia/test_new/database/library/mysql1.py
test_runner=minipyt
context=default
SETDEFAULT
test_name=database/library/mysql1
status=E
start_time=1407351066.2
end_time=1407351066.84
log:
.Traceback (most recent call last):
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/helpers/runner_minipyt.py", line 580, in process_file
.    module = imp.load_source( module_name, filename )
.  File "mysql1.py", line 2, in <module>
.    dbx = d_open.mysql(1)
.  File "d_open.py", line 25, in mysql
.    dbx.execute('drop table if exists test_table')
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/db_mysqldb.py", line 99, in execute
.    self.open()
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/db_mysqldb.py", line 58, in open
.    self.db = db_module.connect( ** ( self.db_access_arg ) )
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/site-packages/MySQLdb/__init__.py", line 81, in Connect
.    return Connection(*args, **kwargs)
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/site-packages/MySQLdb/connections.py", line 187, in __init__
.    super(Connection, self).__init__(*args, **kwargs2)
.OperationalError: (1045, "Access denied for user 'pandokia_test'@'localhost' (using password: YES)")

END


START
test_run=user_sienkiew_2014-08-06-14-51-04
project=default
host=banana
location=/Users/sienkiew/work/pandokia/test_new/database/library/mysql2.py
test_runner=minipyt
context=default
SETDEFAULT
test_name=database/library/mysql2.t020_csv
status=E
start_time=1407351067.03
end_time=1407351067.07
log:
.Traceback (most recent call last):
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/helpers/runner_minipyt.py", line 159, in run_test_function
.    ob()
.  File "csv_t.py", line 17, in t020_csv
.    dbx.table_to_csv( 'test_table', out )
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/db.py", line 165, in table_to_csv
.    c = self.execute('SELECT * FROM %s LIMIT 1'%tablename )
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/db_mysqldb.py", line 99, in execute
.    self.open()
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/db_mysqldb.py", line 58, in open
.    self.db = db_module.connect( ** ( self.db_access_arg ) )
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/site-packages/MySQLdb/__init__.py", line 81, in Connect
.    return Connection(*args, **kwargs)
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/site-packages/MySQLdb/connections.py", line 187, in __init__
.    super(Connection, self).__init__(*args, **kwargs2)
.OperationalError: (1045, "Access denied for user 'pandokia_test'@'localhost' (using password: YES)")

END
test_name=database/library/mysql2.t100_explain_runs_no_dict
status=E
start_time=1407351067.07
end_time=1407351067.07
log:
.Traceback (most recent call last):
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/helpers/runner_minipyt.py", line 159, in run_test_function
.    ob()
.  File "shared2.py", line 8, in t100_explain_runs_no_dict
.    x = dbx.explain_query("select * from test_table", { } )
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/db_mysqldb.py", line 81, in explain_query
.    self.open()
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/db_mysqldb.py", line 58, in open
.    self.db = db_module.connect( ** ( self.db_access_arg ) )
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/site-packages/MySQLdb/__init__.py", line 81, in Connect
.    return Connection(*args, **kwargs)
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/site-packages/MySQLdb/connections.py", line 187, in __init__
.    super(Connection, self).__init__(*args, **kwargs2)
.OperationalError: (1045, "Access denied for user 'pandokia_test'@'localhost' (using password: YES)")

END
test_name=database/library/mysql2
status=P
start_time=1407351066.95
end_time=1407351067.07
log:
.function t020_csv as t020_csv
.function t100_explain_runs_no_dict as t100_explain_runs_no_dict
.tests completed

END


START
test_run=user_sienkiew_2014-08-06-14-51-04
project=default
host=banana
location=/Users/sienkiew/work/pandokia/test_new/database/library/postgres1.py
test_runner=minipyt
context=default
SETDEFAULT
test_name=database/library/postgres1
status=E
start_time=1407351067.19
end_time=1407351067.19
log:
.Traceback (most recent call last):
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/helpers/runner_minipyt.py", line 580, in process_file
.    module = imp.load_source( module_name, filename )
.  File "postgres1.py", line 6, in <module>
.    dbx = d_open.postgres(1)
.  File "d_open.py", line 40, in postgres
.    d = get_db_access('psycopg2')
.  File "d_open.py", line 17, in get_db_access
.    raise NotImplementedError("database %s not enabled in %s/config" % (dbname, os.environ['PDK_TOP']) )
.NotImplementedError: database psycopg2 not enabled in /Users/sienkiew/work/pandokia/test_new/config

END


START
test_run=user_sienkiew_2014-08-06-14-51-04
project=default
host=banana
location=/Users/sienkiew/work/pandokia/test_new/database/library/postgres2.py
test_runner=minipyt
context=default
SETDEFAULT
test_name=database/library/postgres2
status=E
start_time=1407351067.3
end_time=1407351067.3
log:
.Traceback (most recent call last):
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/helpers/runner_minipyt.py", line 580, in process_file
.    module = imp.load_source( module_name, filename )
.  File "postgres2.py", line 2, in <module>
.    dbx = d_open.postgres(0)
.  File "d_open.py", line 40, in postgres
.    d = get_db_access('psycopg2')
.  File "d_open.py", line 17, in get_db_access
.    raise NotImplementedError("database %s not enabled in %s/config" % (dbname, os.environ['PDK_TOP']) )
.NotImplementedError: database psycopg2 not enabled in /Users/sienkiew/work/pandokia/test_new/config

END


START
test_run=user_sienkiew_2014-08-06-14-51-04
project=default
host=banana
location=/Users/sienkiew/work/pandokia/test_new/database/library/sqlite1.py
test_runner=minipyt
context=default
SETDEFAULT
test_name=database/library/sqlite1.t000_create
status=P
start_time=1407351067.58
end_time=1407351067.58
log=
END
test_name=database/library/sqlite1.t004_insert
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.insert

END
test_name=database/library/sqlite1.t005_select_1
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.result [('a', 'b', 1)]

END
test_name=database/library/sqlite1.t005_select_2
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.result [('a', 'b', 1), ('a', 'c', 2), ('aaa', 'bbb', 111)]
.expect [('a', 'b', 1), ('a', 'c', 2), ('aaa', 'bbb', 111)]

END
test_name=database/library/sqlite1.t010_where_1
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.where_text: WHERE   (  first = :0  )  AND  (  second = :1  )  AND  (  third = :2  OR  third = :3  OR  third = :4  )  AND X = 1 
.where_dict:{'0': '1', '1': '2', '2': '3a', '3': '3b', '4': '3c'}
. None

END
test_name=database/library/sqlite1.t010_where_blank
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.where_text: 
.where_dict:{}
. None

END
test_name=database/library/sqlite1.t010_where_eat_wild
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.where_text: 
.where_dict:{}
. None

END
test_name=database/library/sqlite1.t010_where_eat_wild_2
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.where_text: 
.where_dict:{}
. None

END
test_name=database/library/sqlite1.t010_where_glob_1
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.content-type: text/plain
.
.[('a', 'a?a')]
.a?a
.content-type: text/plain
.
.[('a', 'a[a')]
.a[a

END
test_name=database/library/sqlite1.t010_where_wild
status=P
start_time=1407351067.58
end_time=1407351067.58
log:
.where_text: 
.where_dict:{}
. None

END
test_name=database/library/sqlite1.t020_csv
status=E
start_time=1407351067.58
end_time=1407351067.61
log:
.a,b,c
.ORDER a,b,c
.Traceback (most recent call last):
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/helpers/runner_minipyt.py", line 159, in run_test_function
.    ob()
.  File "csv_t.py", line 18, in t020_csv
.    s = out.getvalue().replace('\r','')
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/StringIO.py", line 269, in getvalue
.    _complain_ifclosed(self.closed)
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/StringIO.py", line 40, in _complain_ifclosed
.    raise ValueError, "I/O operation on closed file"
.ValueError: I/O operation on closed file

END
test_name=database/library/sqlite1.t020_implicit_sequence
status=P
start_time=1407351067.61
end_time=1407351067.61
log=
END
test_name=database/library/sqlite1.t020_sequence
status=P
start_time=1407351067.61
end_time=1407351067.61
log=
END
test_name=database/library/sqlite1.t030_query_with_where
status=P
start_time=1407351067.61
end_time=1407351067.61
log=
END
test_name=database/library/sqlite1.t030_query_with_where_2
status=P
start_time=1407351067.61
end_time=1407351067.61
log=
END
test_name=database/library/sqlite1.t040_rollback
status=P
start_time=1407351067.61
end_time=1407351067.61
log=
END
test_name=database/library/sqlite1.t99_explain_query_runs
status=P
start_time=1407351067.61
end_time=1407351067.61
log:
.TEXT select a,b from test_table where a = :1
.DICT ('a',)
.(0, 0, 0, 'SEARCH TABLE test_table USING INDEX test_table_index (a=?) (~10 rows)')

END
test_name=database/library/sqlite1.t99_table_usage_runs
status=E
start_time=1407351067.61
end_time=1407351067.61
log:
.Traceback (most recent call last):
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/helpers/runner_minipyt.py", line 159, in run_test_function
.    ob()
.  File "shared.py", line 150, in t99_table_usage_runs
.    print dbx.table_usage()
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/db_sqlite.py", line 162, in table_usage
.    return os.path.getsize(self.db_access_arg)
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/genericpath.py", line 49, in getsize
.    return os.stat(filename).st_size
.TypeError: coercing to Unicode: need string or buffer, dict found

END
test_name=database/library/sqlite1
status=P
start_time=1407351067.41
end_time=1407351067.61
log:
.sample data set
.('a', 'b', 1)
.('a', 'c', 2)
.('aaa', 'bbb', 111)
.function t000_create as t000_create
.function t004_insert as t004_insert
.function t005_select_1 as t005_select_1
.function t005_select_2 as t005_select_2
.function t010_where_1 as t010_where_1
.function t010_where_blank as t010_where_blank
.function t010_where_eat_wild as t010_where_eat_wild
.function t010_where_eat_wild_2 as t010_where_eat_wild_2
.function t010_where_glob_1 as t010_where_glob_1
.function t010_where_wild as t010_where_wild
.function t020_csv as t020_csv
.function t020_implicit_sequence as t020_implicit_sequence
.function t020_sequence as t020_sequence
.function t030_query_with_where as t030_query_with_where
.function t030_query_with_where_2 as t030_query_with_where_2
.function t040_rollback as t040_rollback
.function t99_explain_query_runs as t99_explain_query_runs
.function t99_table_usage_runs as t99_table_usage_runs
.tests completed

END


START
test_run=user_sienkiew_2014-08-06-14-51-04
project=default
host=banana
location=/Users/sienkiew/work/pandokia/test_new/database/library/sqlite2.py
test_runner=minipyt
context=default
SETDEFAULT
test_name=database/library/sqlite2.t020_csv
status=E
start_time=1407351067.76
end_time=1407351067.76
log:
.a,b,c
.ORDER a,b,c
.Traceback (most recent call last):
.  File "/Users/sienkiew/STScI/Ureka/variants/common/lib/python2.7/site-packages/pandokia/helpers/runner_minipyt.py", line 159, in run_test_function
.    ob()
.  File "csv_t.py", line 18, in t020_csv
.    s = out.getvalue().replace('\r','')
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/StringIO.py", line 269, in getvalue
.    _complain_ifclosed(self.closed)
.  File "/Users/sienkiew/STScI/Ureka/python/lib/python2.7/StringIO.py", line 40, in _complain_ifclosed
.    raise ValueError, "I/O operation on closed file"
.ValueError: I/O operation on closed file

END
test_name=database/library/sqlite2.t100_explain_runs_no_dict
status=P
start_time=1407351067.76
end_time=1407351067.76
log:
.TEXT select * from test_table
.DICT {}
.(0, 0, 0, 'SCAN TABLE test_table (~1000000 rows)')

END
test_name=database/library/sqlite2
status=P
start_time=1407351067.73
end_time=1407351067.76
log:
.function t020_csv as t020_csv
.function t100_explain_runs_no_dict as t100_explain_runs_no_dict
.tests completed

END
