/*
 * Compile it with the code generated by opengeode
 * using the following command-line:
 * gcc pong.c integrate-pong.c -DOPENGEODEDEBUG=1
 */

#include "pong_process.h"
#include <stdio.h>

int main ()
{
   pong_data_t input;
   pong_data_t output;

   input.state = PONG_START;

   printf ("State        = %d\n", input.state);
   pongprocess (&input, &output);
   printf ("New State    = %d\n", output.state);

   input = output;

   printf ("State        = %d\n", input.state);
   pongprocess (&input, &output);
   printf ("New State    = %d\n", output.state);

   input = output;
   input.input.value    = pong_recv_ping;
   printf ("State        = %d\n", input.state);
   pongprocess (&input, &output);
   printf ("New State    = %d\n", output.state);


   return 0;
}
