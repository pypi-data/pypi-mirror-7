
    <html>
      <head><title>Test coverage for vnccollab.theme.__init__</title>
      <style type="text/css">
        a {text-decoration: none; display: block; padding-right: 1em;}
        a:hover {background: #EFA;}
        hr {height: 1px; border: none; border-top: 1px solid gray;}
        .notcovered {background: #FCC;}
        .footer {margin: 2em; font-size: small; color: gray;}
      </style>
      </head>
      <body><h1>Test coverage for vnccollab.theme.__init__</h1>
      <table>
    
<tr><td><a href="vnccollab.html">vnccollab/</a></td> <td style="background: red">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 69% (1245 of 4098 uncovered)</td></tr>
<tr><td><a href="vnccollab.theme.html">&nbsp;&nbsp;&nbsp;&nbsp;theme/</a></td> <td style="background: red">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 69% (1245 of 4098 uncovered)</td></tr>
<tr><td><a href="vnccollab.theme.__init__.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__.py</a></td> <td style="background: red">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 77% (5 of 22 uncovered)</td></tr>
</table><hr/>
<pre>    1: from AccessControl import ModuleSecurityInfo
    1: from zope.i18nmessageid import MessageFactory
       
    1: from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
    1: from plone.app.content.browser.tableview import Table
       
    1: messageFactory = MessageFactory('vnccollab.theme')
       
       
    2: def initialize(context):
           """Initializer called when used as a Zope 2 product."""
       
    1: def new_timezone(zone):
           ''' Monkey patching replacement for pytz.timezone'''
 3499:     zone = ZONE_MAP.get(zone, zone)
 3499:     return original_timezone(zone)
       
       
       # Granting permissions for importing zope.component in python scripts
    1: ModuleSecurityInfo("zope.component").declarePublic("getMultiAdapter")
    1: ModuleSecurityInfo("vnccollab.common.livesearch").declarePublic("get_query")
       
       
       # Monkey patching pytz.timezone and pytz.commont_timezones
       
    1: print '*'*80
    1: print 'Patching pytz'
    1: ZONE_MAP = {'Asia/Mumbai': 'Asia/Kolkata',}
       
    1: import pytz
    1: if pytz.timezone.__doc__ != ' Monkey patching replacement for pytz.timezone':
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;     original_timezone = pytz.timezone</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;     pytz.common_timezones.extend(ZONE_MAP.keys())</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;     pytz.common_timezones.sort()</div>       
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;     pytz.timezone = new_timezone</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;     print '*'*80</div>       
       # Manual monkey patching Override render from Table
       
    1: Table.render = ViewPageTemplateFile("browser/templates/table.pt")
       
</pre>

      <div class="footer">
      Generated for revision Niewersjonowany katalog on 2014-02-26 19:06:33.637329Z
      </div>
    </body>
    </html>
