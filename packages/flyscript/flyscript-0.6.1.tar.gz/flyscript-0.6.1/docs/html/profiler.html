<html>
<head>
<link rel="stylesheet" href="ridl.css" />
<link rel="stylesheet" href="flyscript.css" />
<title>FlyScript Documentation</title>
</head>

<body>
<div class="header">
<a href="http://www.riverbed.com"><img src="rb-logo.png" align="left"></a>
<div>
<p class="headerleft">FlyScript Documentation</p>
<p class="headerright"> Version 0.6.1
 - last updated May 01, 2014 at 01:05 PM</p>

</div>

</div>

<div class="navbar">

<div class="links" markdown="1">

<p><span class="toctitle">Quick Links:</span></p>
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="tutorials.html">Tutorials</a></li>
<li>Modules<ul>
<li><a href="common.html"><code>rvbd.common</code></a></li>
<li><a href="shark.html"><code>rvbd.shark</code></a></li>
<li><a href="profiler.html"><code>rvbd.profiler</code></a></li>
</ul>
</li>
<li><a href="rest_apis.html">REST APIs</a></li>
<li><a href="glossary.html">Glossary</a></li>
</ul>
</div>

<div class="toc"><span class="toctitle">On this page:</span><ul>
<li><a href="#rvbdprofiler">rvbd.profiler</a><ul>
<li><a href="#columns">Profiler Columns and Groupbys</a></li>
<li><a href="#profilerobjects">Profiler objects</a></li>
<li><a href="#reportobjects">Base Report object</a></li>
<li><a href="#trafficsummaryreport">Traffic Summary Report</a></li>
<li><a href="#trafficoverallreport">Traffic Overall Time Series Report</a></li>
<li><a href="#trafficflowlistreport">Traffic Flow List Report</a></li>
<li><a href="#identityreport">Identity Report</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content">

<h1 id="rvbdprofiler">rvbd.profiler</h1>
<p>The Profiler package offers a set of interfaces to control and work with
a Cascade Profiler Appliance.</p>
<p>All interaction with a Profiler requires an instance of rvbd.profiler.Profiler.
This class establishes a connection to the Profiler.  </p>
<h2 class="linkable" id="columns"><a href="#columns">Profiler Columns and Groupbys</a><span class="link-icon"></span></h2>
<p>One of the key pieces of information <code>Profiler</code> keeps track of are all of the
different Column types, and under what context they are appropriate.  For
instance, if we are running a Traffic Summary report, then 'time' is not a
valid column of data since this report type organizes its information in other
ways.</p>
<p>Column types fall into two categories: keys and values.  Keys are column types
that represent the primary organization/grouping of the data, and values are
all of the different calculations that can be made.</p>
<p>The contexts for columns that are available are defined by three values: realm,
centricity, and groupby.  A breakdown of how these three inter-relate is shown
in the following table:</p>
<div class="codehilite"><pre>    <span class="o">|-----------------------------+------------+----------------------|</span>
    <span class="o">|</span> <span class="n">realm</span>                       <span class="o">|</span> <span class="n">centricity</span> <span class="o">|</span> <span class="n">groupby</span>              <span class="o">|</span>
    <span class="o">|-----------------------------+------------+----------------------|</span>
    <span class="o">|</span> <span class="n">traffic_summary</span>             <span class="o">|</span> <span class="n">hos</span><span class="p">,</span><span class="kt">int</span>    <span class="o">|</span> <span class="n">all</span> <span class="p">(</span><span class="n">except</span> <span class="n">thu</span><span class="p">)</span>     <span class="o">|</span>
    <span class="o">|</span> <span class="n">traffic_overall_time_series</span> <span class="o">|</span> <span class="n">hos</span><span class="p">,</span><span class="kt">int</span>    <span class="o">|</span> <span class="n">tim</span>                  <span class="o">|</span>
    <span class="o">|</span> <span class="n">traffic_flow_list</span>           <span class="o">|</span> <span class="n">hos</span>        <span class="o">|</span> <span class="n">hos</span>                  <span class="o">|</span>
    <span class="o">|</span> <span class="n">identity_list</span>               <span class="o">|</span> <span class="n">hos</span>        <span class="o">|</span> <span class="n">thu</span>                  <span class="o">|</span>
    <span class="o">|-----------------------------+------------+----------------------|</span>
</pre></div>


<p>As FlyScript develops further, this table and the available permutations will expand.</p>
<p>The <a href="tutorial_profiler.html#a-note-about-columns">Profiler tutorial</a> goes into
more detail on how these columns can be queried.</p>
<h2 class="linkable" id="profilerobjects"><a href="#profilerobjects">Profiler objects</a><span class="link-icon"></span></h2>
<p><a name="class_rvbd_profiler_profiler_Profiler" href="#class_rvbd_profiler_profiler_Profiler" class="linkable">class <code>rvbd.profiler.profiler.Profiler</code><span class="link-icon"></span></a></p>
<p>The Profiler class is the main interface to interact with a Profiler
Appliance.  Primarily this provides an interface to reporting.</p>
<p><strong>Profiler</strong>(<em>host</em>, <em>port</em>=None, <em>auth</em>=None)</p>
<p><div class="docstring" markdown="1">
Establishes a connection to a Profiler appliance.</p>
<p><code>host</code> is the name or IP address of the Profiler to connect to</p>
<p><code>port</code> is the TCP port on which the Profiler appliance listens.
         if this parameter is not specified, the function will
         try to automatically determine the port.</p>
<p><code>auth</code> defines the authentication method and credentials to use
         to access the Profiler.  It should be an instance of
         <a href="common.html#userauth">rvbd.common.UserAuth</a> or <a href="common.html#oauth">rvbd.common.OAuth</a>.</p>
<p><code>force_version</code> is the API version to use when communicating.
         if unspecified, this will use the latest version supported
         by both this implementation and the Profiler appliance.</p>
<p>See the base <a href="common.html#service">Service</a> class for more information
about additional functionality supported.</p>
</div>

<p><a name="method_rvbd_profiler_profiler_Profiler_get_columns" href="#method_rvbd_profiler_profiler_Profiler_get_columns" class="linkable"><strong>get_columns</strong>(<em>columns</em>, <em>groupby</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Return valid Column objects for list of columns</p>
<p><code>columns</code> is a list of strings and/or Column objects</p>
<p><code>groupby</code> will optionally ensure that the selected
          columns are valid for the given groupby</p>
</div>

<p><a name="method_rvbd_profiler_profiler_Profiler_get_columns_by_ids" href="#method_rvbd_profiler_profiler_Profiler_get_columns_by_ids" class="linkable"><strong>get_columns_by_ids</strong>(<em>ids</em>)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Return Column objects that have ids in list of strings <code>ids</code>.</p>
<p><code>ids</code> is a list of integer ids</p>
</div>

<p><a name="method_rvbd_profiler_profiler_Profiler_search_columns" href="#method_rvbd_profiler_profiler_Profiler_search_columns" class="linkable"><strong>search_columns</strong>(<em>realms</em>=None, <em>centricities</em>=None, <em>groupbys</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Identify columns given one or more values for the triplet.</p>
<p>Results will be based on the following relationship table:</p>
<div class="codehilite"><pre><span class="o">|-----------------------------+------------+----------------------|</span>
<span class="o">|</span> <span class="n">realm</span>                       <span class="o">|</span> <span class="n">centricity</span> <span class="o">|</span> <span class="n">groupby</span>              <span class="o">|</span>
<span class="o">|-----------------------------+------------+----------------------|</span>
<span class="o">|</span> <span class="n">traffic_summary</span>             <span class="o">|</span> <span class="n">hos</span><span class="p">,</span><span class="kt">int</span>    <span class="o">|</span> <span class="n">all</span> <span class="p">(</span><span class="n">except</span> <span class="n">thu</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">|</span> <span class="n">traffic_overall_time_series</span> <span class="o">|</span> <span class="n">hos</span><span class="p">,</span><span class="kt">int</span>    <span class="o">|</span> <span class="n">tim</span>                  <span class="o">|</span>
<span class="o">|</span> <span class="n">traffic_flow_list</span>           <span class="o">|</span> <span class="n">hos</span>        <span class="o">|</span> <span class="n">hos</span>                  <span class="o">|</span>
<span class="o">|</span> <span class="n">identity_list</span>               <span class="o">|</span> <span class="n">hos</span>        <span class="o">|</span> <span class="n">thu</span>                  <span class="o">|</span>
<span class="o">|-----------------------------+------------+----------------------|</span>
</pre></div>


</div>

<p><a name="method_rvbd_profiler_profiler_Profiler_version" href="#method_rvbd_profiler_profiler_Profiler_version" class="linkable"><strong>version</strong><span class="link-icon"></span></a></p>
<div class="docstring">

<p>Returns the software version of the Profiler</p>
</div>

<h2 class="linkable" id="reportobjects"><a href="#reportobjects">Base Report object</a><span class="link-icon"></span></h2>
<p><a name="class_rvbd_profiler_report_Report" href="#class_rvbd_profiler_report_Report" class="linkable">class <code>rvbd.profiler.report.Report</code><span class="link-icon"></span></a></p>
<p>This class represents a Profiler report.  This class is normally not
used directly, but instead via subclasses for specific report types.</p>
<p><strong>Report</strong>(<em>profiler</em>)</p>
<div class="docstring">

<p>Initialize a report object.  A report
object is bound to an instance of a Profiler at creation.</p>
</div>

<p><a name="method_rvbd_profiler_report_Report_run" href="#method_rvbd_profiler_report_Report_run" class="linkable"><strong>run</strong>(<em>template_id</em>, <em>timefilter</em>=None, <em>resolution</em>="auto", <em>query</em>=None, <em>trafficexpr</em>=None, <em>data_filter</em>=None, <em>sync</em>=True)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Create the report on Profiler and begin running
the report.  If the <code>sync</code> option is True, periodically
poll until the report is complete, otherwise return
immediately.</p>
<p><code>template_id</code> is the numeric id of the template to use for the report</p>
<p><code>timefilter</code> is the range of time to query, a TimeFilter object</p>
<p><code>resolution</code> is the data resolution (1min, 15min, etc.), defaults to 'auto'</p>
<p><code>query</code> is the query object containing criteria</p>
<p><code>trafficexpr</code> is a TrafficFilter object</p>
<p><code>data_filter</code> is a deprecated filter to run against report data</p>
<p><code>sync</code> if True, poll for status until the report is complete</p>
</div>

<p><a name="method_rvbd_profiler_report_Report_wait_for_complete" href="#method_rvbd_profiler_report_Report_wait_for_complete" class="linkable"><strong>wait_for_complete</strong>(<em>interval</em>=1, <em>timeout</em>=600)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Periodically checks report status and returns when 100% complete</p>
</div>

<p><a name="method_rvbd_profiler_report_Report_status" href="#method_rvbd_profiler_report_Report_status" class="linkable"><strong>status</strong>()<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Query for the status of report.  If the report has not been run,
this returns None.</p>
<p>The return value is a dict containing:</p>
<p><code>status</code> indicating <code>completed</code> when finished</p>
<p><code>percent</code> indicating the percentage complete (0-100)</p>
<p><code>remaining_seconds</code> is an estimate of the time left until complete</p>
</div>

<p><a name="method_rvbd_profiler_report_Report_get_data" href="#method_rvbd_profiler_report_Report_get_data" class="linkable"><strong>get_data</strong>(<em>index</em>=0, <em>columns</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Retrieve the data for this report. If <code>columns</code> is specified,
restrict the data to the list of requested columns.</p>
</div>

<p><a name="method_rvbd_profiler_report_Report_get_iterdata" href="#method_rvbd_profiler_report_Report_get_iterdata" class="linkable"><strong>get_iterdata</strong>(<em>index</em>=0, <em>columns</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Retrieve an iterator on the the data for this report. If
<code>columns</code> is specified, restrict the legend to the list of
requested columns.</p>
</div>

<p><a name="method_rvbd_profiler_report_Report_get_legend" href="#method_rvbd_profiler_report_Report_get_legend" class="linkable"><strong>get_legend</strong>(<em>index</em>=0, <em>columns</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Return a legend describing the columns that are associated with
this report.  If <code>columns</code> is specified, restrict the legend to
the list of requested columns.</p>
</div>

<p><a name="method_rvbd_profiler_report_Report_delete" href="#method_rvbd_profiler_report_Report_delete" class="linkable"><strong>delete</strong>()<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Issue a call to Profiler delete this report.</p>
</div>

<h2 class="linkable" id="trafficsummaryreport"><a href="#trafficsummaryreport">Traffic Summary Report</a><span class="link-icon"></span></h2>
<p><a name="class_rvbd_profiler_report_TrafficSummaryReport" href="#class_rvbd_profiler_report_TrafficSummaryReport" class="linkable">class <code>rvbd.profiler.report.TrafficSummaryReport</code><span class="link-icon"></span></a></p>
<p><strong>TrafficSummaryReport</strong>(<em>profiler</em>)</p>
<div class="docstring">

<p>Create a traffic summary report.  The data is organized by the requested
groupby, and retrieves the selected columns.</p>
</div>

<p><a name="method_rvbd_profiler_report_TrafficSummaryReport_run" href="#method_rvbd_profiler_report_TrafficSummaryReport_run" class="linkable"><strong>run</strong>(<em>groupby</em>, <em>columns</em>, <em>sort_col</em>=None, <em>timefilter</em>=None, <em>trafficexpr</em>=None, <em>host_group_type</em>="ByLocation", <em>resolution</em>="auto", <em>centricity</em>="hos", <em>area</em>=None, <em>sync</em>=True)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>See <code>SingleQueryReport</code> for a description of the arguments.</p>
</div>

<h2 class="linkable" id="trafficoverallreport"><a href="#trafficoverallreport">Traffic Overall Time Series Report</a><span class="link-icon"></span></h2>
<p><a name="class_rvbd_profiler_report_TrafficOverallTimeSeriesReport" href="#class_rvbd_profiler_report_TrafficOverallTimeSeriesReport" class="linkable">class <code>rvbd.profiler.report.TrafficOverallTimeSeriesReport</code><span class="link-icon"></span></a></p>
<p><strong>TrafficOverallTimeSeriesReport</strong>(<em>profiler</em>)</p>
<div class="docstring">

<p>Create an overall time series report.</p>
</div>

<p><a name="method_rvbd_profiler_report_TrafficOverallTimeSeriesReport_run" href="#method_rvbd_profiler_report_TrafficOverallTimeSeriesReport_run" class="linkable"><strong>run</strong>(<em>columns</em>, <em>timefilter</em>=None, <em>trafficexpr</em>=None, <em>resolution</em>="auto", <em>centricity</em>="hos", <em>area</em>=None, <em>sync</em>=True)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>See <code>SingleQueryReport</code> for a description of the arguments.  (Note that
<code>sort_col</code>, <code>groupby</code>, and <code>host_group_type</code> are not applicable to
this report type).</p>
</div>

<h2 class="linkable" id="trafficflowlistreport"><a href="#trafficflowlistreport">Traffic Flow List Report</a><span class="link-icon"></span></h2>
<p><a name="class_rvbd_profiler_report_TrafficFlowListReport" href="#class_rvbd_profiler_report_TrafficFlowListReport" class="linkable">class <code>rvbd.profiler.report.TrafficFlowListReport</code><span class="link-icon"></span></a></p>
<p><strong>TrafficFlowListReport</strong>(<em>profiler</em>)</p>
<div class="docstring">

<p>Create a flow list report.</p>
</div>

<p><a name="method_rvbd_profiler_report_TrafficFlowListReport_run" href="#method_rvbd_profiler_report_TrafficFlowListReport_run" class="linkable"><strong>run</strong>(<em>columns</em>, <em>sort_col</em>=None, <em>timefilter</em>=None, <em>trafficexpr</em>=None, <em>sync</em>=True)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>See <code>SingleQueryReport</code> for a description of the arguments.  (Note that
only <code>columns,</code>sort_col<code>,</code>timefilter<code>, and</code>trafficexpr` apply to this
report type).</p>
</div>

<h2 class="linkable" id="identityreport"><a href="#identityreport">Identity Report</a><span class="link-icon"></span></h2>
<p><a name="class_rvbd_profiler_report_IdentityReport" href="#class_rvbd_profiler_report_IdentityReport" class="linkable">class <code>rvbd.profiler.report.IdentityReport</code><span class="link-icon"></span></a></p>
<p><strong>IdentityReport</strong>(<em>profiler</em>)</p>
<div class="docstring">

<p>Create a report for Active Directory events.</p>
</div>

<p><a name="method_rvbd_profiler_report_IdentityReport_run" href="#method_rvbd_profiler_report_IdentityReport_run" class="linkable"><strong>run</strong>(<em>username</em>=None, <em>timefilter</em>=None, <em>trafficexpr</em>=None, <em>sync</em>=True)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Run complete user identity report over the requested timeframe</p>
<p><code>username</code> specific id to filter results by</p>
<p><code>timefilter</code> is the range of time to query, a TimeFilter object</p>
<p><code>trafficexpr</code> is an optional TrafficFilter object</p>
</div>

</div>

<div class="footer">
Copyright &copy; 2013 Riverbed Technology
</div></body>
</html>
