<html>
<head>
<link rel="stylesheet" href="ridl.css" />
<link rel="stylesheet" href="flyscript.css" />
<title>FlyScript Documentation</title>
</head>

<body>
<div class="header">
<a href="http://www.riverbed.com"><img src="rb-logo.png" align="left"></a>
<div>
<p class="headerleft">FlyScript Documentation</p>
<p class="headerright"> Version 0.6.1
 - last updated May 01, 2014 at 01:05 PM</p>

</div>

</div>

<div class="navbar">

<div class="links" markdown="1">

<p><span class="toctitle">Quick Links:</span></p>
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="tutorials.html">Tutorials</a></li>
<li>Modules<ul>
<li><a href="common.html"><code>rvbd.common</code></a></li>
<li><a href="shark.html"><code>rvbd.shark</code></a></li>
<li><a href="profiler.html"><code>rvbd.profiler</code></a></li>
</ul>
</li>
<li><a href="rest_apis.html">REST APIs</a></li>
<li><a href="glossary.html">Glossary</a></li>
</ul>
</div>

<div class="toc"><span class="toctitle">On this page:</span><ul>
<li><a href="#rvbdcommontimeutils">rvbd.common.timeutils</a><ul>
<li><a href="#handling-time-zones">Handling time zones</a></li>
<li><a href="#conversions">Conversions</a></li>
<li><a href="#parsing-dates-and-times">Parsing dates and times</a></li>
<li><a href="#parsing-time-ranges">Parsing time ranges</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content">

<h1 id="rvbdcommontimeutils">rvbd.common.timeutils</h1>
<p>This module contains a number of utilities for working with
dates and times, in conjunction with the python <code>datetime</code> module.</p>
<h2 id="handling-time-zones">Handling time zones</h2>
<p><a name="function_rvbd_common_timeutils_ensure_timezone" href="#function_rvbd_common_timeutils_ensure_timezone" class="linkable"><strong>ensure_timezone</strong>(<em>dt</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
 Return a datetime object that corresponds to <code>dt</code>
but that always has timezone info.  If <code>dt</code> already
has timezone info, then it is simply returned.  If <code>dt</code>
does not have timezone info, then the local time zone is
assumed.
</div></p>
<p><a name="function_rvbd_common_timeutils_force_to_utc" href="#function_rvbd_common_timeutils_force_to_utc" class="linkable"><strong>force_to_utc</strong>(<em>dt</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
 Return a datetime object that corresponds to <code>dt</code>
but in UTC rather than local time.
If <code>dt</code> includes timezone info, then this routine simply
converts from the given timezone to UTC.
If <code>dt</code> does not include timezone info, then it is assumed
to be in local time, which is then converted to UTC.
</div></p>
<h2 id="conversions">Conversions</h2>
<p>The Shark and Profiler APIs often represesent time as seconds
(or microseconds or nanoseconds) since the Unix epoch (January 1, 1970).
Many of the methods on Shark objects and Profiler objects accept
<code>datetime.datetime</code> objects but if you need to work with the raw
numbers, these routines may be useful:</p>
<p><a name="function_rvbd_common_timeutils_datetime_to_seconds" href="#function_rvbd_common_timeutils_datetime_to_seconds" class="linkable"><strong>datetime_to_seconds</strong>(<em>dt</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
 Return the number of seconds since the Unix epoch
for the datetime object <code>dt</code>
</div></p>
<p><a name="function_rvbd_common_timeutils_datetime_to_microseconds" href="#function_rvbd_common_timeutils_datetime_to_microseconds" class="linkable"><strong>datetime_to_microseconds</strong>(<em>dt</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
 Return the number of microseconds since the Unix epoch
for the datetime object <code>dt</code>
</div></p>
<p><a name="function_rvbd_common_timeutils_datetime_to_nanoseconds" href="#function_rvbd_common_timeutils_datetime_to_nanoseconds" class="linkable"><strong>datetime_to_nanoseconds</strong>(<em>dt</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
 Return the number of nanoseconds since the Unix epoch
for the datetime object <code>dt</code>
</div></p>
<p><a name="function_rvbd_common_timeutils_usec_string_to_datetime" href="#function_rvbd_common_timeutils_usec_string_to_datetime" class="linkable"><strong>usec_string_to_datetime</strong>(<em>s</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
 Convert the string <code>s</code> which represents a time in microseconds
since the Unix epoch to a datetime object
</div></p>
<p><a name="function_rvbd_common_timeutils_nsec_to_datetime" href="#function_rvbd_common_timeutils_nsec_to_datetime" class="linkable"><strong>nsec_to_datetime</strong>(<em>ns</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
Convert the value <code>ns</code> which represents a time in nanoseconds
since the Unix epoch (either as an integer or a string) to a
datetime object
</div></p>
<p><a name="function_rvbd_common_timeutils_usec_string_to_timedelta" href="#function_rvbd_common_timeutils_usec_string_to_timedelta" class="linkable"><strong>usec_string_to_timedelta</strong>(<em>s</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
 Convert the string <code>s</code> which represents a number of microseconds
to a timedelta object
</div></p>
<p><a name="function_rvbd_common_timeutils_timedelta_total_seconds" href="#function_rvbd_common_timeutils_timedelta_total_seconds" class="linkable"><strong>timedelta_total_seconds</strong>(<em>td</em>)<span class="link-icon"></span></a></p>
<p><div class="docstring" markdown="1">
Handle backwards compatability for timedelta.total_seconds.
</div></p>
<h2 id="parsing-dates-and-times">Parsing dates and times</h2>
<p><a name="class_rvbd_common_timeutils_TimeParser" href="#class_rvbd_common_timeutils_TimeParser" class="linkable">class <code>rvbd.common.timeutils.TimeParser</code><span class="link-icon"></span></a></p>
<p>Instances of this class parse strings representing dates and/or
times into python <code>datetime.datetime</code> objects.
This class is capable of parsing a variety of different formats.
On the first call, the method <a href="#method_rvbd_common_timeutils_TimeParser_parse"><code>parse()</code></a> may take some time, as it
tries a series of pre-defined formats one after another.  After
successfully parsing a string, the parser object remembers the format
that was used so subsequent calls with identically formatted strings
are as efficient as the underlying method <code>datetime.strptime</code>.</p>
<p><strong>TimeParser</strong>()</p>
<p><div class="docstring" markdown="1">
Construct a new TimeParser object
</div></p>
<p><a name="method_rvbd_common_timeutils_TimeParser_parse" href="#method_rvbd_common_timeutils_TimeParser_parse" class="linkable"><strong>parse</strong>(<em>s</em>)<span class="link-icon"></span></a></p>
<div class="docstring" markdown="1">

<p>Parse the string <code>s</code> as a date and time.  Returns a
<code>datetime.datetime</code> object on success or raises
<code>ValueError</code> if the string cannot be parsed.</p>
</div>

<p><a name="method_rvbd_common_timeutils_TimeParser_parse_one" href="#method_rvbd_common_timeutils_TimeParser_parse_one" class="linkable"><strong>parse_one</strong>(<em>s</em>)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>do a "one-shot" parsing of string s as a date/time.
doesn't remember anything about the format that was used.</p>
</div>

<h2 id="parsing-time-ranges">Parsing time ranges</h2>
<p><a name="function_rvbd_common_timeutils_parse_timedelta" href="#function_rvbd_common_timeutils_parse_timedelta" class="linkable"><strong>parse_timedelta</strong>(<em>s</em>)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Parse the string <code>s</code> representing some duration of time
(e.g., <code>"3 seconds"</code> or <code>"1 week"</code>) and return a <code>datetime.timedelta</code>
object representing that length of time.
If the string cannot be parsed, raises <code>ValueError</code>.</p>
</div>

<p><a name="function_rvbd_common_timeutils_parse_range" href="#function_rvbd_common_timeutils_parse_range" class="linkable"><strong>parse_range</strong>(<em>s</em>)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Parse the string <code>s</code> representing a range of times
(e.g., <code>"12:00 PM to 1:00 PM"</code> or <code>"last 2 weeks"</code>).
Upon success returns a pair of <code>datetime.datetime</code> objects
representing the beginning and end of the time range.
If the string cannot be parsed, raises <code>ValueError</code>.</p>
</div>

</div>

<div class="footer">
Copyright &copy; 2013 Riverbed Technology
</div></body>
</html>
