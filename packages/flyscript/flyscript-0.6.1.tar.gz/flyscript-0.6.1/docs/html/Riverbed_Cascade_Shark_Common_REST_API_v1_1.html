<html><head><title>common v1.1 API</title>
<script type="text/javascript">function showtab(basename, which)
{
    var lis=document.getElementById(basename+"-tabbar").childNodes; //gets all the LI from the UL
    
    for(i=0;i<lis.length;i++)
    {
        lis[i].className=""; //removes the classname from all the LI
    }

    var selitem=document.getElementById(basename+"-tab-"+which)
    selitem.className="selected"; //the clicked tab gets the classname selected

    var contents=document.getElementById(basename+"-tabcontent");  //the resource for the main tabContent
    contents.innerHTML = document.getElementById(basename+"-"+which).innerHTML;
}
</script>
<style type="text/css"><!--body
{
   height:100%;
   max-height:100%;
   overflow:auto;
   position: absolute;
   top: 0;
   left: 0;
   padding:0;
   margin:0;
   border:0;

   font-family: Helvetica, clean, sans-serif;
   font-size: 11pt;
   background-color: #fff;
}

.header 
{ 
  float: top;
  margin: 10px;
  padding-left: 10px;
  background-color: #ccc;
  border: 1px solid #999;
  height: 50px;
  width: 1160px;
  }

.headerleft 
{ 
  margin-top: 13px;
  font-size: 22pt;
  padding-left: 25px;
  float: left;
  }

.headerright 
{ 
  vertical-align: bottom;
  font-size: 10pt;
  font-style: italic;
  float: right;
  padding-right: 8px;
  padding-top: 30px;
  }

.headerimg 
{ 
  float: left;
  width: 180px; 
  overflow: hidden;
  vertical-align: middle;  
  }

.headerimg img 
{
  width: 100%;
  }

.main
{
   position: fixed;
   top: 70px;
   bottom: 30px;
}

.main-printable
{
  height: 100%;
}

.footer
{
  position: absolute;
  bottom: 0;
  clear:both;
  font-size: 80%;
  font-style: italic;
  color: #666;
  border-top: 1px solid #bbb;
  text-align:center;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin-left: 10px;
  margin-right: 10px;
  margin-top: 10px;
  width: 1172px;
  }

.navbar
{
  clear: left;
  float: left;
  display: block;
  width: 250px;
  margin-left: 10px;
  margin-right: 10px;
  margin-top: 0px;
  overflow: auto;
  height: 100%;
  font-size: 95%;
  border: 1px solid #999;
  }

.toc, .links
{
  background-color: #ccc;
  color: #000;
  margin-left: 0em;
  margin-right: 0px;
  margin-bottom: 1px;
  padding-top: 1px;
  padding-bottom: 1px;
  }

.toc a, .links a
{
  color: #000;
  }

.toctitle
{ 
  font-family: Helvetica, clean, sans-serif;
  font-weight: bold;
  padding-left:0.5em;
  color: #000;
  }

.toc > p, .links > p
{ 
  padding-left:0;
  }

.toc > ul, 
.toc > ul > li > ul,
.toc > ul > li > ul > li > ul,
.toc > ul > li > ul > li > ul > li > ul,
.links > ul,
.links > ul > li> ul,
.links > ul > li > ul > li > ul
{
  font-size: 95%;
  list-style: disc;
  padding-left: 1.5em;
  }


.content
{
  border: 1px solid #bbb;
  position: absolute;
  left: 270px;
  margin-right:5px;
  padding-top:0px;
  padding-right:5px;
  width: 905px;
  height: 100%;
  
  background-color: #ffffff;
  overflow: auto;
  }

.content-printable
{
  margin-top: 0px;
  margin-left: 0px;
  margin-right:0px;
  padding-top:0;
  max-width: 950px;
  background-color: #ffffff;
}

h1, h2, h3, h4, span.h4
{
  color: #111111;
  font-weight: 400;
  padding-left: 0.5em;
  padding-top: 0.4em;
  margin-bottom: 0.3em;
  }

h1
{
  font-size: 170%;
  background-color: #ddd;
  padding-top: 0.4em;
  padding-bottom: 0.2em;
  border-top: 1px solid #CCC;
  border-bottom: 1px solid #CCC;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  }

.break
{
  page-break-before: always;
}

h2
{
  font-size: 150%;
  font-weight: bold;

  margin: 24px 0 6px;
  
  border-top: 1px solid #aaa;
  padding-top: 0.4em;
  padding-bottom: 0.2em;
  margin-bottom: 0.3em;
  }

h3
{
  font-size: 130%;
  font-weight: bold;
  border-top: 1px solid #ccc;
  padding-bottom: 0.2em;
  }

h4, span.h4
{
  font-size: 120%;
  font-weight: bold;
  }

span.h4
{
  display: block;
  clear: both;
}

h5
{
  font-size: 110%;
  }
p
{
  margin-top: 0px;
  margin-left: 20px;
  padding-right: 2em;
  }
a
{
  /*color: #0099ff;*/
  color: #FF8040;

  margin: 0;
  padding: 0;
  vertical-align: baseline;
  }
a:hover
{
  text-decoration: none;
  color: #ff6600;
  }

dt
{ 
  font-size: 105%;
  font-weight: bold;
  padding-left: 0.5em;
  padding-top: 0.6em;
  padding-bottom: 0.2em;
  }

li
{
  line-height: 140%;
  }


pre
{
  margin-left: 20px;
  padding: 0px 24px;
  white-space: pre-wrap;
  font-size: 85%;

  background-color: #ebebff;
  border: 1px dashed #a95;
  overflow: auto;
  padding: 6px 10px;
  }

code
{
  font-family: Consolas, Monaco, Andale Mono, monospace;
  font-size: 90%;
  line-height: 1.5;
  }

table.paramtable 
{
  font-family: verdana,arial,sans-serif;
  font-size:11px;
  color:#333333;
  margin-left: 20px;
  border-width: 1px;
  border-color: #666666;
  border-collapse: collapse;
  }

table.paramtable col.paramtable-propname
{
    width: 20%;
}

table.paramtable col.paramtable-proptype
{
    width: 12%;
}

table.paramtable col.paramtable-description
{
    width: 38%;
}

table.paramtable col.paramtable-notes
{
    width: 30%;
}

table.paramtable th 
{
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #666666;
  background-color: #dedede;
  }

table.paramtable td 
{
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #666666;
  background-color: #ffffff;
  }

pre.jsonschema
{ 
  margin-left: 10px;
  background-color: #ffd;
 }

span.jsonschema-type, a.jsonschema-type

{ 
  color: #070;
  font-style: italic;
 }

span.jsonschema-property
{ 
  color: #009;
  }

span.jsonschema-indent
{
    padding-left: 1em;
}

span.jsonschema-basename
{ 
  color: #666;
  font-style: italic;
  }

span.xmlschema-type, a.xmlschema-type
{ 
  color: #070;
  font-style: italic;
 }

span.xmlschema-attribute
{ 
  color: #099;
  }

span.xmlschema-element
{ 
  color: #009;
  }

span.content-attribute
{
  font-family: Consolas, Monaco, Andale Mono, monospace;
}

.tabContainer
{
  margin-left: 20px;
  }

.tabContainer .digiTabs
{
  list-style:none;
  display:block;
  overflow:hidden;
  margin:0;
  padding:0px;
  position:relative;
  top:1px;
  }
.tabContainer .digiTabs li
{
  float:left;
  background-color:#fff;
  border:1px solid #e1e1e1;
  padding:5px!important;
  cursor:pointer;
  border-bottom:1px solid #e1e1e1;
  margin-right:10px;
  font-family:verdana;
  font-size:.8em;
  font-weight:bold;
  color:#bbb;
  }
.tabContainer .digiTabs .selected
{
  background-color:#fff;
  color:#393939;
  border-bottom:1px solid #fff;
  }

.tabContent
{
  padding-right:10px;
  background-color:#fff;
  overflow:hidden;
  float:left;
  margin-bottom:10px;
  border:1px solid #e1e1e1;
  width:850px;
  }
--></style></head><body>
<div class="header"><a href="http://www.riverbed.com"><img alt="riverbed" class="headerimg" height="39" src="http://www.riverbed.com/assets/images/logos/rb-logo.png" width="194"></a><span class="headerleft">Riverbed Cascade Shark Common REST API v1.1 </span><span class="headerright">Created May 01, 2014 at 01:33 PM</span></div>
<div class="main">
<div class="navbar">
<div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#resources">Resources</a>
<ul>
<li><a href="#resource-information">information</a>
<ul>
<li><a href="#method-get system information">get system information</a></li>
<li><a href="#method-list services">list services</a></li>
<li><a href="#method-ping">ping</a></li></ul></li>
<li><a href="#resource-authentication">authentication</a>
<ul>
<li><a href="#method-authentication info">authentication info</a></li>
<li><a href="#method-login">login</a></li>
<li><a href="#method-logout">logout</a></li></ul></li></ul></li>
<li><a href="#error-codes">Error Codes</a></li></ul></div></div>
<div class="content">
<div><h1 id="overview" style="margin-top:0px">Overview</h1>
<div>
<p>This document describes version 1.1 of the Riverbed Common REST API as implemented by Cascade Shark systems.</p>
<p>The Common REST API is used to obtain general system information and for authentication. </p>
<p>It is assumed that the reader has practical knowledge of RESTful APIs, so the documentation does not go into detail about what REST is and how to use it. Instead the documentation focuses on what data can be accessed or modified, how to access it, and how to encode requests and responses.</p>
<p>The Resources section lists the supported REST resources and the methods supported on these resources. For each operation, the document describes what the operation does, the specific HTTP method and URL used, the data types used for requests and responses (if any) and any required or optional URL parameters.</p>
<p>The Errors section lists the various error codes that may be returned from REST API operations.</p>
<h3>Data Encoding</h3>
<p>Most resources exposed by the API support both XML and JSON encoding for requests and responses. The selection of the specific encoding is accomplished through the use of HTTP headers.</p>
<p>The <code>Accept</code> header should be included with all API requests, and it is used to control the encoding of the response body. To specify XML encoding, the header should be set to <code>Accept: text/xml</code>, and to specify JSON encoding, the header should be set to <code>Accept: application/json</code>. If the <code>Accept</code> header is omitted, the default encoding is XML.</p>
<p>The <code>Content-Type</code> header must be included with all PUT or POST requests that include a request body. To specify XML encoding, the header should be set to <code>Content-Type: text/xml</code>. To specify JSON encoding, the header should be set to <code>Content-Type: application/json</code>.</p>
<p>Some resources support alternative content types for requests and responses, as identified in the specific resource documentation below. </p>
<h3>Authorization</h3>
<p>This common API and other service-specific APIs support various methods of user authentication and authorization.</p>
<ul>
<li>
<p><strong>BASIC</strong> (<em>HTTP Basic Authentication</em>): The username and password are passed using the <code>Authorization</code> HTTP header in each request.</p>
</li>
<li>
<p><strong>COOKIE</strong> (<em>Cookie-based Session Authentication</em>): A valid username and password combination are transmitted in an explicit login request which returns a session identifier. Subsequent requests include this session identifier as a HTTP cookie.</p>
</li>
</ul></div></div>
<div><h1 class="break" id="resources">Resources</h1></div>
<div id="resource-information">
<div class="method-body" id="method-get system information"><h2>information: get system information</h2>
<p>Get basic information about the system, including version, model, and management addresses.</p>
<pre>GET https://{device}/api/common/1.1/info</pre>
<span class="h4">Authorization</span>
<p>This request does not require authorization.</p><span class="h4">Response Body</span>
<p>On success, the server returns a response body with the following structure:</p>
<div>
<div class="tabContainer" id="response-information.get system information-tabs">
<ul class="digiTabs" id="response-information.get system information-tabbar">
<li class="selected" id="response-information.get system information-tab-json" onclick="showtab(&quot;response-information.get system information&quot;, &quot;json&quot;)">JSON</li>
<li id="response-information.get system information-tab-xml" onclick="showtab(&quot;response-information.get system information&quot;, &quot;xml&quot;)">XML</li></ul>
<div class="tabContent" id="response-information.get system information-tabcontent">
<pre class="jsonschema"><span>{
</span><span class="jsonschema-property">  "mgmt_addresses": </span><span><span>[
    </span><span><span class="jsonschema-type">string</span></span><span>
  ]</span></span><span>,
</span><span class="jsonschema-property">  "device_name": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "serial": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "model": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "hw_version": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "sw_version": </span><span><span class="jsonschema-type">string</span></span><span>
</span><span>}</span><span>

Example:
{
  "mgmt_addresses": [
    "172.16.222.131"
  ], 
  "device_name": "my_shark", 
  "serial": "N/A", 
  "model": "vShark", 
  "sw_version": "10.0.0000.0000"
}
</span></pre>
</div>
<div id="response-information.get system information-json" style="display:none">
<pre class="jsonschema"><span>{
</span><span class="jsonschema-property">  "mgmt_addresses": </span><span><span>[
    </span><span><span class="jsonschema-type">string</span></span><span>
  ]</span></span><span>,
</span><span class="jsonschema-property">  "device_name": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "serial": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "model": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "hw_version": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "sw_version": </span><span><span class="jsonschema-type">string</span></span><span>
</span><span>}</span><span>

Example:
{
  "mgmt_addresses": [
    "172.16.222.131"
  ], 
  "device_name": "my_shark", 
  "serial": "N/A", 
  "model": "vShark", 
  "sw_version": "10.0.0000.0000"
}
</span></pre>
</div>
<div id="response-information.get system information-xml" style="display:none">
<pre class="jsonschema"><span>&lt;</span><span class="xmlschema-element">info</span><span class="xmlschema-attribute"> device_name</span><span>=</span><span class="xmlschema-type">string</span><span class="xmlschema-attribute">
      serial</span><span>=</span><span class="xmlschema-type">string</span><span class="xmlschema-attribute">
      model</span><span>=</span><span class="xmlschema-type">string</span><span class="xmlschema-attribute">
      hw_version</span><span>=</span><span class="xmlschema-type">string</span><span class="xmlschema-attribute">
      sw_version</span><span>=</span><span class="xmlschema-type">string</span><span>&gt;
</span><span><span>  &lt;</span><span class="xmlschema-element">mgmt_addresses</span><span>&gt;
</span><span><span class="xmlschema-element">    &lt;address&gt;</span><span class="xmlschema-type">string</span><span class="xmlschema-element">&lt;/address&gt;
</span></span><span>  &lt;/</span><span class="xmlschema-element">mgmt_addresses</span><span>&gt;
</span></span><span>&lt;/</span><span class="xmlschema-element">info</span><span>&gt;
</span><span>

Example:
&lt;info device_name="my_shark" model="vShark" serial="N/A" sw_version="10.0.0000.0000"&gt;
  &lt;mgmt_addresses&gt;
    &lt;address&gt;172.16.222.131&lt;/address&gt;
  &lt;/mgmt_addresses&gt;
&lt;/info&gt;

</span></pre>
</div></div></div>
<div>
<div id="response-information.get system information-table" style="clear:both">
<table class="paramtable">
<colgroup>
<col class="paramtable-propname">
<col class="paramtable-proptype">
<col class="paramtable-description">
<col class="paramtable-notes"></colgroup><tbody>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th></tr>
<tr>
<td><span class="jsonschema-basename">info</span></td>
<td><span class="jsonschema-type">&lt;object&gt;</span></td>
<td>General information about this Shark</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">info.</span><span class="property">mgmt_addresses</span></td>
<td><span class="jsonschema-type">&lt;array of &lt;string&gt;&gt;</span></td>
<td>Management IP addresses for this Shark</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">info.</span><span class="property">mgmt_addresses</span><span class="property">[address]</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td></td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">info.</span><span class="property">device_name</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Host name for this Shark</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">info.</span><span class="property">serial</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Serial number of this Shark</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">info.</span><span class="property">model</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Model of this Shark</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">info.</span><span class="property">hw_version</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Hardware version of this Shark (does not apply to Shark VE)</td>
<td>Optional</td></tr>
<tr>
<td><span class="jsonschema-basename">info.</span><span class="property">sw_version</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Software version of this Shark</td>
<td></td></tr></tbody></table></div></div></div>
<div class="method-body" id="method-list services"><h2 class="break">information: list services</h2>
<p>List the service identifier and version for the various API services available on this system.</p>
<pre>GET https://{device}/api/common/1.1/services</pre>
<span class="h4">Authorization</span>
<p>This request does not require authorization.</p><span class="h4">Response Body</span>
<p>On success, the server returns a response body with the following structure:</p>
<div>
<div class="tabContainer" id="response-information.list services-tabs">
<ul class="digiTabs" id="response-information.list services-tabbar">
<li class="selected" id="response-information.list services-tab-json" onclick="showtab(&quot;response-information.list services&quot;, &quot;json&quot;)">JSON</li>
<li id="response-information.list services-tab-xml" onclick="showtab(&quot;response-information.list services&quot;, &quot;xml&quot;)">XML</li></ul>
<div class="tabContent" id="response-information.list services-tabcontent">
<pre class="jsonschema"><span>[
  </span><span><span>{
</span><span class="jsonschema-property">    "id": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">    "versions": </span><span><span>[
      </span><span><span class="jsonschema-type">string</span></span><span>
    ]</span></span><span>
</span><span>  }</span></span><span>
]</span><span>

Example:
[
  {
    "id": "common", 
    "versions": [
      "1.0", 
      "1.1"
    ]
  }, 
  {
    "id": "shark", 
    "versions": [
      "3.2", 
      "4.0", 
      "5.0", 
      "5.1"
    ]
  }
]
</span></pre>
</div>
<div id="response-information.list services-json" style="display:none">
<pre class="jsonschema"><span>[
  </span><span><span>{
</span><span class="jsonschema-property">    "id": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">    "versions": </span><span><span>[
      </span><span><span class="jsonschema-type">string</span></span><span>
    ]</span></span><span>
</span><span>  }</span></span><span>
]</span><span>

Example:
[
  {
    "id": "common", 
    "versions": [
      "1.0", 
      "1.1"
    ]
  }, 
  {
    "id": "shark", 
    "versions": [
      "3.2", 
      "4.0", 
      "5.0", 
      "5.1"
    ]
  }
]
</span></pre>
</div>
<div id="response-information.list services-xml" style="display:none">
<pre class="jsonschema"><span>&lt;</span><span class="xmlschema-element">services</span><span>&gt;
</span><span><span>  &lt;</span><span class="xmlschema-element">service</span><span class="xmlschema-attribute"> id</span><span>=</span><span class="xmlschema-type">string</span><span>&gt;
</span><span><span>    &lt;</span><span class="xmlschema-element">versions</span><span>&gt;
</span><span><span class="xmlschema-element">      &lt;version&gt;</span><span class="xmlschema-type">string</span><span class="xmlschema-element">&lt;/version&gt;
</span></span><span>    &lt;/</span><span class="xmlschema-element">versions</span><span>&gt;
</span></span><span>  &lt;/</span><span class="xmlschema-element">service</span><span>&gt;
</span></span><span>&lt;/</span><span class="xmlschema-element">services</span><span>&gt;
</span><span>

Example:
&lt;services&gt;
  &lt;service id="common"&gt;
    &lt;versions&gt;
      &lt;version&gt;1.0&lt;/version&gt;
      &lt;version&gt;1.1&lt;/version&gt;
    &lt;/versions&gt;
  &lt;/service&gt;
  &lt;service id="shark"&gt;
    &lt;versions&gt;
      &lt;version&gt;3.2&lt;/version&gt;
      &lt;version&gt;4.0&lt;/version&gt;
      &lt;version&gt;5.0&lt;/version&gt;
      &lt;version&gt;5.1&lt;/version&gt;
    &lt;/versions&gt;
  &lt;/service&gt;
&lt;/services&gt;

</span></pre>
</div></div></div>
<div>
<div id="response-information.list services-table" style="clear:both">
<table class="paramtable">
<colgroup>
<col class="paramtable-propname">
<col class="paramtable-proptype">
<col class="paramtable-description">
<col class="paramtable-notes"></colgroup><tbody>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th></tr>
<tr>
<td><span class="jsonschema-basename">services</span></td>
<td><span class="jsonschema-type">&lt;array of &lt;object&gt;&gt;</span></td>
<td>List of common services available on this Shark</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">services</span><span class="property">[service]</span></td>
<td><span class="jsonschema-type">&lt;object&gt;</span></td>
<td>Description of an available service</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">services</span><span class="property">[service].</span><span class="property">id</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Identifier for the service</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">services</span><span class="property">[service].</span><span class="property">versions</span></td>
<td><span class="jsonschema-type">&lt;array of &lt;string&gt;&gt;</span></td>
<td>Available versions for service 'id'</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">services</span><span class="property">[service].</span><span class="property">versions</span><span class="property">[version]</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td></td>
<td></td></tr></tbody></table></div></div></div>
<div class="method-body" id="method-ping"><h2 class="break">information: ping</h2>
<p>Check availability of the system</p>
<pre>GET https://{device}/api/common/1.1/ping</pre>
<span class="h4">Authorization</span>
<p>This request does not require authorization.</p><span class="h4">Response Body</span>
<p>On success, the server does not provide any body in the responses.</p></div></div>
<div id="resource-authentication">
<div class="method-body" id="method-authentication info"><h2 class="break">authentication: authentication info</h2>
<p>Get information required to authenticate to the system.</p>
<pre>GET https://{device}/api/common/1.1/auth_info</pre>
<span class="h4">Authorization</span>
<p>This request does not require authorization.</p><span class="h4">Response Body</span>
<p>On success, the server returns a response body with the following structure:</p>
<div>
<div class="tabContainer" id="response-authentication.authentication info-tabs">
<ul class="digiTabs" id="response-authentication.authentication info-tabbar">
<li class="selected" id="response-authentication.authentication info-tab-json" onclick="showtab(&quot;response-authentication.authentication info&quot;, &quot;json&quot;)">JSON</li>
<li id="response-authentication.authentication info-tab-xml" onclick="showtab(&quot;response-authentication.authentication info&quot;, &quot;xml&quot;)">XML</li></ul>
<div class="tabContent" id="response-authentication.authentication info-tabcontent">
<pre class="jsonschema"><span>{
</span><span class="jsonschema-property">  "supported_methods": </span><span><span>[
    </span><span><span class="jsonschema-type">string</span></span><span>
  ]</span></span><span>,
</span><span class="jsonschema-property">  "specify_purpose": </span><span><span class="jsonschema-type">boolean</span></span><span>,
</span><span class="jsonschema-property">  "login_banner": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "allow_password_save": </span><span><span class="jsonschema-type">boolean</span></span><span>
</span><span>}</span><span>

Example:
{
  "supported_methods": [
    "BASIC", 
    "COOKIE", 
    "OAUTH_2_0"
  ], 
  "specify_purpose": false, 
  "login_banner": "", 
  "allow_password_save": false
}
</span></pre>
</div>
<div id="response-authentication.authentication info-json" style="display:none">
<pre class="jsonschema"><span>{
</span><span class="jsonschema-property">  "supported_methods": </span><span><span>[
    </span><span><span class="jsonschema-type">string</span></span><span>
  ]</span></span><span>,
</span><span class="jsonschema-property">  "specify_purpose": </span><span><span class="jsonschema-type">boolean</span></span><span>,
</span><span class="jsonschema-property">  "login_banner": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "allow_password_save": </span><span><span class="jsonschema-type">boolean</span></span><span>
</span><span>}</span><span>

Example:
{
  "supported_methods": [
    "BASIC", 
    "COOKIE", 
    "OAUTH_2_0"
  ], 
  "specify_purpose": false, 
  "login_banner": "", 
  "allow_password_save": false
}
</span></pre>
</div>
<div id="response-authentication.authentication info-xml" style="display:none">
<pre class="jsonschema"><span>&lt;</span><span class="xmlschema-element">auth_info</span><span class="xmlschema-attribute"> specify_purpose</span><span>=</span><span class="xmlschema-type">boolean</span><span class="xmlschema-attribute">
           login_banner</span><span>=</span><span class="xmlschema-type">string</span><span class="xmlschema-attribute">
           allow_password_save</span><span>=</span><span class="xmlschema-type">boolean</span><span>&gt;
</span><span><span>  &lt;</span><span class="xmlschema-element">supported_methods</span><span>&gt;
</span><span><span class="xmlschema-element">    &lt;method&gt;</span><span class="xmlschema-type">string</span><span class="xmlschema-element">&lt;/method&gt;
</span></span><span>  &lt;/</span><span class="xmlschema-element">supported_methods</span><span>&gt;
</span></span><span>&lt;/</span><span class="xmlschema-element">auth_info</span><span>&gt;
</span><span>

Example:
&lt;auth_info allow_password_save="False" login_banner="" specify_purpose="False"&gt;
  &lt;supported_methods&gt;
    &lt;method&gt;BASIC&lt;/method&gt;
    &lt;method&gt;COOKIE&lt;/method&gt;
    &lt;method&gt;OAUTH_2_0&lt;/method&gt;
  &lt;/supported_methods&gt;
&lt;/auth_info&gt;

</span></pre>
</div></div></div>
<div>
<div id="response-authentication.authentication info-table" style="clear:both">
<table class="paramtable">
<colgroup>
<col class="paramtable-propname">
<col class="paramtable-proptype">
<col class="paramtable-description">
<col class="paramtable-notes"></colgroup><tbody>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th></tr>
<tr>
<td><span class="jsonschema-basename">auth_info</span></td>
<td><span class="jsonschema-type">&lt;object&gt;</span></td>
<td>Information about authentication protocols</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">auth_info.</span><span class="property">supported_methods</span></td>
<td><span class="jsonschema-type">&lt;array of &lt;string&gt;&gt;</span></td>
<td>Available authentication methods</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">auth_info.</span><span class="property">supported_methods</span><span class="property">[method]</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Authentication method</td>
<td>Values: BASIC, COOKIE, OAUTH_2_0</td></tr>
<tr>
<td><span class="jsonschema-basename">auth_info.</span><span class="property">specify_purpose</span></td>
<td><span class="jsonschema-type">&lt;boolean&gt;</span></td>
<td>Indication if the user should be prompted to include a purpose with the login request</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">auth_info.</span><span class="property">login_banner</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Banner to be displayed on login page</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">auth_info.</span><span class="property">allow_password_save</span></td>
<td><span class="jsonschema-type">&lt;boolean&gt;</span></td>
<td>Indicates if the user is allowed to store the client password locally</td>
<td>Optional</td></tr></tbody></table></div></div></div>
<div class="method-body" id="method-login"><h2 class="break">authentication: login</h2>
<p>Authenticate to the system for session-based authentication. The response will include the information needed to construct a session cookie, and will also include the Set-Cookie HTTP header.</p>
<pre>POST https://{device}/api/common/1.1/login</pre>
<span class="h4">Authorization</span>
<p>This request does not require authorization.</p><span class="h4">Request Body</span>
<p>Provide a request body with the following structure:</p>
<div>
<div class="tabContainer" id="request-authentication.login-tabs">
<ul class="digiTabs" id="request-authentication.login-tabbar">
<li class="selected" id="request-authentication.login-tab-json" onclick="showtab(&quot;request-authentication.login&quot;, &quot;json&quot;)">JSON</li>
<li id="request-authentication.login-tab-xml" onclick="showtab(&quot;request-authentication.login&quot;, &quot;xml&quot;)">XML</li></ul>
<div class="tabContent" id="request-authentication.login-tabcontent">
<pre class="jsonschema"><span>{
</span><span class="jsonschema-property">  "username": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "password": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "purpose": </span><span><span class="jsonschema-type">string</span></span><span>
</span><span>}</span><span>

Example:
{
  "username": "user1", 
  "password": "MyPassWord", 
  "purpose": "Logging in to test this Shark."
}
</span></pre>
</div>
<div id="request-authentication.login-json" style="display:none">
<pre class="jsonschema"><span>{
</span><span class="jsonschema-property">  "username": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "password": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "purpose": </span><span><span class="jsonschema-type">string</span></span><span>
</span><span>}</span><span>

Example:
{
  "username": "user1", 
  "password": "MyPassWord", 
  "purpose": "Logging in to test this Shark."
}
</span></pre>
</div>
<div id="request-authentication.login-xml" style="display:none">
<pre class="jsonschema"><span>&lt;</span><span class="xmlschema-element">login</span><span class="xmlschema-attribute"> username</span><span>=</span><span class="xmlschema-type">string</span><span class="xmlschema-attribute">
       password</span><span>=</span><span class="xmlschema-type">string</span><span class="xmlschema-attribute">
       purpose</span><span>=</span><span class="xmlschema-type">string</span><span>/&gt;
</span><span>

Example:
&lt;login password="MyPassWord" purpose="Logging in to test this Shark." username="user1"/&gt;

</span></pre>
</div></div></div>
<div>
<div id="request-authentication.login-table" style="clear:both">
<table class="paramtable">
<colgroup>
<col class="paramtable-propname">
<col class="paramtable-proptype">
<col class="paramtable-description">
<col class="paramtable-notes"></colgroup><tbody>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th></tr>
<tr>
<td><span class="jsonschema-basename">login</span></td>
<td><span class="jsonschema-type">&lt;object&gt;</span></td>
<td>Login request information for a Shark session</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">login.</span><span class="property">username</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>The user account to log in with</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">login.</span><span class="property">password</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>The password of the given account</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">login.</span><span class="property">purpose</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>The stated purpose of the login session</td>
<td>Optional; Should only be included if specify_purpose is enabled in the auth_info structure</td></tr></tbody></table></div></div><span class="h4">Response Body</span>
<p>On success, the server returns a response body with the following structure:</p>
<div>
<div class="tabContainer" id="response-authentication.login-tabs">
<ul class="digiTabs" id="response-authentication.login-tabbar">
<li class="selected" id="response-authentication.login-tab-json" onclick="showtab(&quot;response-authentication.login&quot;, &quot;json&quot;)">JSON</li>
<li id="response-authentication.login-tab-xml" onclick="showtab(&quot;response-authentication.login&quot;, &quot;xml&quot;)">XML</li></ul>
<div class="tabContent" id="response-authentication.login-tabcontent">
<pre class="jsonschema"><span>{
</span><span class="jsonschema-property">  "session_key": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "session_id": </span><span><span class="jsonschema-type">string</span></span><span>
</span><span>}</span><span>

Example:
{
  "session_key": "pilot_session_id", 
  "session_id": "b9d2e3b2-32b7-11e2-b4da-000c29c8cc69"
}
</span></pre>
</div>
<div id="response-authentication.login-json" style="display:none">
<pre class="jsonschema"><span>{
</span><span class="jsonschema-property">  "session_key": </span><span><span class="jsonschema-type">string</span></span><span>,
</span><span class="jsonschema-property">  "session_id": </span><span><span class="jsonschema-type">string</span></span><span>
</span><span>}</span><span>

Example:
{
  "session_key": "pilot_session_id", 
  "session_id": "b9d2e3b2-32b7-11e2-b4da-000c29c8cc69"
}
</span></pre>
</div>
<div id="response-authentication.login-xml" style="display:none">
<pre class="jsonschema"><span>&lt;</span><span class="xmlschema-element">login</span><span class="xmlschema-attribute"> session_key</span><span>=</span><span class="xmlschema-type">string</span><span class="xmlschema-attribute">
       session_id</span><span>=</span><span class="xmlschema-type">string</span><span>/&gt;
</span><span>

Example:
&lt;login session_id="b9d2e3b2-32b7-11e2-b4da-000c29c8cc69" session_key="pilot_session_id"/&gt;

</span></pre>
</div></div></div>
<div>
<div id="response-authentication.login-table" style="clear:both">
<table class="paramtable">
<colgroup>
<col class="paramtable-propname">
<col class="paramtable-proptype">
<col class="paramtable-description">
<col class="paramtable-notes"></colgroup><tbody>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th></tr>
<tr>
<td><span class="jsonschema-basename">login</span></td>
<td><span class="jsonschema-type">&lt;object&gt;</span></td>
<td>Information available in response to a successful login</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">login.</span><span class="property">session_key</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Cookie name used to identify the session</td>
<td></td></tr>
<tr>
<td><span class="jsonschema-basename">login.</span><span class="property">session_id</span></td>
<td><span class="jsonschema-type">&lt;string&gt;</span></td>
<td>Unique session identifier ID</td>
<td>Should be set as the value of the 'session_key' cookie</td></tr></tbody></table></div></div></div>
<div class="method-body" id="method-logout"><h2 class="break">authentication: logout</h2>
<p>Log out from the system. The request must include a session cookie and will invalidate that cookie for future requests.</p>
<pre>POST https://{device}/api/common/1.1/logout</pre>
<span class="h4">Authorization</span>
<p>This request requires authorization.</p><span class="h4">Request Body</span>
<p>Do not provide a request body.</p><span class="h4">Response Body</span>
<p>On success, the server does not provide any body in the responses.</p></div></div>
<div><h1 id="error-codes">Error Codes</h1>
<p>In the event that an error occurs while processing a request, the server will respond with appropriate HTTP status code and additional information in the response body:</p>
<pre>{
     "error_id":   "{error identifier}",
     "error_text": "{error description}",
     "error_info": {error specific data structure, optional}
}</pre>
<p>The table below lists the possible errors and the associated HTTP status codes that may returned.</p>
<table class="paramtable"><tbody>
<tr>
<th>Error ID</th>
<th>HTTP Status</th>
<th>Comments</th></tr>
<tr>
<td>REQUEST_INVALID_INPUT</td>
<td>400</td>
<td>The request is invalid</td></tr>
<tr>
<td>AUTH_REQUIRED</td>
<td>401</td>
<td>Missing authentication credentials</td></tr>
<tr>
<td>AUTH_INVALID_CREDENTIALS</td>
<td>401</td>
<td>Invalid user name or password</td></tr>
<tr>
<td>AUTH_INVALID_SESSION</td>
<td>401</td>
<td>The authentication session has timed out or is invalid</td></tr>
<tr>
<td>AUTH_EXPIRED_PASSWORD</td>
<td>401</td>
<td>Account password has expired</td></tr>
<tr>
<td>AUTH_INVALID_CODE</td>
<td>401</td>
<td>The Oauth access code is invalid</td></tr>
<tr>
<td>AUTH_EXPIRED_TOKEN</td>
<td>401</td>
<td>The Oauth token has expired</td></tr>
<tr>
<td>AUTH_EXPIRED_CODE</td>
<td>401</td>
<td>The Oauth access code has expired</td></tr>
<tr>
<td>AUTH_DISABLED_ACCOUNT</td>
<td>403</td>
<td>Account has been disabled</td></tr>
<tr>
<td>AUTH_FORBIDDEN</td>
<td>403</td>
<td>Account does not have privileges for this request</td></tr>
<tr>
<td>AUTH_INVALID_TOKEN</td>
<td>403</td>
<td>The Oauth token is invalid</td></tr>
<tr>
<td>RESOURCE_NOT_FOUND</td>
<td>404</td>
<td>The requested resource was not found</td></tr>
<tr>
<td>HTTP_INVALID_METHOD</td>
<td>405</td>
<td>The requested method is not supported by this resouce</td></tr>
<tr>
<td>INTERNAL_ERROR</td>
<td>500</td>
<td>Internal error occurred</td></tr></tbody></table></div></div></div>
<div class="footer">Copyright &#169; Riverbed Technology Inc. 2013</div></body></html>
