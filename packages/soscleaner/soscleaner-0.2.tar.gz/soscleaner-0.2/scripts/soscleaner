#!/usr/bin/env python
#
#SOSCleaner Executable

from soscleaner import SOSCleaner
from optparse import OptionParser
import sys

version = '0.1'

def main():

    parser = OptionParser(usage="%prog [-l-r] /path/to/sosreport" )
    parser.add_option("-l", "--log_level", dest="loglevel", default='INFO', help="The Desired Log Level (default = INFO) Options are DEBUG, INFO, WARNING, ERROR", metavar="LOGLEVEL")
    parser.add_option("-d", "--domain", action="append", default=[], dest="domains", help="additional domain to obfuscate (optional)", metavar="DOMAIN")
    parser.add_option("-q", "--quiet", action="store_true", default=False, dest='quiet', help="disable output to STDOUT", metavar="QUIET")

    (options, args) = parser.parse_args()
    if not args:
        parser.print_help()
        sys.exit(1)
    sosreport = args[0] #grab the sosreport path
    cleaner = SOSCleaner(quiet=options.quiet)
    cleaner.clean_report(options, sosreport)

if __name__ == '__main__':
    main()

